<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" *ngIf="!showEditForm">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{!showEditForm ? 'Detalles del' : 'Editar datos del'}} Devocional</ion-title>
    <ion-buttons slot="end">
      <ion-button color="success" (click)="setShowEditForm()" *ngIf="!showEditForm">
        <ion-icon name="pencil-outline" slot="start"></ion-icon>
        <ion-text>Editar</ion-text>
      </ion-button>
      <ion-button color="danger" (click)="confirmRemove()" *ngIf="!showEditForm">
        <ion-icon name="trash-outline" slot="start"></ion-icon>
        <ion-text>Eliminar</ion-text>
      </ion-button>
      <ion-button color="danger" (click)="confirmCancel()" *ngIf="showEditForm">
        <ion-icon name="close-outline" slot="start"></ion-icon>
        <ion-text>Cancelar</ion-text>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row *ngIf="devotional">
    <ion-col size="12" *ngIf="!showEditForm">
      <ion-card>
        <div
          class="banner-devotional"
          [ngStyle]="{backgroundImage: 'url(' + (devotional.picture || 'assets/cruz.png') + '), url(assets/cruz.png)', height: '260px'}"
        >
        </div>
        <ion-card-content>
          <ion-row>
            <ion-col size="12">
              <ion-card-title>{{devotional.title}}</ion-card-title>
              <ion-card-subtitle>
                <span *ngIf="devotional.user">Por: {{devotional.user?.names}} {{devotional.user?.lastNames}} - </span>
                {{devotional.created_at}}
              </ion-card-subtitle>
            </ion-col>
            <ion-col size="12" *ngIf="devotional.urlVideo">
              <app-video-player [urlVideo]="devotional.urlVideo"></app-video-player>
            </ion-col>
            <ion-col size="12">
              <div [innerHTML]="devotional.description"></div>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </ion-col>
    <ion-col size="12" *ngIf="showEditForm">
      <app-devocionales-form
        [data]="devotional"
        [handleCancel]="handleCancel"
        [handleSave]="handleSave"
      ></app-devocionales-form>
    </ion-col>
  </ion-row>

</ion-content>
