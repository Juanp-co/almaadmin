<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="confirmClose()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Registrar visita</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>
    <ion-card-content>
      <ion-row>
        <ion-col class="" size="12">
          <ion-row>
            <ion-col size="12" size-sm="6">
              <ion-item>
                <ion-label position="floating" color="medium">Miembro (*)</ion-label>
                <ion-input
                  [readonly]="true"
                  [value]="getConsolidatorsNames()"
                  autocomplete="off"
                  class="no-selected-text"
                  (click)="showMembersModal()"
                ></ion-input>
              </ion-item>
            </ion-col>
            <ion-col size="12" size-sm="6">
              <ion-item>
                <ion-label position="floating" color="medium">Fecha de la visita (*)</ion-label>
                <ion-datetime
                  [(ngModel)]="formData.date"
                  displayFormat="DD/MM/YYYY"
                  [min]="minInitDate"
                  [max]="maxInitDate"
                  doneText="Listo"
                  cancelText="Cancelar"
                ></ion-datetime>
              </ion-item>
            </ion-col>
            <ion-col size="12" size-sm="6">
              <ion-list>
                <ion-radio-group [(ngModel)]="formData.action">
                  <ion-list-header>
                    <ion-label>Acción</ion-label>
                  </ion-list-header>
                  <ion-item *ngFor="let a of listActions; let i=index">
                    <ion-label>{{a}}</ion-label>
                    <ion-radio slot="start" value="{{i}}"></ion-radio>
                  </ion-item>
                </ion-radio-group>
              </ion-list>
            </ion-col>
            <ion-col size="12" size-sm="6">
              <ion-item>
                <ion-label position="floating" color="medium">Observaciones (*)</ion-label>
                <ion-textarea
                  [(ngModel)]="formData.observation"
                  rows="5"
                  class="ion-text-uppercase"
                  placeholder="Indica alguna observación..."
                ></ion-textarea>
              </ion-item>
            </ion-col>
            <ion-col size="12" class="ion-margin-top">
              <ion-text color="medium"><i class="toSmall">(*) Campos requeridos.</i></ion-text>
            </ion-col>
            <ion-col size="12" class="ion-margin-top ion-margin-bottom ion-text-center">
              <ion-button color="light" (click)="confirmClose()">
                <ion-icon name="close-outline" slot="start"></ion-icon>
                <ion-text>Cancelar</ion-text>
              </ion-button>
              <ion-button color="primary" (click)="confirmSave()">
                <ion-icon name="save-outline" slot="start"></ion-icon>
                <ion-text>Guardar</ion-text>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>
