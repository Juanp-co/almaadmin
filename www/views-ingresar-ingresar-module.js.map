{"version":3,"sources":["./src/app/views/ingresar/ingresar.page.ts","./src/app/views/ingresar/ingresar.page.scss","./src/app/views/ingresar/ingresar.page.html","./src/app/views/ingresar/ingresar-routing.module.ts","./src/app/views/ingresar/ingresar.module.ts"],"names":[],"mappings":"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","file":"views-ingresar-ingresar-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {AxiosService} from '../../services/axios.service';\nimport {AlertController, NavController} from '@ionic/angular';\nimport {CookiesService} from '../../services/cookies.service';\nimport {Router} from '@angular/router';\nimport {GlobalService} from '../../services/global.service';\nimport {AppComponent} from '../../app.component';\n\n@Component({\n  selector: 'app-ingresar',\n  templateUrl: './ingresar.page.html',\n  styleUrls: ['./ingresar.page.scss'],\n})\nexport class IngresarPage implements OnInit {\n\n  session: any = false;\n  phone = '31612345678';\n  pass = 'password';\n\n  constructor(\n    private alertCtrl: AlertController,\n    private axios: AxiosService,\n    private cookieService: CookiesService,\n    private globalSer: GlobalService,\n    private navCtrl: NavController,\n    private router: Router,\n    private globalComponent: AppComponent,\n  ) {\n  }\n\n  async ngOnInit() {\n    if (this.globalSer.checkSession())\n      this.router.navigate(['/inicio']);\n    else {\n      this.globalComponent.session = false;\n      this.globalComponent.userData = null;\n    }\n  }\n\n  async ionViewWillEnter() {\n    if (this.globalSer.checkSession())\n      this.router.navigate(['/inicio']);\n    else {\n      this.globalComponent.session = false;\n      this.globalComponent.userData = null;\n    }\n  }\n\n  async ingresar() {\n    if (this.pass && this.phone) {\n      await this.globalSer.presentLoading();\n\n      const res: any = await this.axios.postData(\n        '/login',\n        { phone: this.phone, password: this.pass, admin: true }\n      );\n\n      if (res && res.success) {\n        const { data, token } = res.data;\n        this.cookieService.setCookie('token', token);\n        this.cookieService.setCookie('data', data);\n        this.globalComponent.session = true;\n        this.globalComponent.userData = data;\n        await this.globalSer.dismissLoading();\n        await this.router.navigate(['/inicio']);\n      }\n      else {\n        this.phone = null;\n        this.pass = null;\n        await this.globalSer.dismissLoading();\n        await this.globalSer.presentAlert('Alerta', res && res.error ? res.error : 'Error desconocido.');\n      }\n    } else {\n      await this.globalSer.presentAlert('Alerta', 'Asegúrese de indicar su usuario y contraseña.');\n    }\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpbmdyZXNhci5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Ingresar</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-row class=\\\"ion-justify-content-center ion-margin-top ion-padding-top\\\" *ngIf=\\\"!session\\\">\\n    <ion-col [size]=\\\"8\\\">\\n      <div class=\\\"ion-margin-top ion-padding-top\\\">\\n        <br><br><br>\\n\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-col size=\\\"auto\\\">\\n            <h4>\\n              <ion-text color=\\\"primary\\\">\\n                Ingresar al panel administrador\\n              </ion-text>\\n            </h4>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-col size=\\\"8\\\">\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Nº de teléfono</ion-label>\\n              <ion-input [(ngModel)]=\\\"phone\\\" class=\\\"ion-text-uppercase\\\" maxlength=\\\"13\\\"></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center\\\">\\n          <ion-col size=\\\"8\\\">\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\">Contraseña</ion-label>\\n              <ion-input type=\\\"password\\\" [(ngModel)]=\\\"pass\\\"></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row class=\\\"ion-justify-content-center ion-margin-top\\\">\\n          <ion-col size=\\\"auto\\\">\\n            <ion-button expand=\\\"full\\\" color=\\\"primary\\\" (click)=\\\"ingresar()\\\">\\n              Ingresar\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IngresarPage } from './ingresar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IngresarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IngresarPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IngresarPageRoutingModule } from './ingresar-routing.module';\n\nimport { IngresarPage } from './ingresar.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IngresarPageRoutingModule\n  ],\n  declarations: [IngresarPage]\n})\nexport class IngresarPageModule {}\n"],"sourceRoot":"webpack:///"}