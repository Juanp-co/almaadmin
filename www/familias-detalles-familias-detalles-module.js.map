{"version":3,"sources":["./src/app/views/familias/familias-detalles/familias-detalles.module.ts","./src/app/views/familias/familias-detalles/familias-detalles.page.ts","./src/app/views/familias/familias-detalles/familias-detalles.page.html","./src/app/views/familias/familias-detalles/familias-detalles.page.scss","./src/app/views/familias/familias-detalles/familias-detalles-routing.module.ts"],"names":[],"mappings":"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","file":"familias-detalles-familias-detalles-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FamiliasDetallesPageRoutingModule } from './familias-detalles-routing.module';\r\n\r\nimport { FamiliasDetallesPage } from './familias-detalles.page';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FamiliasDetallesPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [FamiliasDetallesPage]\r\n})\r\nexport class FamiliasDetallesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AlertController, NavController} from '@ionic/angular';\r\nimport {FamiliasService} from '../familias.service';\r\nimport {GlobalService} from '../../../services/global.service';\r\nimport {AxiosService} from '../../../services/axios.service';\r\nimport {checkCodeValue, checkTitlesOrDescriptions} from '../../../../Utils/validations.functions';\r\n\r\n@Component({\r\n  selector: 'app-familias-detalles',\r\n  templateUrl: './familias-detalles.page.html',\r\n  styleUrls: ['./familias-detalles.page.scss'],\r\n})\r\nexport class FamiliasDetallesPage implements OnInit {\r\n  title = 'Cargando...';\r\n  id: any = null;\r\n  staticData: any = null;\r\n  group: any = null;\r\n  edit = false;\r\n  formData: any = null;\r\n  findMembers = false;\r\n  users: any = [];\r\n  selectedUsers: any = [];\r\n  selectedUsersIds: any = [];\r\n  queryParams: any = {\r\n    limit: 100,\r\n    page: 1,\r\n    input: 'name',\r\n    value: 1,\r\n    word: null\r\n  };\r\n  handleAdd = (id: string): void => this.addToSelected(id);\r\n  handleRemove = (id: string): void => this.removeOfSelected(id);\r\n  handleDelete = (id: string): Promise<void> => this.confirmRemoveMember(id);\r\n\r\n  constructor(\r\n    private activateRoute: ActivatedRoute,\r\n    private alertCtrl: AlertController,\r\n    private axios: AxiosService,\r\n    private globalSer: GlobalService,\r\n    private familiasService: FamiliasService,\r\n    private navCtrl: NavController,\r\n    private router: Router,\r\n  ) {\r\n    // check if exist session\r\n    if (!this.globalSer.checkSession()) this.router.navigate(['/ingresar']);\r\n  }\r\n\r\n  async ngOnInit() {\r\n    this.id = this.activateRoute.snapshot.paramMap.get('id');\r\n    await this.globalSer.presentLoading();\r\n    const data: any = await this.familiasService.getGroupDetails(this.id);\r\n\r\n    if (data && !data.error) {\r\n      this.staticData = {...data};\r\n      this.group = {...this.staticData};\r\n      this.title = `Grupo: ${this.group.name}`;\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n    else if (data && data.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    if (!this.globalSer.checkSession())\r\n      this.router.navigate(['/ingresar']);\r\n  }\r\n\r\n  // actions\r\n  async updateData() {\r\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\r\n\r\n    const data: any = {...this.formData};\r\n    const updated = await this.familiasService.updateGroup(this.id, data);\r\n\r\n    if (updated && !updated.error) {\r\n      this.group = {...this.group, ...updated};\r\n      this.staticData = {...updated};\r\n      await this.editEnable(true);\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado los datos del grupo exitosamente.');\r\n    }\r\n    else if (updated && updated.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async deleteGroup() {\r\n    await this.globalSer.presentLoading('Eliminando, por favor espere ...');\r\n\r\n    const deleted = await this.familiasService.deleteGroup(this.id);\r\n\r\n    if (deleted && !deleted.error) {\r\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha eliminado los datos del grupo exitosamente.');\r\n      await this.navCtrl.back();\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n    else if (deleted && deleted.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async addOrRemoveMembersGroup(action: string) {\r\n    await this.globalSer.presentLoading('Actualizando listado de miembros, por favor espere ...');\r\n\r\n    const data = {\r\n      members: action === 'remove' ? this.group.members.map(m => m._id) : this.selectedUsersIds\r\n    };\r\n\r\n    const res = await this.familiasService.updateMembersListGroup(this.id, action, data);\r\n\r\n    if (res && !res.error) {\r\n      if (action === 'add') {\r\n        this.group.members = this.group.members.concat(this.selectedUsers);\r\n        this.staticData.members = this.group.members;\r\n        this.users = [];\r\n        this.selectedUsers = [];\r\n        this.selectedUsersIds = [];\r\n        this.findMembers = false;\r\n      }\r\n      else {\r\n        this.staticData.members = this.group.members;\r\n      }\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado el listado de miembros exitosamente.');\r\n    }\r\n    else if (res && res.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else {\r\n      this.group.members = this.staticData.members;\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n  }\r\n\r\n  async findMembersList() {\r\n    await this.globalSer.presentLoading('Cargando, por favor espere ...');\r\n\r\n    const data = await this.familiasService.findMembersToGroup(this.id, this.queryParams);\r\n\r\n    if (data && !data.error) {\r\n      this.users = data;\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n    else if (data && data.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else {\r\n      this.findMembers = false;\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n  }\r\n\r\n  // actions and validations\r\n  validateData(): string|null {\r\n    if (!checkTitlesOrDescriptions(this.formData.name))\r\n      return 'Disculpe, pero debe indicar un nombre correcto para el grupo.';\r\n\r\n    return null;\r\n  }\r\n\r\n  async back() {\r\n    await this.navCtrl.back();\r\n  }\r\n\r\n  async showFindUsers() {\r\n    this.users = [];\r\n    this.selectedUsers = [];\r\n    this.selectedUsersIds = [];\r\n    this.findMembers = !this.findMembers;\r\n    if (this.findMembers) await this.findMembersList();\r\n    else this.queryParams.word = null;\r\n  }\r\n\r\n  addToSelected(id: string) {\r\n    const user = this.users.find(u => u._id === id);\r\n    if (user) {\r\n      this.selectedUsers.push(user);\r\n      this.selectedUsersIds.push(id);\r\n    }\r\n  }\r\n\r\n  removeOfSelected(id: string) {\r\n    this.selectedUsers = this.selectedUsers.filter(s => s._id !== id);\r\n    this.selectedUsersIds = this.selectedUsersIds.filter(u => u !== id);\r\n  }\r\n\r\n  checkAdded(id: string) {\r\n    return this.selectedUsersIds.indexOf(id) > -1;\r\n  }\r\n\r\n  async editEnable(edited = false) {\r\n    if (!edited) await this.globalSer.presentLoading();\r\n\r\n    this.edit = !this.edit;\r\n\r\n    if (this.edit) {\r\n      this.formData = {\r\n        _id: this.group._id,\r\n        name: this.group.name,\r\n        code: this.group.code,\r\n      };\r\n      this.title = `Editar datos de: ${this.formData.name}`;\r\n    }\r\n    else {\r\n      this.title = `Grupo: ${this.group.name}`;\r\n      this.formData = null;\r\n    }\r\n\r\n    if (!edited) await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  // alerts\r\n  async confirmSaveNewMembers() {\r\n    if (this.selectedUsers.length > 0) {\r\n      let message = `¿Está seguro qué desea agregar a estos miembros en el grupo?`;\r\n\r\n      for (const m of this.selectedUsers) {\r\n        message += `<br/><br/>- <b>${m.names} ${m.lastNames}</b> - <i>${m.document}</i>`;\r\n      }\r\n\r\n      const alert = await this.alertCtrl.create({\r\n        cssClass: 'max-width-640',\r\n        header: 'Agregar miembros',\r\n        message,\r\n        buttons: [\r\n          {\r\n            text: 'Cancelar',\r\n            role: 'cancel',\r\n            cssClass: 'secondary',\r\n            handler: () => {\r\n            }\r\n          }, {\r\n            text: 'Sí',\r\n            handler: () => {\r\n              this.addOrRemoveMembersGroup('add');\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      await alert.present();\r\n    }\r\n    else {\r\n      await this.globalSer.presentAlert('Alerta', 'Nada que agregar.');\r\n      this.showFindUsers();\r\n    }\r\n  }\r\n\r\n  async confirmRemoveMember(id: string) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Confirme',\r\n      message: `¿Está seguro qué desea remover a este miembro de este grupo?`,\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: () => {}\r\n        }, {\r\n          text: 'Sí',\r\n          handler: () => {\r\n            this.group.members = this.group.members.filter(m => m._id !== id);\r\n            this.addOrRemoveMembersGroup('remove');\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async confirmUpdate() {\r\n    const validated = this.validateData();\r\n\r\n    if (!validated) {\r\n      this.formData.name = this.formData.name.trim();\r\n      this.formData.code = this.formData.code.trim();\r\n      this.globalSer.alertConfirm({\r\n        header: 'Confirme',\r\n        message: '¿Está seguro qué desea actualizar el nombre de este grupo?',\r\n        confirmAction: () => { this.updateData(); }\r\n      });\r\n    }\r\n    else {\r\n      await this.globalSer.presentAlert('Alerta', validated || 'Disculpe, pero debe completar el formulario.');\r\n    }\r\n  }\r\n\r\n  async confirmDelete() {\r\n    this.globalSer.alertConfirm({\r\n      header: 'Confirme',\r\n      message: `¿Está seguro qué desea borrar a este grupo?\r\n        <br/><br/>\r\n        NOTA: Todos los miembros asociados volverán a estar disponibles para ser reasignados.\r\n      `,\r\n      confirmAction: () => this.deleteGroup()\r\n    });\r\n  }\r\n\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" *ngIf=\\\"!edit\\\">\\r\\n      <ion-button (click)=\\\"back()\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{ title }}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" *ngIf=\\\"!findMembers\\\">\\r\\n      <ion-button color=\\\"primary\\\" (click)=\\\"editEnable()\\\" *ngIf=\\\"edit\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-text>Cancelar edición</ion-text>\\r\\n      </ion-button>\\r\\n      <ion-button color=\\\"primary\\\" (click)=\\\"editEnable()\\\" *ngIf=\\\"!edit\\\">\\r\\n        <ion-icon name=\\\"create-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-text>Editar</ion-text>\\r\\n      </ion-button>\\r\\n      <ion-button color=\\\"danger\\\" (click)=\\\"confirmDelete()\\\" *ngIf=\\\"!edit\\\">\\r\\n        <ion-icon name=\\\"trash-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-text>Eliminar</ion-text>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-row>\\r\\n    <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"edit && formData\\\">\\r\\n      <ion-card>\\r\\n        <ion-card-content>\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Nombre del grupo (*)</ion-label>\\r\\n                <ion-input [(ngModel)]=\\\"formData.name\\\" autocomplete=\\\"off\\\" class=\\\"ion-text-uppercase\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" size-sm=\\\"12\\\" class=\\\"ion-margin-top\\\">\\r\\n              <ion-text color=\\\"medium\\\"><i class=\\\"toSmall\\\">(*) Campos requeridos.</i></ion-text>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" size-sm=\\\"12\\\" class=\\\"ion-margin-top ion-margin-bottom ion-text-center\\\">\\r\\n              <ion-button color=\\\"medium\\\" (click)=\\\"editEnable()\\\">\\r\\n                <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                <ion-text>Cancelar</ion-text>\\r\\n              </ion-button>\\r\\n              <ion-button color=\\\"primary\\\" (click)=\\\"confirmUpdate()\\\">\\r\\n                <ion-icon name=\\\"save-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                <ion-text>Guardar</ion-text>\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n    <!-- list members -->\\r\\n    <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"!edit && group && group.members && !findMembers\\\">\\r\\n      <ion-card>\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n          <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n            <ion-toolbar color=\\\"primary\\\">\\r\\n              <ion-title>Listado de miembros ({{ group.members ? group.members.length : 0 }})</ion-title>\\r\\n              <ion-buttons slot=\\\"end\\\">\\r\\n                <ion-button (click)=\\\"showFindUsers()\\\">\\r\\n                  <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n                  <ion-text>Agregar miembros</ion-text>\\r\\n                </ion-button>\\r\\n              </ion-buttons>\\r\\n            </ion-toolbar>\\r\\n          </ion-card-header>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n          <div *ngIf=\\\"group.members && group.members.length > 0; else noMembers\\\">\\r\\n            <ion-row class=\\\"ion-margin-top\\\">\\r\\n              <ion-col [size]=\\\"6\\\" *ngFor=\\\"let m of group.members\\\">\\r\\n                <app-user-group-card\\r\\n                  [user]=\\\"m\\\"\\r\\n                  [showButtonDetails]=\\\"true\\\"\\r\\n                  [handleDelete]=\\\"handleDelete\\\"\\r\\n                ></app-user-group-card>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </div>\\r\\n          <ng-template #noMembers>\\r\\n            <ion-row class=\\\"ion-margin-top\\\">\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <ion-text color=\\\"medium\\\">\\r\\n                  <p class=\\\"ion-text-center\\\">\\r\\n                    <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> No existen miembros registrados en este grupo.\\r\\n                  </p>\\r\\n                </ion-text>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ng-template>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n\\r\\n    <!-- add members -->\\r\\n    <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"!edit && findMembers\\\">\\r\\n      <ion-card>\\r\\n        <ion-card-header>\\r\\n          <ion-row>\\r\\n            <ion-col [size]=\\\"12\\\" size-sm=\\\"7\\\">\\r\\n              <ion-toolbar>\\r\\n                <ion-button color=\\\"medium\\\" (click)=\\\"queryParams.word = null; findMembersList()\\\" slot=\\\"start\\\" *ngIf=\\\"queryParams.word\\\">\\r\\n                  <ion-icon name=\\\"backspace-outline\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n                <ion-item>\\r\\n                  <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Buscar por nombre o número de documento</ion-label>\\r\\n                  <ion-input\\r\\n                    [(ngModel)]=\\\"queryParams.word\\\"\\r\\n                    autocomplete=\\\"off\\\"\\r\\n                    class=\\\"ion-text-uppercase\\\"\\r\\n                    maxlength=\\\"20\\\"\\r\\n                  ></ion-input>\\r\\n                </ion-item>\\r\\n                <ion-button color=\\\"medium\\\" (click)=\\\"findMembersList()\\\" slot=\\\"end\\\">\\r\\n                  <ion-icon name=\\\"search-outline\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n              </ion-toolbar>\\r\\n            </ion-col>\\r\\n            <ion-col [size]=\\\"12\\\" size-sm=\\\"5\\\" class=\\\"ion-text-right\\\">\\r\\n              <ion-button color=\\\"primary\\\" (click)=\\\"confirmSaveNewMembers()\\\" [disabled]=\\\"selectedUsers.length === 0\\\">\\r\\n                <ion-icon name=\\\"save-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                <ion-text>Guardar</ion-text>\\r\\n              </ion-button>\\r\\n              <ion-button color=\\\"medium\\\" (click)=\\\"showFindUsers()\\\">\\r\\n                <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                <ion-text>Cancelar</ion-text>\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n          <div *ngIf=\\\"users && users.length > 0; else noUsers\\\">\\r\\n            <ion-row>\\r\\n              <ion-col [size]=\\\"6\\\" *ngFor=\\\"let u of users\\\">\\r\\n                <app-user-group-card\\r\\n                  [user]=\\\"u\\\"\\r\\n                  [handleAdd]=\\\"handleAdd\\\"\\r\\n                  [handleRemove]=\\\"handleRemove\\\"\\r\\n                  [added]=\\\"checkAdded(u._id)\\\"\\r\\n                ></app-user-group-card>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </div>\\r\\n          <ng-template #noUsers>\\r\\n            <ion-text color=\\\"medium\\\">\\r\\n              <p class=\\\"ion-text-center\\\"><ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> No se encontraron miembros.</p>\\r\\n            </ion-text>\\r\\n          </ng-template>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","export default \"::ng-deep .max-width-640 {\\n  --max-width: 640px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcZmFtaWxpYXMtZGV0YWxsZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0Usa0JBQUE7QUFBSiIsImZpbGUiOiJmYW1pbGlhcy1kZXRhbGxlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAge1xyXG4gIC5tYXgtd2lkdGgtNjQwIHtcclxuICAgIC0tbWF4LXdpZHRoOiA2NDBweDtcclxuICB9XHJcbn1cclxuIl19 */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FamiliasDetallesPage } from './familias-detalles.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FamiliasDetallesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FamiliasDetallesPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}