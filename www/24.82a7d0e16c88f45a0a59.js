(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"8C+O":function(e,t,n){"use strict";n.r(t),n.d(t,"CursosPageModule",function(){return w});var i=n("ofXK"),r=n("3Pt+"),s=n("TEn/"),o=n("tyNb"),u=n("mrSG"),a=n("fXoL"),c=n("BpEJ"),l=n("4WDQ"),d=n("Vtiu");function p(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-buttons",3),a.Mb(1,"ion-button",4),a.Ub("click",function(){return a.ic(e),a.Wb().goToCreate()}),a.Kb(2,"ion-icon",5),a.pc(3," Nuevo curso "),a.Lb(),a.Lb()}}function b(e,t){if(1&e&&(a.Mb(0,"ion-col",8),a.Kb(1,"app-cursoscard",9),a.Lb()),2&e){const e=t.$implicit;a.xb(1),a.Zb("course",e)("list",!0)}}function f(e,t){if(1&e&&(a.Mb(0,"ion-row",6),a.nc(1,b,2,2,"ion-col",7),a.Lb()),2&e){const e=a.Wb();a.xb(1),a.Zb("ngForOf",e.courses)}}function h(e,t){1&e&&(a.Mb(0,"ion-card",10),a.Mb(1,"ion-text",11),a.Mb(2,"p",12),a.Kb(3,"ion-icon",13),a.pc(4," No existen cursos registrados. "),a.Lb(),a.Lb(),a.Lb())}const g=[{path:"",component:(()=>{class e{constructor(e,t,n){this.cursosService=e,this.globalSer=t,this.router=n,this.courses=[],this.totals=0,this.page=1,this.showAddButton=!1,this.queryParams={input:"level",value:1,page:1,limit:100,title:null},this.handlePage=e=>{this.queryParams.page=e,this.getCoursesList()},this.globalSer.checkSession()||this.router.navigate(["/ingresar"])}ngOnInit(){this.showAddButton=this.globalSer.checkRoleToEnableAddOrUpdate()}ionViewWillEnter(){return Object(u.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?yield this.getCoursesList():this.router.navigate(["/ingresar"])})}getCoursesList(){return Object(u.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const e=yield this.cursosService.getCourses(this.queryParams);e&&!e.error?(this.courses=e,yield this.globalSer.dismissLoading()):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}goToCreate(){return Object(u.a)(this,void 0,void 0,function*(){yield this.router.navigate(["/cursos/crear"])})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(c.a),a.Jb(l.a),a.Jb(o.g))},e.\u0275cmp=a.Db({type:e,selectors:[["app-cursos"]],decls:9,vars:3,consts:[["slot","end",4,"ngIf"],["class","ion-justify-content-center",4,"ngIf","ngIfElse"],["noCourses",""],["slot","end"],["color","primary",3,"click"],["name","add-outline","slot","start"],[1,"ion-justify-content-center"],["size","12","size-sm","6","size-md","4",4,"ngFor","ngForOf"],["size","12","size-sm","6","size-md","4"],[3,"course","list"],[1,"ion-no-padding"],["color","medium"],[1,"ion-text-center"],["name","alert-circle-outline"]],template:function(e,t){if(1&e&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-title"),a.pc(3,"Cursos"),a.Lb(),a.nc(4,p,4,0,"ion-buttons",0),a.Lb(),a.Lb(),a.Mb(5,"ion-content"),a.nc(6,f,2,1,"ion-row",1),a.nc(7,h,5,0,"ng-template",null,2,a.oc),a.Lb()),2&e){const e=a.hc(8);a.xb(4),a.Zb("ngIf",t.showAddButton),a.xb(2),a.Zb("ngIf",t.courses&&t.courses.length>0)("ngIfElse",e)}},directives:[s.r,s.P,s.N,i.i,s.o,s.f,s.e,s.s,s.E,i.h,s.n,d.a,s.g,s.K],styles:[""]}),e})()},{path:"crear",loadChildren:()=>n.e(38).then(n.bind(null,"PDbM")).then(e=>e.CrearPageModule)},{path:":id",loadChildren:()=>Promise.all([n.e(2),n.e(6),n.e(18)]).then(n.bind(null,"v0qv")).then(e=>e.DetallesCursoPageModule)}];let v=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(g)],o.j]}),e})();var m=n("j1ZV");let w=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[i.b,r.a,s.Q,v,m.a]]}),e})()},BpEJ:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),r=n("OmbT"),s=n("lmIc"),o=n("fXoL"),u=n("1Ldg"),a=n("4WDQ");let c=(()=>{class e{constructor(e,t){this.axios=e,this.globalSer=t,this.inputTypeList=[{val:"text",label:"Caja de texto simple"},{val:"textarea",label:"Caja de texto extensa"},{val:"radio",label:"Respuesta \xfanica"},{val:"checkbox",label:"Respuesta m\xfaltiple"}],this.levelsList=[{val:1,label:"Nivel 1"},{val:2,label:"Nivel 2"},{val:3,label:"Nivel 3"},{val:4,label:"Nivel 4"},{val:5,label:"Nivel 5"}]}getRoles(e){let t="";if(e.length>0)for(const n of e)""===t?t=s.b[n-1]:t+=", "+s.b[n-1];return t}getCourses(e={}){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.getData("/admin/courses",e);return t&&t.success?t.data.courses:this.globalSer.altResponse(t)})}getCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.getData("/admin/courses/"+e);return t&&t.success?t.data.course:this.globalSer.altResponse(t)})}createCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.postData("/admin/courses",e);return t&&t.success?t.data.msg:this.globalSer.altResponse(t)})}updateCourse(e,t,n){return Object(i.a)(this,void 0,void 0,function*(){const i=yield this.axios.putData(`/admin/courses/${t}/${e}`,n);return i&&i.success?i.data.course:this.globalSer.altResponse(i)})}updateBannerCourse(e,t){return Object(i.a)(this,void 0,void 0,function*(){const n=yield this.axios.putData(`/admin/courses/${e}/banner`,t);return n&&n.success?n.data.banner:this.globalSer.altResponse(n)})}deleteCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.deleteData("/admin/courses/"+e);return t&&t.success?t.data.msg:this.globalSer.altResponse(t)})}createThemeCourse(e,t){return Object(i.a)(this,void 0,void 0,function*(){const n=yield this.axios.postData(`/admin/courses/${e}/theme`,t);return n&&n.success?n.data.theme:this.globalSer.altResponse(n)})}updateThemeCourse(e,t,n){return Object(i.a)(this,void 0,void 0,function*(){const i=yield this.axios.putData(`/admin/courses/${e}/theme/${t}`,n);return i&&i.success?i.data.theme:this.globalSer.altResponse(i)})}deleteThemeCourse(e,t){return Object(i.a)(this,void 0,void 0,function*(){const n=yield this.axios.deleteData(`/admin/courses/${e}/theme/${t}`);return n&&n.success?n.data.msg:this.globalSer.altResponse(n)})}publishCourse(e){return Object(i.a)(this,void 0,void 0,function*(){const t=yield this.axios.putData(`/admin/courses/${e}/enable`);return t&&t.success?t.data.data:this.globalSer.altResponse(t)})}validationRegister(e){return Object(r.k)(e.title)?Object(r.k)(e.description)?-1===[1,2,3,4,5].indexOf(e.level)?"Disculpe, pero debe indicar el nivel del nuevo curso.":0===e.toRoles.length?"Disculpe, pero debe indicar los roles a los que va dirigido el curso.":null:"Disculpe, pero debe indicar una descripci\xf3n para el curso.":"Disculpe, pero debe indicar un t\xedtulo para el curso."}validationEdit(e,t){if("content"===e){if(!Object(r.k)(t.title))return"Disculpe, pero debe indicar un t\xedtulo para el tema.";if(!t.urlVideo&&!t.description)return"Disculpe, pero debe indicar una descripci\xf3n o una enlace a un video.";if(!t.urlVideo&&t.description&&t.description.length<=5)return"Disculpe, pero debe indicar una descripci\xf3n v\xe1lida para el contenido.";if(t.urlVideo&&!t.description&&!Object(r.n)(t.urlVideo))return"Disculpe, pero debe indicar un enlace v\xe1lido para el contenido. S\xf3lo se permiten enlaces de YouTube."}else if("info"===e){if(!Object(r.k)(t.title))return"Disculpe, pero debe indicar un t\xedtulo para el curso.";if(!Object(r.k)(t.description))return"Disculpe, pero debe indicar una descripci\xf3n para el curso.";if(0===t.toRoles.length)return"Disculpe, pero debe indicar los roles a los que va dirigido el curso.";if(!Object(r.h)(t.speaker))return"Disculpe, pero debe indicar el nombre del ponente del curso.";if(!Object(r.k)(t.speakerPosition))return"Disculpe, pero debe indicar el cargo o la posici\xf3n del ponente."}else if("theme"===e){if(!Object(r.k)(t.title))return"Disculpe, pero debe indicar un t\xedtulo para el tema.";if(t.description&&t.description.length<=5)return"Disculpe, pero debe indicar una descripci\xf3n v\xe1lida para el tema."}else if("question"===e){if(!Object(r.k)(t.title))return"Disculpe, pero debe indicar un t\xedtulo para la pregunta.";if(t.description&&t.description.length<=5)return"Disculpe, pero debe indicar una descripci\xf3n v\xe1lida para la pregunta.";if(t.quiz&&0===t.quiz.length)return"Disculpe, pero agregar preguntas para el Quiz.";{let e=!1,n=null;for(const i of t.quiz)if(Object(r.k)(i.title)||(n="Disculpe, pero debe indicar un t\xedtulo para la pregunta."),i.description&&i.description.length<=5&&(n="Disculpe, pero debe indicar una descripci\xf3n v\xe1lida para la pregunta."),i.inputType||(n="Disculpe, pero debe indicar el tipo de campo para la pregunta."),-1===["text","textarea"].indexOf(""+i.inputType)&&(i.values||0!==i.values.length||(n="Disculpe, pero debe indicar opciones disponibles para la respuesta."),null===i.correctAnswer&&(n="Disculpe, pero debe seleccionar una respuesta correcta.")),n){e=!0;break}if(e)return n}}return null}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(u.a),o.Qb(a.a))},e.\u0275prov=o.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},OmbT:function(e,t,n){"use strict";function i(e){return e&&/^([A-Z\u00C0-\u024F\u1E00-\u1EFF]?)+([[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+[,.]?[ ]?|[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+['-]]?)+$/.test(e)}function r(e){const t=String.fromCharCode(e.charCode);/[0-9.,]/.test(t)||e.preventDefault()}function s(e){const t=String.fromCharCode(e.charCode);/[0-9]/.test(t)||e.preventDefault()}function o(e){const{value:t}=e.target;/^([A-Z\u00C0-\u024F\u1E00-\u1EFF]?)+([[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+[,.]?[ ]?|[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+['-]]?)+$/.test(t)||(e.target.value=t.substring(0,t.length-1))}function u(e){return e&&/^[0-9]{1,3}/.test(""+e)}function a(e){return e&&/^[\+]?[(]?([0-9]{2})?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e)}function c(e){return e&&/^(?=.*\d)?(?=.*[A-Z]{1})?(?=.*[a-z]{1}?)?(?=.*[^\w\d\s:]?)([^\s]){6,25}$/.test(e)}function l(e){return e&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function d(e){return e&&/^[a-zA-Z\xc1\xc9\xcd\xd3\xda\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xe1\xe9\xed\xf3\xfa\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xf1\xd10-9\s.,#*?\xbf\xa1!()\-+"'/@]{5,2000}/g.test(e)}function p(e){return e&&/\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])*/.test(""+e)}function b(e){return e&&/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(e)}function f(e,t=!1){return!!e&&(t?e.substr(0,40).indexOf("data:application/pdf")>-1:e.substr(0,21).indexOf("data:image/")>-1)}function h(e){return/^(?:(?:(?:http?|https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(""+e)}function g(e){return/(?:https?:\/\/)?(?:www|m\.)?(facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/gi.test(""+e)}function v(e){return/(?:(?:http|https):\/\/)?(?:www\.)?(?:instagram\.com|instagr\.am)\/([A-Za-z0-9-_\.\/]+)/i.test(""+e)}function m(e){return/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/(#!\/)?[a-zA-Z0-9_]+$/i.test(""+e)}function w(e){return/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/i.test(""+e)}function D(e,t=!1){return e?t?e.replace(/\n/g,"<br/>"):e.replace(/<br ?\/?>|<BR ?\/?>/g,"\n"):null}function C(e){return e?e.replace(/&NBSP;/g," "):null}n.d(t,"h",function(){return i}),n.d(t,"p",function(){return r}),n.d(t,"q",function(){return s}),n.d(t,"o",function(){return o}),n.d(t,"f",function(){return u}),n.d(t,"j",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return f}),n.d(t,"m",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return v}),n.d(t,"l",function(){return m}),n.d(t,"n",function(){return w}),n.d(t,"s",function(){return D}),n.d(t,"r",function(){return C})}}]);