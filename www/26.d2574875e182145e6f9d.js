(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{zeWn:function(o,n,i){"use strict";i.r(n),i.d(n,"IngresarPageModule",function(){return m});var e=i("ofXK"),t=i("3Pt+"),s=i("TEn/"),r=i("tyNb"),a=i("mrSG"),b=i("fXoL"),l=i("1Ldg"),c=i("QTu/"),u=i("4WDQ"),d=i("Sy1n");function g(o,n){if(1&o){const o=b.Nb();b.Mb(0,"ion-row",1),b.Mb(1,"ion-col",2),b.Mb(2,"div",3),b.Kb(3,"br"),b.Kb(4,"br"),b.Kb(5,"br"),b.Mb(6,"ion-row",4),b.Mb(7,"ion-col",5),b.Mb(8,"h4"),b.Mb(9,"ion-text",6),b.mc(10," Acceder al panel administrador "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(11,"ion-row",4),b.Mb(12,"ion-col",7),b.Mb(13,"ion-item"),b.Mb(14,"ion-label",8),b.mc(15,"Usuario"),b.Lb(),b.Mb(16,"ion-input",9),b.Ub("ngModelChange",function(n){return b.gc(o),b.Wb().user=n}),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(17,"ion-row",4),b.Mb(18,"ion-col",7),b.Mb(19,"ion-item"),b.Mb(20,"ion-label",8),b.mc(21,"Contrase\xf1a"),b.Lb(),b.Mb(22,"ion-input",10),b.Ub("ngModelChange",function(n){return b.gc(o),b.Wb().pass=n}),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(23,"ion-row",11),b.Mb(24,"ion-col",5),b.Mb(25,"ion-button",12),b.Ub("click",function(){return b.gc(o),b.Wb().ingresar()}),b.mc(26," Ingresar "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()}if(2&o){const o=b.Wb();b.xb(1),b.Zb("size",8),b.xb(15),b.Zb("ngModel",o.user),b.xb(6),b.Zb("ngModel",o.pass)}}const p=[{path:"",component:(()=>{class o{constructor(o,n,i,e,t,s,r){this.alertCtrl=o,this.axios=n,this.cookieService=i,this.globalSer=e,this.navCtrl=t,this.router=s,this.globalComponent=r,this.session=!1,this.user="CC123456789",this.pass="password"}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?this.router.navigate(["/inicio"]):(this.globalComponent.session=!1,this.globalComponent.userData=null)})}ionViewWillEnter(){return Object(a.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?this.router.navigate(["/inicio"]):(this.globalComponent.session=!1,this.globalComponent.userData=null)})}ingresar(){return Object(a.a)(this,void 0,void 0,function*(){if(this.pass&&this.user){yield this.globalSer.presentLoading();const o=yield this.axios.postData("/login",{document:this.user,password:this.pass,admin:!0});if(o&&o.success){const{data:n,token:i}=o.data;this.cookieService.setCookie("token",i),this.cookieService.setCookie("data",n),this.globalComponent.session=!0,this.globalComponent.userData=n,yield this.globalSer.dismissLoading(),yield this.router.navigate(["/inicio"])}else this.user=null,this.pass=null,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("Alerta",o&&o.error?o.error:"Error desconocido.")}else yield this.globalSer.presentAlert("Alerta","Aseg\xfarese de indicar su usuario y contrase\xf1a.")})}}return o.\u0275fac=function(n){return new(n||o)(b.Jb(s.a),b.Jb(l.a),b.Jb(c.a),b.Jb(u.a),b.Jb(s.P),b.Jb(r.g),b.Jb(d.a))},o.\u0275cmp=b.Db({type:o,selectors:[["app-ingresar"]],decls:6,vars:1,consts:[["class","ion-justify-content-center ion-margin-top ion-padding-top",4,"ngIf"],[1,"ion-justify-content-center","ion-margin-top","ion-padding-top"],[3,"size"],[1,"ion-margin-top","ion-padding-top"],[1,"ion-justify-content-center"],["size","auto"],["color","primary"],["size","8"],["position","floating"],["maxlength","12","placeholder","Ejm: CC12345678",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[1,"ion-justify-content-center","ion-margin-top"],["expand","full","color","primary",3,"click"]],template:function(o,n){1&o&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.mc(3,"Ingresar"),b.Lb(),b.Lb(),b.Lb(),b.Mb(4,"ion-content"),b.kc(5,g,27,3,"ion-row",0),b.Lb()),2&o&&(b.xb(5),b.Zb("ngIf",!n.session))},directives:[s.r,s.K,s.J,s.o,e.i,s.D,s.n,s.H,s.v,s.w,s.u,s.T,t.b,t.e,t.f,s.e],styles:[""]}),o})()}];let h=(()=>{class o{}return o.\u0275mod=b.Hb({type:o}),o.\u0275inj=b.Gb({factory:function(n){return new(n||o)},imports:[[r.j.forChild(p)],r.j]}),o})(),m=(()=>{class o{}return o.\u0275mod=b.Hb({type:o}),o.\u0275inj=b.Gb({factory:function(n){return new(n||o)},imports:[[e.b,t.a,s.L,h]]}),o})()}}]);