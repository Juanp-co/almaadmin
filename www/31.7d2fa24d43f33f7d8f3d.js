(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{OmbT:function(e,i,t){"use strict";function o(e){return e&&/^([A-Z\u00C0-\u024F\u1E00-\u1EFF]?)+([[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+[,.]?[ ]?|[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+['-]]?)+$/.test(e)}function n(e){const i=String.fromCharCode(e.charCode);/[0-9.,]/.test(i)||e.preventDefault()}function a(e){const i=String.fromCharCode(e.charCode);/[0-9]/.test(i)||e.preventDefault()}function s(e){const{value:i}=e.target;/^([A-Z\u00C0-\u024F\u1E00-\u1EFF]?)+([[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+[,.]?[ ]?|[A-Za-z\u00C0-\u024F\u1E00-\u1EFF]+['-]]?)+$/.test(i)||(e.target.value=i.substring(0,i.length-1))}function r(e){return e&&/^[0-9]{1,3}/.test(""+e)}function l(e){return e&&/^[\+]?[(]?([0-9]{2})?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(e)}function b(e){return e&&/^(?=.*\d)?(?=.*[A-Z]{1})?(?=.*[a-z]{1}?)?(?=.*[^\w\d\s:]?)([^\s]){6,25}$/.test(e)}function c(e){return e&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}function d(e){return e&&/^[a-zA-Z\xc1\xc9\xcd\xd3\xda\xc0\xc8\xcc\xd2\xd9\xe0\xe8\xec\xf2\xf9\xe1\xe9\xed\xf3\xfa\xc2\xca\xce\xd4\xdb\xe2\xea\xee\xf4\xfb\xc4\xcb\xcf\xd6\xdc\xe4\xeb\xef\xf6\xfc\xf1\xd10-9\s.,#*?\xbf\xa1!()\-+"'/@]{5,2000}/g.test(e)}function u(e){return e&&/\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])*/.test(""+e)}function m(e){return e&&/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(e)}function h(e,i=!1){return!!e&&(i?e.substr(0,40).indexOf("data:application/pdf")>-1:e.substr(0,21).indexOf("data:image/")>-1)}function f(e){return/^(?:(?:(?:http?|https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(""+e)}function p(e){return/(?:https?:\/\/)?(?:www|m\.)?(facebook|fb)\.(com|me)\/(?:(?:\w\.)*#!\/)?(?:pages\/)?(?:[\w\-\.]*\/)*([\w\-\.]*)/gi.test(""+e)}function g(e){return/(?:(?:http|https):\/\/)?(?:www\.)?(?:instagram\.com|instagr\.am)\/([A-Za-z0-9-_\.\/]+)/i.test(""+e)}function L(e){return/^(?:https?:\/\/)?(?:www\.)?twitter\.com\/(#!\/)?[a-zA-Z0-9_]+$/i.test(""+e)}function v(e){return/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|v\/)?)([\w\-]+)(\S+)?$/i.test(""+e)}function M(e,i=!1){return e?i?e.replace(/\n/g,"<br/>"):e.replace(/<br ?\/?>|<BR ?\/?>/g,"\n"):null}function y(e){return e?e.replace(/&NBSP;/g," "):null}t.d(i,"h",function(){return o}),t.d(i,"p",function(){return n}),t.d(i,"q",function(){return a}),t.d(i,"o",function(){return s}),t.d(i,"f",function(){return r}),t.d(i,"j",function(){return l}),t.d(i,"i",function(){return b}),t.d(i,"c",function(){return c}),t.d(i,"k",function(){return d}),t.d(i,"b",function(){return u}),t.d(i,"e",function(){return m}),t.d(i,"a",function(){return h}),t.d(i,"m",function(){return f}),t.d(i,"d",function(){return p}),t.d(i,"g",function(){return g}),t.d(i,"l",function(){return L}),t.d(i,"n",function(){return v}),t.d(i,"s",function(){return M}),t.d(i,"r",function(){return y})},ZMlI:function(e,i,t){"use strict";t.r(i),t.d(i,"DetallesMiembroPageModule",function(){return oe});var o=t("ofXK"),n=t("3Pt+"),a=t("TEn/"),s=t("tyNb"),r=t("mrSG"),l=t("Wgwc"),b=t.n(l),c=(t("4HKe"),t("lmIc")),d=t("OmbT"),u=t("fXoL"),m=t("1Ldg"),h=t("QTu/"),f=t("4WDQ"),p=t("iN9u"),g=t("ZrT4"),L=t("0ox5");function v(e,i){if(1&e&&(u.Mb(0,"ion-row",1),u.Mb(1,"ion-col",2),u.Mb(2,"ion-text"),u.Mb(3,"b"),u.pc(4),u.Lb(),u.Lb(),u.Lb(),u.Mb(5,"ion-col",3),u.Mb(6,"ion-text"),u.pc(7),u.Lb(),u.Lb(),u.Lb()),2&e){const e=u.Wb();u.xb(4),u.qc(e.label||""),u.xb(3),u.qc(e.value||"No indicado")}}let M=(()=>{class e{constructor(){this.show=!0}ngOnInit(){}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u.Db({type:e,selectors:[["app-elem-item"]],inputs:{label:"label",value:"value",show:"show"},decls:1,vars:1,consts:[["class","ion-no-padding",4,"ngIf"],[1,"ion-no-padding"],["size","5"],["size","7"]],template:function(e,i){1&e&&u.nc(0,v,8,2,"ion-row",0),2&e&&u.Zb("ngIf",i.show)},directives:[o.i,a.E,a.n,a.K],styles:[""]}),e})();const y=function(e){return{width:"120px",height:"120px","background-image":e}};function w(e,i){if(1&e&&u.Kb(0,"div",33),2&e){const e=u.Wb(2);u.Zb("ngStyle",u.ec(1,y,"url("+e.member.picture+"), url(assets/icon/"+(1===e.member.gender?"mujer_lista":"hombre_lista")+".svg)"))}}function x(e,i){if(1&e&&u.Kb(0,"div",33),2&e){const e=u.Wb(2);u.Zb("ngStyle",u.ec(1,y,"url(assets/icon/"+(1===e.member.gender?"mujer_lista":"hombre_lista")+".svg)"))}}function D(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-row"),u.Mb(1,"ion-col",1),u.Mb(2,"ion-row",2),u.Mb(3,"ion-col",3),u.nc(4,w,1,3,"div",4),u.nc(5,x,1,3,"div",4),u.Lb(),u.Mb(6,"ion-col",5),u.Mb(7,"ion-row",2),u.Mb(8,"ion-col",6),u.Kb(9,"app-elem-item",7),u.Kb(10,"app-elem-item",8),u.Kb(11,"app-elem-item",9),u.Kb(12,"app-elem-item",10),u.Kb(13,"app-elem-item",11),u.Kb(14,"app-elem-item",12),u.Kb(15,"app-elem-item",13),u.Kb(16,"app-elem-item",14),u.Kb(17,"app-elem-item",15),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Mb(18,"ion-col",16),u.Mb(19,"ion-row",2),u.Mb(20,"ion-col",6),u.Kb(21,"app-elem-item",17),u.Kb(22,"app-elem-item",18),u.Kb(23,"app-elem-item",19),u.Kb(24,"app-elem-item",20),u.Kb(25,"app-elem-item",21),u.Kb(26,"app-elem-item",22),u.Kb(27,"app-elem-item",23),u.Kb(28,"app-elem-item",24),u.Kb(29,"app-elem-item",25),u.Kb(30,"app-elem-item",26),u.Kb(31,"app-elem-item",27),u.Kb(32,"app-elem-item",28),u.Kb(33,"app-elem-item",29),u.Kb(34,"app-elem-item",30),u.Lb(),u.Lb(),u.Lb(),u.Mb(35,"ion-col",3),u.Mb(36,"ion-button",31),u.Ub("click",function(){return u.ic(e),u.Wb().confirmConsolidator()}),u.Kb(37,"ion-icon",32),u.Mb(38,"ion-text"),u.pc(39),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){const e=u.Wb();u.xb(4),u.Zb("ngIf",e.member.picture),u.xb(1),u.Zb("ngIf",!e.member.picture),u.xb(4),u.ac("value",e.member.names||"No indicado"),u.xb(1),u.ac("value",e.member.lastNames||"No indicado"),u.xb(1),u.ac("value",e.member.document||"No indicado"),u.xb(1),u.ac("value",e.getRoleValue()),u.Zb("show",!!e.member.roles),u.xb(1),u.ac("value",e.member.phone||"No indicado"),u.xb(1),u.ac("value",e.member.email||"No indicado"),u.xb(1),u.ac("value",e.member.position||"No indicado"),u.xb(1),u.ac("value",e.member.birthday||"No indicado"),u.xb(1),u.ac("value",e.member.gender||"No indicado"),u.xb(4),u.ac("value",e.member.civilStatus||"No indicado"),u.xb(1),u.ac("value",e.member.church||"Sin asignar"),u.xb(1),u.ac("value",e.member.educationLevel||"No indicado"),u.xb(1),u.ac("value",e.member.profession||"No indicado"),u.xb(1),u.ac("value",e.member.bloodType||"No indicado"),u.xb(1),u.ac("value",e.member.company?"Si":"No"),u.xb(1),u.ac("value",e.member.educationLevel||"No indicado"),u.Zb("show",e.member.company),u.xb(1),u.ac("value",e.member.baptized?"Si":"No"),u.xb(1),u.ac("value",e.member.meetingNew?"Si":"No"),u.xb(1),u.ac("value",e.member.department||"No indicado"),u.xb(1),u.ac("value",e.member.city||"No indicado"),u.xb(1),u.ac("value",e.member.locality||"No indicado"),u.xb(1),u.ac("value",e.member.direction||"No indicado"),u.xb(1),u.ac("value",e.member.petition||"No indicado"),u.Zb("show",e.member.petition),u.xb(2),u.ac("color",e.member.consolidator?"danger":"primary"),u.xb(1),u.bc("name","lock-",e.member.consolidator?"closed":"open","-outline"),u.xb(2),u.rc("",e.member.consolidator?"Quitar":"Asignar"," como consolidador")}}let S=(()=>{class e{constructor(e,i){this.cookiesService=e,this.globalSer=i,this.documentTypes=[],this.educationLevel=[],this.professions=[],this.bloodType=[],this.companyType=[],this.civilStatus=[],this.gender=[],this.churches=[],this.documentTypes=L.d,this.educationLevel=L.e,this.professions=L.g,this.bloodType=L.a,this.companyType=L.c,this.civilStatus=L.b,this.gender=L.f}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){if(this.churches=yield this.cookiesService.getCookie("churches"),this.member){if(this.member.birthday=this.member.birthday?b()(this.member.birthday,"YYYY-MM-DD",!0).locale("es").format("DD [de] MMMM [de] YYYY"):null,this.member.bloodType=L.a[this.member.bloodType]||null,this.member.profession=L.g[this.member.profession]||null,this.member.educationLevel=L.e[this.member.educationLevel]||null,this.member.companyType=L.c[this.member.companyType]||null,this.member.civilStatus=L.b[this.member.civilStatus]||null,this.member.gender=L.f[this.member.gender]||null,null!==this.member.department){const e=g.a[this.member.department]||null;e&&(this.member.department=e.department,null!==this.member.city&&(this.member.city=e.cities[this.member.city]||null))}if("string"==typeof this.member.church){const e=this.churches.find(e=>e._id===this.member.church)||null;e&&(this.member.church=e.name)}}})}getRoleValue(){let e="NO TIENE ASIGNADO NING\xdaN ROL.";if(this.member){const{roles:i}=this.member||{};if((null==i?void 0:i.length)>0){e="";for(const t of i)""===e?e=L.h[t]:e+=", "+L.h[t]}}return e}confirmConsolidator(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"\xa1Confirme!",message:`\xbfEst\xe1 seguro qu\xe9 desea ${this.member.consolidator?"quitar":"asignar"} a este miembro como consolidador a an\xf3nimo?`,confirmAction:()=>this.handleConsolidator?this.handleConsolidator():null})})}}return e.\u0275fac=function(i){return new(i||e)(u.Jb(h.a),u.Jb(f.a))},e.\u0275cmp=u.Db({type:e,selectors:[["app-resume-profile"]],inputs:{member:"member",handleConsolidator:"handleConsolidator"},decls:1,vars:1,consts:[[4,"ngIf"],["size","12","size-sm","6",1,"ion-no-margin","ion-no-padding"],[1,"ion-no-margin","ion-no-padding"],["size","12",1,"ion-text-center"],["class","img-profile-card",3,"ngStyle",4,"ngIf"],["size","12",1,"ion-padding-top"],["size","12",1,"ion-no-margin","ion-no-padding"],["label","Nombre(s)",3,"value"],["label","Apellido(s)",3,"value"],["label","Documento",3,"value"],["label","Roles",3,"value","show"],["label","Tel\xe9fono",3,"value"],["label","Correo elect.",3,"value"],["label","Cargo(s) o posici\xf3n",3,"value"],["label","Fecha de nac.",3,"value"],["label","Sexo",3,"value"],["size","12","size-sm","6",1,"ion-no-margin"],["label","Estado civil",3,"value"],["label","Iglesia",3,"value"],["label","Nivel educativo",3,"value"],["label","Profesi\xf3n",3,"value"],["label","Tipo de sangre",3,"value"],["label","Empresa",3,"value"],["label","Tipo de empresa",3,"value","show"],["label","Bautizado",3,"value"],["label","Asist\xed al curso de nuevos",3,"value"],["label","Departamento",3,"value"],["label","Cuidad",3,"value"],["label","Barrio",3,"value"],["label","Direcci\xf3n",3,"value"],["label","Mi petici\xf3n",3,"value","show"],[3,"color","click"],["slot","start",3,"name"],[1,"img-profile-card",3,"ngStyle"]],template:function(e,i){1&e&&u.nc(0,D,40,31,"ion-row",0),2&e&&u.Zb("ngIf",i.member)},directives:[o.i,a.E,a.n,M,a.e,a.s,a.K,o.j],styles:[""]}),e})();var C=t("nfHg"),N=t("Vtiu");function k(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-buttons",3),u.Mb(1,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb().back()}),u.Kb(2,"ion-icon",5),u.Lb(),u.Lb()}}function A(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",8),u.Ub("click",function(){return u.ic(e),u.Wb(2).confirmDelete()}),u.Kb(1,"ion-icon",9),u.Mb(2,"ion-text"),u.pc(3,"Eliminar miembro"),u.Lb(),u.Lb()}}function Z(e,i){if(1&e&&(u.Mb(0,"ion-buttons",6),u.nc(1,A,4,0,"ion-button",7),u.Lb()),2&e){const e=u.Wb();u.xb(1),u.Zb("ngIf",!e.views.data.edit)}}function z(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb(3).setShowView("data")}),u.Kb(1,"ion-icon",12),u.Lb()}if(2&e){const e=u.Wb(3);u.xb(1),u.bc("name","chevron-",e.views.data.show?"up":"down","-outline")}}function O(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb(3).showFormEdit()}),u.Kb(1,"ion-icon",27),u.Lb()}}function W(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb(3).showFormEditRole()}),u.Kb(1,"ion-icon",27),u.Lb()}}function T(e,i){if(1&e&&(u.Mb(0,"ion-title"),u.pc(1),u.Lb()),2&e){const e=u.Wb(3);u.xb(1),u.qc(e.views.data.label)}}function I(e,i){1&e&&(u.Mb(0,"ion-title"),u.pc(1,"Editar perfil del miembro"),u.Lb())}function R(e,i){1&e&&(u.Mb(0,"ion-title"),u.pc(1,"Cambiar rol del miembro"),u.Lb())}function E(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",29),u.Ub("click",function(){return u.ic(e),u.Wb(4).showFormEdit()}),u.Kb(1,"ion-icon",30),u.Mb(2,"ion-text"),u.pc(3,"Editar"),u.Lb(),u.Lb()}}function K(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-button",29),u.Ub("click",function(){return u.ic(e),u.Wb(4).showFormEditRole()}),u.Kb(1,"ion-icon",31),u.Mb(2,"ion-text"),u.pc(3,"Cambiar rol"),u.Lb(),u.Lb()}}function U(e,i){if(1&e&&(u.Mb(0,"ion-buttons",6),u.nc(1,E,4,0,"ion-button",28),u.nc(2,K,4,0,"ion-button",28),u.Lb()),2&e){const e=u.Wb(3);u.xb(1),u.Zb("ngIf",!e.views.data.edit&&!e.editRole),u.xb(1),u.Zb("ngIf",!e.views.data.edit&&!e.editRole)}}function j(e,i){if(1&e&&(u.Mb(0,"ion-col",32),u.Kb(1,"app-resume-profile",33),u.Lb()),2&e){const e=u.Wb(3);u.xb(1),u.Zb("member",e.staticData)("handleConsolidator",e.handleSetAsConsolidator)}}function F(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-col",55),u.Mb(1,"ion-item"),u.Mb(2,"ion-label",36),u.pc(3,"Tipo de empresa"),u.Lb(),u.Mb(4,"ion-input",44),u.Ub("click",function(){u.ic(e);const i=u.Wb(4);return i.showAlertList("companyType","companyType",i.formData.companyType)}),u.Lb(),u.Lb(),u.Lb()}if(2&e){const e=u.Wb(4);u.xb(4),u.Zb("readonly",!0)("value",e.companyType[e.formData.companyType]||"")}}function Y(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-col",34),u.Mb(1,"ion-row"),u.Mb(2,"ion-col",35),u.Mb(3,"ion-item"),u.Mb(4,"ion-label",36),u.pc(5,"Tel\xe9fono (*)"),u.Lb(),u.Mb(6,"ion-input",37),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.phone=i})("keypress",function(i){return u.ic(e),u.Wb(3).validateOnlyNumber(i)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(7,"ion-col",35),u.Mb(8,"ion-item"),u.Mb(9,"ion-label",36),u.pc(10,"Nombre(s) (*)"),u.Lb(),u.Mb(11,"ion-input",38),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.names=i})("keyup",function(i){return u.ic(e),u.Wb(3).validateOnlyLetters(i)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(12,"ion-col",35),u.Mb(13,"ion-item"),u.Mb(14,"ion-label",36),u.pc(15,"Apellidos(s) (*)"),u.Lb(),u.Mb(16,"ion-input",38),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.lastNames=i})("keyup",function(i){return u.ic(e),u.Wb(3).validateOnlyLetters(i)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(17,"ion-col",35),u.Mb(18,"ion-item"),u.Mb(19,"ion-label",36),u.pc(20,"Fecha de nacimiento"),u.Lb(),u.Mb(21,"ion-datetime",39),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.birthday=i})("ionChange",function(){return u.ic(e),u.Wb(3).setDate()}),u.Lb(),u.Lb(),u.Lb(),u.Mb(22,"ion-col",35),u.Mb(23,"ion-item"),u.Mb(24,"ion-label",36),u.pc(25,"Tipo de documento"),u.Lb(),u.Mb(26,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertDocumentList(i.formData.documentType)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(27,"ion-col",35),u.Mb(28,"ion-item"),u.Mb(29,"ion-label",36),u.pc(30,"N\xfamero de documento"),u.Lb(),u.Mb(31,"ion-input",41),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.document=i})("keypress",function(i){return u.ic(e),u.Wb(3).validateOnlyNumber(i)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(32,"ion-col",35),u.Mb(33,"ion-item"),u.Mb(34,"ion-label",36),u.pc(35,"Correo electr\xf3nico"),u.Lb(),u.Mb(36,"ion-input",42),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.email=i}),u.Lb(),u.Lb(),u.Lb(),u.Mb(37,"ion-col",35),u.Mb(38,"ion-item"),u.Mb(39,"ion-label",36),u.pc(40,"Cargo(s) o posici\xf3n"),u.Lb(),u.Mb(41,"ion-input",38),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.position=i})("keyup",function(i){return u.ic(e),u.Wb(3).validateOnlyLetters(i)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(42,"ion-col",35),u.Mb(43,"ion-item"),u.Mb(44,"ion-label",36),u.pc(45,"Sexo"),u.Lb(),u.Mb(46,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("gender","gender",i.formData.gender)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(47,"ion-col",35),u.Mb(48,"ion-item"),u.Mb(49,"ion-label",36),u.pc(50,"Tipo de sangre"),u.Lb(),u.Mb(51,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("bloodType","bloodType",i.formData.bloodType)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(52,"ion-col",35),u.Mb(53,"ion-item"),u.Mb(54,"ion-label",36),u.pc(55,"Estado civil"),u.Lb(),u.Mb(56,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("civilStatus","civilStatus",i.formData.civilStatus)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(57,"ion-col",35),u.Mb(58,"ion-item"),u.Mb(59,"ion-label",36),u.pc(60,"Nivel educativo"),u.Lb(),u.Mb(61,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("educationLevel","educationLevel",i.formData.educationLevel)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(62,"ion-col",35),u.Mb(63,"ion-item"),u.Mb(64,"ion-label",36),u.pc(65,"Profesi\xf3n"),u.Lb(),u.Mb(66,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("profession","professions",i.formData.profession)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(67,"ion-col",35),u.Mb(68,"ion-item"),u.Mb(69,"ion-label",36),u.pc(70,"\xbfPosee una empresa?"),u.Lb(),u.Mb(71,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertYesOrNotList("company",i.formData.company)}),u.Lb(),u.Lb(),u.Lb(),u.nc(72,F,5,2,"ion-col",43),u.Mb(73,"ion-col",35),u.Mb(74,"ion-item"),u.Mb(75,"ion-label",36),u.pc(76,"\xbfEst\xe1s bautizado?"),u.Lb(),u.Mb(77,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertYesOrNotList("baptized",i.formData.baptized)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(78,"ion-col",35),u.Mb(79,"ion-item"),u.Mb(80,"ion-label",36),u.pc(81,"Iglesia"),u.Lb(),u.Mb(82,"ion-input",44),u.Ub("click",function(){return u.ic(e),u.Wb(3).showAlertChurchesList()}),u.Lb(),u.Lb(),u.Lb(),u.Mb(83,"ion-col",35),u.Mb(84,"ion-item"),u.Mb(85,"ion-label",36),u.pc(86,"Departamento"),u.Lb(),u.Mb(87,"ion-input",44),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("department","departments",i.formData.department)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(88,"ion-col",35),u.Mb(89,"ion-item"),u.Mb(90,"ion-label",36),u.pc(91,"Ciudad"),u.Lb(),u.Mb(92,"ion-input",44),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertList("city","cities",i.formData.city)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(93,"ion-col",35),u.Mb(94,"ion-item"),u.Mb(95,"ion-label",36),u.pc(96,"Barrio o localidad"),u.Lb(),u.Mb(97,"ion-input",45),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.locality=i}),u.Lb(),u.Lb(),u.Lb(),u.Mb(98,"ion-col",35),u.Mb(99,"ion-item"),u.Mb(100,"ion-label",36),u.pc(101,"Direcci\xf3n"),u.Lb(),u.Mb(102,"ion-input",46),u.Ub("ngModelChange",function(i){return u.ic(e),u.Wb(3).formData.direction=i}),u.Lb(),u.Lb(),u.Lb(),u.Mb(103,"ion-col",35),u.Mb(104,"ion-item"),u.Mb(105,"ion-label",36),u.pc(106,"\xbfAsiti\xf3 al curso de nuevo ingreso?"),u.Lb(),u.Mb(107,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showAlertYesOrNotList("meetingNew",i.formData.meetingNew)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(108,"ion-col",47),u.Mb(109,"ion-text",48),u.Mb(110,"i",49),u.pc(111,"(*) Campos requeridos."),u.Lb(),u.Lb(),u.Lb(),u.Mb(112,"ion-col",50),u.Mb(113,"ion-button",51),u.Ub("click",function(){return u.ic(e),u.Wb(3).showFormEdit()}),u.Kb(114,"ion-icon",52),u.Mb(115,"ion-text"),u.pc(116,"Cancelar"),u.Lb(),u.Lb(),u.Mb(117,"ion-button",53),u.Ub("click",function(){return u.ic(e),u.Wb(3).confirmUpdate()}),u.Kb(118,"ion-icon",54),u.Mb(119,"ion-text"),u.pc(120,"Guardar"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){const e=u.Wb(3);u.xb(6),u.Zb("ngModel",e.formData.phone),u.xb(5),u.Zb("ngModel",e.formData.names),u.xb(5),u.Zb("ngModel",e.formData.lastNames),u.xb(5),u.ac("max",e.maxDate),u.Zb("ngModel",e.formData.birthday),u.xb(5),u.Zb("readonly",!0)("value",e.formData.documentType?e.getDocumentLabel(e.formData.documentType):""),u.xb(5),u.Zb("ngModel",e.formData.document),u.xb(5),u.Zb("ngModel",e.formData.email),u.xb(5),u.Zb("ngModel",e.formData.position),u.xb(5),u.Zb("readonly",!0)("value",e.gender[e.formData.gender]||""),u.xb(5),u.Zb("readonly",!0)("value",e.bloodType[e.formData.bloodType]||""),u.xb(5),u.Zb("readonly",!0)("value",e.civilStatus[e.formData.civilStatus]||""),u.xb(5),u.Zb("readonly",!0)("value",e.educationLevel[e.formData.educationLevel]||""),u.xb(5),u.Zb("readonly",!0)("value",e.professions[e.formData.profession]||""),u.xb(5),u.Zb("readonly",!0)("value",e.formData.company),u.xb(1),u.Zb("ngIf","Si"===e.formData.company),u.xb(5),u.Zb("readonly",!0)("value",e.formData.baptized),u.xb(5),u.Zb("readonly",!0)("value",(null==e.church?null:e.church.name)||""),u.xb(5),u.Zb("readonly",!0)("value",e.departments[e.formData.department]||""),u.xb(5),u.Zb("readonly",!0)("value",e.cities[e.formData.city]||""),u.xb(5),u.Zb("ngModel",e.formData.locality),u.xb(5),u.Zb("ngModel",e.formData.direction),u.xb(5),u.Zb("readonly",!0)("value",e.formData.meetingNew)}}function $(e,i){if(1&e){const e=u.Nb();u.Mb(0,"ion-col",34),u.Mb(1,"ion-row"),u.Mb(2,"ion-col",35),u.Mb(3,"ion-item"),u.Mb(4,"ion-label",36),u.pc(5,"Roles actuales"),u.Lb(),u.Kb(6,"ion-input",56),u.Lb(),u.Lb(),u.Mb(7,"ion-col",35),u.Mb(8,"ion-item"),u.Mb(9,"ion-label",36),u.pc(10,"Nuevos roles (*)"),u.Lb(),u.Mb(11,"ion-input",40),u.Ub("click",function(){u.ic(e);const i=u.Wb(3);return i.showRolesListAlert(i.formDataRole.roles)}),u.Lb(),u.Lb(),u.Lb(),u.Mb(12,"ion-col",47),u.Mb(13,"ion-text",48),u.Mb(14,"i",49),u.pc(15,"(*) Campos requeridos."),u.Lb(),u.Lb(),u.Lb(),u.Mb(16,"ion-col",50),u.Mb(17,"ion-button",51),u.Ub("click",function(){return u.ic(e),u.Wb(3).showFormEditRole()}),u.Kb(18,"ion-icon",52),u.Mb(19,"ion-text"),u.pc(20,"Cancelar"),u.Lb(),u.Lb(),u.Mb(21,"ion-button",53),u.Ub("click",function(){return u.ic(e),u.Wb(3).confirmUpdateRole()}),u.Kb(22,"ion-icon",54),u.Mb(23,"ion-text"),u.pc(24,"Guardar"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.Lb()}if(2&e){const e=u.Wb(3);u.xb(6),u.Zb("readonly",!0)("value",e.globalSer.getRoleValue(e.staticData.roles)),u.xb(5),u.Zb("readonly",!0)("value",e.globalSer.getRoleValue(e.formDataRole.roles))}}function q(e,i){if(1&e&&(u.Mb(0,"ion-card"),u.Mb(1,"ion-card-header",10),u.Mb(2,"ion-toolbar",11),u.Mb(3,"ion-buttons",3),u.nc(4,z,2,1,"ion-button",24),u.nc(5,O,2,0,"ion-button",24),u.nc(6,W,2,0,"ion-button",24),u.Lb(),u.nc(7,T,2,1,"ion-title",2),u.nc(8,I,2,0,"ion-title",2),u.nc(9,R,2,0,"ion-title",2),u.nc(10,U,3,2,"ion-buttons",1),u.Lb(),u.Lb(),u.Mb(11,"ion-card-content"),u.Mb(12,"ion-row"),u.nc(13,j,2,2,"ion-col",25),u.nc(14,Y,121,35,"ion-col",26),u.nc(15,$,25,4,"ion-col",26),u.Lb(),u.Lb(),u.Lb()),2&e){const e=u.Wb(2);u.xb(4),u.Zb("ngIf",!e.views.data.edit&&!e.editRole),u.xb(1),u.Zb("ngIf",e.views.data.edit),u.xb(1),u.Zb("ngIf",e.editRole),u.xb(1),u.Zb("ngIf",!e.views.data.edit&&!e.editRole),u.xb(1),u.Zb("ngIf",e.views.data.edit),u.xb(1),u.Zb("ngIf",e.editRole),u.xb(1),u.Zb("ngIf",e.views.data.show&&e.showAdminButtons),u.xb(1),u.Ab("",e.views.data.show?"":"ion-hide"," ion-no-padding"),u.xb(2),u.Zb("ngIf",!e.views.data.edit&&!e.editRole),u.xb(1),u.Zb("ngIf",e.views.data.edit&&e.formData),u.xb(1),u.Zb("ngIf",e.editRole)}}function _(e,i){if(1&e&&(u.Mb(0,"ion-col",57),u.Mb(1,"ion-text",58),u.Mb(2,"h2"),u.Mb(3,"b"),u.pc(4,"Padre espiritual:"),u.Lb(),u.Lb(),u.Lb(),u.Kb(5,"app-usercard",59),u.Lb()),2&e){const e=u.Wb(2);u.Ab("",e.views.referrals.referred?"":"ion-hide"," ion-margin-top"),u.xb(5),u.Zb("data",e.views.referrals.referred)}}function P(e,i){1&e&&(u.Mb(0,"ion-text",60),u.Mb(1,"p",58),u.Kb(2,"ion-icon",61),u.pc(3," El n\xfamero total de hijos se refiere a los hijos este miembro, sumado con los hijos de estos. "),u.Lb(),u.Lb())}function V(e,i){if(1&e&&(u.Mb(0,"ion-col",35),u.Kb(1,"app-usercard",59),u.Lb()),2&e){const e=i.$implicit;u.xb(1),u.Zb("data",e)}}function B(e,i){if(1&e&&(u.Mb(0,"ion-row",62),u.Mb(1,"ion-col",32),u.Mb(2,"ion-text"),u.Mb(3,"h2"),u.Mb(4,"b"),u.pc(5,"Hijos espirituales:"),u.Lb(),u.Lb(),u.Lb(),u.Lb(),u.nc(6,V,2,1,"ion-col",63),u.Lb()),2&e){const e=u.Wb(2);u.xb(6),u.Zb("ngForOf",e.views.referrals.data)}}function J(e,i){1&e&&(u.Mb(0,"ion-row",58),u.Mb(1,"ion-col",32),u.Mb(2,"ion-text",48),u.Mb(3,"p",64),u.Kb(4,"ion-icon",61),u.pc(5," Este miembro no posee hijos espirituales. "),u.Lb(),u.Lb(),u.Lb(),u.Lb())}function G(e,i){if(1&e&&(u.Mb(0,"ion-col",66),u.Kb(1,"app-cursoscard",67),u.Lb()),2&e){const e=i.$implicit;u.xb(1),u.Zb("course",e)}}function H(e,i){if(1&e&&(u.Mb(0,"ion-row"),u.nc(1,G,2,1,"ion-col",65),u.Lb()),2&e){const e=u.Wb(2);u.xb(1),u.Zb("ngForOf",e.views.courses.data)}}function Q(e,i){1&e&&(u.Mb(0,"ion-row",58),u.Mb(1,"ion-col",32),u.Mb(2,"ion-text",48),u.Mb(3,"p",64),u.Kb(4,"ion-icon",61),u.pc(5," Este miembro no posee cursos en su cuenta. "),u.Lb(),u.Lb(),u.Lb(),u.Lb())}function X(e,i){if(1&e){const e=u.Nb();u.Mb(0,"div"),u.nc(1,q,16,13,"ion-card",2),u.Mb(2,"ion-card"),u.Mb(3,"ion-card-header",10),u.Mb(4,"ion-toolbar",11),u.Mb(5,"ion-buttons",3),u.Mb(6,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb().setShowView("referrals")}),u.Kb(7,"ion-icon",12),u.Lb(),u.Lb(),u.Mb(8,"ion-title"),u.pc(9),u.Lb(),u.Lb(),u.Lb(),u.Mb(10,"ion-card-content"),u.Mb(11,"ion-row",13),u.nc(12,_,6,4,"ion-col",14),u.Mb(13,"ion-col",15),u.Mb(14,"h2",16),u.pc(15),u.Lb(),u.Mb(16,"h1",17),u.pc(17,"Total de hijos"),u.Lb(),u.nc(18,P,4,0,"ion-text",18),u.Lb(),u.Lb(),u.Kb(19,"br"),u.nc(20,B,7,1,"ion-row",19),u.nc(21,J,6,0,"ng-template",null,20,u.oc),u.Lb(),u.Lb(),u.Mb(23,"ion-card"),u.Mb(24,"ion-card-header",10),u.Mb(25,"ion-toolbar",11),u.Mb(26,"ion-buttons",3),u.Mb(27,"ion-button",4),u.Ub("click",function(){return u.ic(e),u.Wb().setShowView("courses")}),u.Kb(28,"ion-icon",12),u.Lb(),u.Lb(),u.Mb(29,"ion-title"),u.pc(30),u.Lb(),u.Lb(),u.Lb(),u.Mb(31,"ion-card-content"),u.nc(32,H,2,1,"ion-row",21),u.nc(33,Q,6,0,"ng-template",null,22,u.oc),u.Lb(),u.Lb(),u.Mb(35,"div",23),u.Kb(36,"br"),u.Lb(),u.Lb()}if(2&e){const e=u.hc(22),i=u.hc(34),t=u.Wb();u.xb(1),u.Zb("ngIf",t.views.data.data),u.xb(1),u.zb(t.views.data.edit||t.editRole?"ion-hide":""),u.xb(5),u.bc("name","chevron-",t.views.referrals.show?"up":"down","-outline"),u.xb(2),u.qc(t.views.referrals.label),u.xb(1),u.zb(t.views.referrals.show?"":"ion-hide"),u.xb(2),u.Zb("ngIf",t.views.referrals.referred),u.xb(1),u.Zb("sizeSm",t.views.referrals.referred?7:12),u.xb(2),u.qc(t.totals.totalsReferrals),u.xb(3),u.Zb("ngIf",t.totals.totalsReferrals),u.xb(2),u.Zb("ngIf",t.views.referrals.data.length>0)("ngIfElse",e),u.xb(3),u.zb(t.views.data.edit||t.editRole?"ion-hide":""),u.xb(5),u.bc("name","chevron-",t.views.courses.show?"up":"down","-outline"),u.xb(2),u.sc("",t.views.courses.label," (",t.views.courses.data.length,")"),u.xb(1),u.zb(t.views.courses.show?"":"ion-hide"),u.xb(1),u.Zb("ngIf",t.views.courses.data.length>0)("ngIfElse",i)}}const ee=[{path:"",component:(()=>{class e{constructor(e,i,t,o,n,a,s,r){this.activateRoute=e,this.alertCtrl=i,this.axios=t,this.cookiesService=o,this.globalSer=n,this.detallesMiembroService=a,this.navCtrl=s,this.router=r,this.professions=[],this.companyType=[],this.educationLevel=[],this.bloodType=[],this.departments=[],this.cities=[],this.civilStatus=[],this.gender=[],this.documentTypes=[],this.yesOrNotValues=["No","Si"],this.maxDate=null,this.churches=null,this.church=null,this.title="Cargando...",this.id=null,this.user=null,this.staticData=null,this.totals=null,this.enableActions=!1,this.editRole=!1,this.isAdmin=!1,this.showAdminButtons=!1,this.showDeleteButton=!1,this.formData=null,this.formDataRole={roles:[]},this.views={data:{label:"Datos del miembro",show:!0,edit:!1,data:null},courses:{label:"Cursos",show:!1,data:[]},referrals:{label:"Hijos espirituales",show:!1,referred:null,data:[]}},this.handleSetAsConsolidator=()=>{this.setAsConsolidator()},this.globalSer.checkSession()?(this.documentTypes=a.documentTypesList,this.educationLevel=a.educationLevel,this.professions=a.professionsList,this.bloodType=a.bloodTypeList,this.companyType=a.companyTypeList,this.civilStatus=a.civilStatusList,this.gender=a.genderList,this.departments=a.departmentsList.map(e=>e.department),this.maxDate=b()().format("YYYY-MM-DD"),this.enableActions=this.globalSer.checkRoleToEnableAddOrUpdate()):this.router.navigate(["/ingresar"])}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading(),this.isAdmin=this.globalSer.checkRoleIsSuperAdmin(),this.showAdminButtons=this.globalSer.checkRoleToEnableAddOrUpdate(),this.id=this.activateRoute.snapshot.paramMap.get("userid"),this.churches=yield this.cookiesService.getCookie("churches"),this.churches||(this.churches=yield this.detallesMiembroService.getChurches(),yield this.cookiesService.setCookie("churches",this.churches||[]));const e=yield this.detallesMiembroService.getUserDetails(this.id);e&&!e.error?(this.staticData=Object.assign({},e),this.views.data.data=this.staticData,this.views.referrals.referred=this.staticData.referred,this.totals=this.staticData.totals,this.showDeleteButton=this.isAdmin&&!this.globalSer.checkRoles(e.roles,[0]),this.title=`Detalles: ${this.staticData.names} ${this.staticData.lastNames}`,this.getCourses(),this.getReferrals(),yield this.globalSer.dismissLoading()):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()||(yield this.router.navigate(["/ingresar"]))})}updateData(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading("Actualizando, por favor espere ...");const e=Object.assign({},this.formData);e.documentType&&(e.document=`${e.documentType.toUpperCase()}${e.document}`),e.company="Si"===e.company,e.baptized="Si"===e.baptized,e.meetingNew="Si"===e.meetingNew,e.position&&(e.position=e.position.trim().toUpperCase());const i=yield this.detallesMiembroService.updateDataUser(this.id,e);i&&!i.error?(this.user=Object.assign({},i),this.staticData=Object.assign({},i),this.title=`Detalles: ${this.staticData.names} ${this.staticData.lastNames}`,yield this.showFormEdit(!0),yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha actualizado su perfil exitosamente.")):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}updateRole(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading("Actualizando, por favor espere ...");const e=Object.assign({},this.formDataRole),i=yield this.detallesMiembroService.updateRoleUser(this.id,e);i&&!i.error?(this.user.roles=e.roles,this.staticData.roles=e.roles,this.showFormEditRole(),yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha actualizado su perfil exitosamente.")):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}setAsConsolidator(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading("Cargando. Por favor, espere...");const e=yield this.detallesMiembroService.setAsConsolidator(this.staticData._id);e&&!e.error?(this.staticData.consolidator=!this.staticData.consolidator,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",e||"Se ha actualizado la informaci\xf3n del miembro exitosamente.")):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteUser(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading("Eliminando miembro, por favor espere ...");const e=yield this.detallesMiembroService.deleteUser(this.id);e&&!e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",e||"Se ha eliminado los datos del miembro exitosamente."),yield this.back()):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}getCourses(){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.detallesMiembroService.getUsersCourses(this.id);e&&!e.error?this.views.courses.data=e:e&&e.error?yield this.globalSer.errorSession():yield this.globalSer.dismissLoading()})}getReferrals(){return Object(r.a)(this,void 0,void 0,function*(){const e=yield this.detallesMiembroService.getUsersReferrals(this.id);e&&!e.error?this.views.referrals.data=e:e&&e.error?yield this.globalSer.errorSession():yield this.globalSer.dismissLoading()})}back(){return Object(r.a)(this,void 0,void 0,function*(){yield this.navCtrl.back()})}setShowView(e){return Object(r.a)(this,void 0,void 0,function*(){this.views[e].show=!this.views[e].show,this.views[e].edit&&(yield this.showFormEdit())})}getCity(e=!1){const i=this.detallesMiembroService.departmentsList[this.formData.department]||null;i&&(this.cities=i.cities||[]),e&&(this.formData.city=null)}getDocumentLabel(e){if(!e)return null;const i=this.documentTypes.find(i=>i.val===e);return i?i.label:null}validateOnlyNumber(e){Object(d.p)(e)}validateOnlyLetters(e){Object(d.o)(e)}setDate(){this.formData.birthday&&(this.formData.birthday=b()(this.formData.birthday).format("YYYY-MM-DD"))}showFormEdit(e=!1){return Object(r.a)(this,void 0,void 0,function*(){this.views.data.edit=!this.views.data.edit,this.views.data.edit?(e||(yield this.globalSer.presentLoading()),this.formData=Object.assign({documentType:null},this.staticData),this.title=`Editar datos de: ${this.formData.names} ${this.formData.lastNames}`,this.formData.documentType=this.formData.document?this.formData.document.replace(/[0-9]{5,12}/,""):null,this.formData.document=this.formData.document?this.formData.document.replace(/[A-Za-z]{1,3}/,""):null,this.formData.company=this.formData.company?"Si":"No",this.formData.baptized=this.formData.baptized?"Si":"No",this.formData.meetingNew=this.formData.meetingNew?"Si":"No",this.cities||this.getCity(),e||(yield this.globalSer.dismissLoading())):(this.title=`Detalles: ${this.user.names} ${this.user.lastNames}`,this.formData=null)})}showFormEditRole(){this.formDataRole.roles=this.editRole?[]:[...this.staticData.roles],this.editRole=!this.editRole}showAlertList(e,i,t=null){return Object(r.a)(this,void 0,void 0,function*(){const o=[];for(const[e,n]of this[i].entries())o.push({name:"value-"+e,type:"radio",label:n,value:e,checked:null!==t&&t.toString()===e.toString()});yield this.globalSer.alertWithList({header:"Seleccione",inputs:o,confirmAction:i=>{this.formData[e]=i,"department"===e&&this.getCity(!0)}})})}showAlertChurchesList(){return Object(r.a)(this,void 0,void 0,function*(){const e=[];for(const i of this.churches)e.push({name:"value-"+i._id,type:"radio",label:i.name,value:i._id,checked:this.formData.church===i._id});yield this.globalSer.alertWithList({header:"Seleccione",inputs:e,confirmAction:e=>{this.church=this.churches.find(i=>i._id===e),this.formData.church=e}})})}showRolesListAlert(e=[]){return Object(r.a)(this,void 0,void 0,function*(){const i=[],t=(i,t)=>({name:"value-"+i,type:"checkbox",label:t,value:i,checked:e.includes(i)});for(const[e,o]of c.a.entries())0===e?this.isAdmin&&i.push(t(e,o)):i.push(t(e,o));yield this.globalSer.alertWithList({header:"Seleccione",inputs:i,confirmAction:(e=[])=>{this.formDataRole.roles=this.formDataRole.roles.includes(0)?[0,...e]:e||[]}})})}showAlertDocumentList(e=null){return Object(r.a)(this,void 0,void 0,function*(){const i=[];for(const t of this.documentTypes)i.push({name:"documentType",type:"radio",label:t.label,value:t.val,checked:null!==e&&e===t.val});yield this.globalSer.alertWithList({header:"Seleccione",inputs:i,confirmAction:e=>{this.formData.documentType=e}})})}showAlertYesOrNotList(e,i=null){return Object(r.a)(this,void 0,void 0,function*(){const t=[];for(const[e,o]of this.yesOrNotValues.entries())t.push({name:"value-"+e,type:"radio",label:o,value:o,checked:o===i});yield this.globalSer.alertWithList({header:"Seleccione",inputs:t,confirmAction:i=>{this.formData[e]=i}})})}validateData(){const{formData:e}=this;if(!Object(d.j)(e.phone))return"Disculpe, pero debe indicar su n\xfamero de tel\xe9fono.<br><br>NOTA: Recuerde que el n\xfamero de tel\xe9fono es el miembro de acceso para a la cuenta del miembro.";if(!Object(d.h)(e.names))return"Disculpe, pero debe indicar su nombre.";if(!Object(d.h)(e.lastNames))return"Disculpe, pero debe indicar su apellido.";if(e.documentType){if(-1===["CC","TI","PAS","CE","PE"].indexOf(""+e.documentType))return"Disculpe, pero debe seleccionar un tipo de documento.";if(!/[0-9]{5,9}/.test(""+e.document))return"Disculpe, pero debe indicar su n\xfamero de documento."}return e.email&&!Object(d.c)(e.email)?"Disculpe, pero debe indicar su correo electr\xf3nico.":e.birthday&&!Object(d.b)(e.birthday)?"Disculpe, pero debe indicar su fecha de nacimiento.":null===e.company||"Si"!==e.company||Object(d.f)(""+e.companyType)?null:"Disculpe, pero debe indicar el tipo de empresa que posee."}validateRoleData(){const{roles:e}=this.formDataRole;return e&&0!==(null==e?void 0:e.length)&&e.some(e=>[0,1,2,3,4].includes(e))?null:"Disculpe, pero el rol seleccionado es incorrecto."}confirmUpdate(){return Object(r.a)(this,void 0,void 0,function*(){const e=this.validateData();e?yield this.globalSer.presentAlert("Alerta",e):yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 desea actualizar informaci\xf3n de este miembro?",confirmAction:()=>this.updateData()})})}confirmUpdateRole(){return Object(r.a)(this,void 0,void 0,function*(){const e=this.validateRoleData();e?yield this.globalSer.presentAlert("Alerta",e):yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 desea cambiar el rol de este miembro?",confirmAction:()=>this.updateRole()})})}confirmDelete(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 desea eliminar toda la informaci\xf3n de este miembro?",confirmAction:()=>this.deleteUser()})})}}return e.\u0275fac=function(i){return new(i||e)(u.Jb(s.a),u.Jb(a.a),u.Jb(m.a),u.Jb(h.a),u.Jb(f.a),u.Jb(p.a),u.Jb(a.U),u.Jb(s.g))},e.\u0275cmp=u.Db({type:e,selectors:[["app-detalles-miembro"]],decls:8,vars:4,consts:[["slot","start",4,"ngIf"],["slot","end",4,"ngIf"],[4,"ngIf"],["slot","start"],[3,"click"],["name","arrow-back-outline"],["slot","end"],["expand","full","slot","end",3,"click",4,"ngIf"],["expand","full","slot","end",3,"click"],["name","trash-outline","slot","start"],[1,"ion-no-padding","ion-no-margin"],["color","primary"],[3,"name"],[1,"ion-margin-bottom"],["size","12","size-sm","5",3,"class",4,"ngIf"],["size","12",1,"ion-text-center","ion-margin-top",3,"sizeSm"],[1,"numberTitle","ion-margin-bottom"],[1,"ion-margin-top","ion-margin-bottom"],["class","ion-margin-top","color","medium",4,"ngIf"],["class","ion-margin-top ion-margin-bottom max-height-250",4,"ngIf","ngIfElse"],["noReferrals",""],[4,"ngIf","ngIfElse"],["noCourses",""],[1,"ion-margin"],[3,"click",4,"ngIf"],["size","12",4,"ngIf"],["class","ion-no-margin","size","12",4,"ngIf"],["name","close-outline"],["color","light","expand","full","slot","end",3,"click",4,"ngIf"],["color","light","expand","full","slot","end",3,"click"],["name","create-outline","slot","start"],["name","key-outline","slot","start"],["size","12"],[3,"member","handleConsolidator"],["size","12",1,"ion-no-margin"],["size","12","size-sm","6"],["position","floating","color","medium"],["autocomplete","off","maxlength","13",3,"ngModel","ngModelChange","keypress"],["autocomplete","off","maxlength","50",1,"ion-text-uppercase",3,"ngModel","ngModelChange","keyup"],["displayFormat","DD/MM/YYYY","min","1910-03-14","doneText","Listo","cancelText","Cancelar",3,"ngModel","max","ngModelChange","ionChange"],["autocomplete","off",1,"no-selected-text",3,"readonly","value","click"],["autocomplete","off","maxlength","10",1,"ion-text-uppercase",3,"ngModel","ngModelChange","keypress"],["autocomplete","off",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["size","6","size-sm","6",4,"ngIf"],["autocomplete","off",1,"ion-text-uppercase","no-selected-text",3,"readonly","value","click"],["autocomplete","off","maxlength","100",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["autocomplete","off","maxlength","250",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["size","12","size-sm","12",1,"ion-margin-top"],["color","medium"],[1,"toSmall"],["size","12","size-sm","12",1,"ion-margin-top","ion-margin-bottom","ion-text-center"],["color","medium",3,"click"],["name","close-outline","slot","start"],["color","primary",3,"click"],["name","save-outline","slot","start"],["size","6","size-sm","6"],["autocomplete","off",1,"no-selected-text",3,"readonly","value"],["size","12","size-sm","5"],[1,"ion-margin-top"],[3,"data"],["color","medium",1,"ion-margin-top"],["name","alert-circle-outline"],[1,"ion-margin-top","ion-margin-bottom","max-height-250"],["size","12","size-sm","6",4,"ngFor","ngForOf"],[1,"ion-text-center"],["size","4",4,"ngFor","ngForOf"],["size","4"],[3,"course"]],template:function(e,i){1&e&&(u.Mb(0,"ion-header"),u.Mb(1,"ion-toolbar"),u.nc(2,k,3,0,"ion-buttons",0),u.Mb(3,"ion-title"),u.pc(4),u.Lb(),u.nc(5,Z,2,1,"ion-buttons",1),u.Lb(),u.Lb(),u.Mb(6,"ion-content"),u.nc(7,X,37,26,"div",2),u.Lb()),2&e&&(u.xb(2),u.Zb("ngIf",!i.views.data.edit),u.xb(2),u.qc(i.title),u.xb(1),u.Zb("ngIf",i.user&&i.enableActions&&i.showAdminButtons&&i.showDeleteButton),u.xb(2),u.Zb("ngIf",i.staticData))},directives:[a.r,a.P,o.i,a.N,a.o,a.f,a.e,a.s,a.K,a.g,a.i,a.h,a.E,a.n,S,a.v,a.w,a.u,a.Y,n.b,n.e,n.f,a.p,a.X,C.a,o.h,N.a],styles:[".pictureLogo[_ngcontent-%COMP%]{width:65px!important;margin:0 auto!important}.max-height-250[_ngcontent-%COMP%]{max-height:450px!important;overflow-y:auto}"]}),e})()}];let ie=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(i){return new(i||e)},imports:[[s.j.forChild(ee)],s.j]}),e})();var te=t("j1ZV");let oe=(()=>{class e{}return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(i){return new(i||e)},imports:[[o.b,n.a,a.Q,ie,te.a]]}),e})()}}]);