(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{PI0l:function(t,e,i){"use strict";i.r(e),i.d(e,"MiembrosPageModule",function(){return x});var o=i("ofXK"),n=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("mrSG"),b=i("fXoL"),c=i("1Ldg"),l=i("QTu/"),u=i("4WDQ"),m=i("wJOZ"),g=i("nfHg"),h=i("bM8H");function d(t,e){if(1&t){const t=b.Nb();b.Mb(0,"ion-button",16),b.Ub("click",function(){return b.gc(t),b.Wb().goToRegister()}),b.Kb(1,"ion-icon",17),b.Mb(2,"ion-text"),b.mc(3,"Registrar miembro"),b.Lb(),b.Lb()}}function p(t,e){if(1&t){const t=b.Nb();b.Mb(0,"ion-button",18),b.Ub("click",function(){b.gc(t);const e=b.Wb();return e.queryParams.word=null,e.findData()}),b.Kb(1,"ion-icon",19),b.Lb()}}function f(t,e){1&t&&b.Kb(0,"ion-icon",20)}function y(t,e){1&t&&b.Kb(0,"ion-icon",21)}function v(t,e){if(1&t&&(b.Mb(0,"ion-col",23),b.Kb(1,"app-usercard",24),b.Lb()),2&t){const t=e.$implicit;b.xb(1),b.Zb("data",t)("list",!0)}}function M(t,e){if(1&t&&(b.Mb(0,"ion-row"),b.kc(1,v,2,2,"ion-col",22),b.Lb()),2&t){const t=b.Wb();b.xb(1),b.Zb("ngForOf",t.users)}}function L(t,e){if(1&t&&(b.Mb(0,"div"),b.Kb(1,"app-paginator",25),b.Lb()),2&t){const t=b.Wb();b.xb(1),b.Zb("totalPages",t.pages)("currentPage",t.queryParams.page)("handlePage",t.handlePage)}}function P(t,e){1&t&&(b.Mb(0,"ion-row"),b.Mb(1,"ion-col"),b.Mb(2,"ion-card"),b.Mb(3,"ion-card-content",26),b.Mb(4,"ion-card-subtitle"),b.Mb(5,"ion-text"),b.Kb(6,"ion-icon",27),b.mc(7,"\xa0 No se encontraron resultados. "),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb())}const w=[{path:"",component:(()=>{class t{constructor(t,e,i,o,n,r){this.alertCtrl=t,this.axios=e,this.cookieService=i,this.globalSer=o,this.miembrosServices=n,this.router=r,this.users=null,this.totals=0,this.pages=0,this.page=1,this.showRegisterButton=!1,this.queryParams={limit:10,page:1,input:"names",value:1,word:null},this.handlePage=t=>{this.queryParams.page=t,this.getData()},this.globalSer.checkSession()||this.router.navigate(["/ingresar"])}ngOnInit(){return Object(a.a)(this,void 0,void 0,function*(){})}ionViewWillEnter(){return Object(a.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?(this.globalSer.checkRoleToEnableAddOrUpdate()&&(this.showRegisterButton=!0),yield this.getTotals()):this.router.navigate(["/ingresar"])})}getTotals(){return Object(a.a)(this,void 0,void 0,function*(){const t=yield this.miembrosServices.getUsersCounters(this.queryParams);t&&t>=0&&!t.error?(this.totals=t,this.pages=this.globalSer.getPagination(t,this.queryParams.limit),t>0?yield this.getData():(this.queryParams.page=1,this.pages=0,this.users=[])):t&&t.error?(this.queryParams.page=1,this.pages=0,this.users=[],yield this.globalSer.errorSession()):(this.queryParams.page=1,this.pages=0,this.users=[])})}getData(){return Object(a.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=yield this.miembrosServices.getUsersList(this.queryParams);t&&!t.error?(this.users=t,yield this.globalSer.dismissLoading()):t&&t.error?(this.users=[],this.pages=0,yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):(this.users=[],this.pages=0,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("Alerta",t?t.error:"\xa1Error desconocido!"))})}setSortOrder(){return Object(a.a)(this,void 0,void 0,function*(){this.queryParams.value=1===this.queryParams.value?-1:1,this.queryParams.page=1,this.users=null,yield this.getData()})}findData(){return Object(a.a)(this,void 0,void 0,function*(){this.queryParams.page=1,this.pages=0,this.users=null,yield this.getTotals()})}setQueryValues(){return Object(a.a)(this,void 0,void 0,function*(){const t=t=>{this.queryParams.limit=t,this.queryParams.page=1,this.pages=this.globalSer.getPagination(this.totals,this.queryParams.limit),this.users=null,this.getData()};yield this.globalSer.alertWithList({header:"Resultados por p\xe1gina",inputs:[{name:"results-per-page",type:"radio",label:"10",value:10,checked:10===this.queryParams.limit},{name:"results-per-page",type:"radio",label:"25",value:25,checked:25===this.queryParams.limit},{name:"results-per-page",type:"radio",label:"50",value:50,checked:50===this.queryParams.limit}],confirmAction:e=>t(e)})})}goToRegister(){return Object(a.a)(this,void 0,void 0,function*(){yield this.router.navigate(["/miembros/registro"])})}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(r.a),b.Jb(c.a),b.Jb(l.a),b.Jb(u.a),b.Jb(m.a),b.Jb(s.g))},t.\u0275cmp=b.Db({type:t,selectors:[["app-miembros"]],decls:36,vars:12,consts:[["slot","end"],["color","primary",3,"click",4,"ngIf"],[1,"ion-margin"],["size","12"],["size-sm","7",3,"size"],["color","light","slot","start",3,"click",4,"ngIf"],["position","floating","color","medium"],["autocomplete","off",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["color","light","slot","end",3,"click"],["name","search-outline"],["size-sm","5",3,"size"],["color","light",3,"click"],["name","arrow-up-outline",4,"ngIf"],["name","arrow-down-outline",4,"ngIf"],["name","filter-outline"],[4,"ngIf"],["color","primary",3,"click"],["name","add-outline","slot","start"],["color","light","slot","start",3,"click"],["name","backspace-outline"],["name","arrow-up-outline"],["name","arrow-down-outline"],["size","12","size-sm","6",4,"ngFor","ngForOf"],["size","12","size-sm","6"],[3,"data","list"],[3,"totalPages","currentPage","handlePage"],[1,"ion-text-center"],["name","alert-circle-outline"]],template:function(t,e){1&t&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.mc(3,"Miembros"),b.Lb(),b.Mb(4,"ion-buttons",0),b.kc(5,d,4,0,"ion-button",1),b.Lb(),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.Mb(7,"ion-grid",2),b.Mb(8,"ion-row"),b.Mb(9,"ion-col",3),b.Mb(10,"ion-row"),b.Mb(11,"ion-col",4),b.Mb(12,"ion-toolbar"),b.kc(13,p,2,0,"ion-button",5),b.Mb(14,"ion-item"),b.Mb(15,"ion-label",6),b.mc(16,"Buscar"),b.Lb(),b.Mb(17,"ion-input",7),b.Ub("ngModelChange",function(t){return e.queryParams.word=t}),b.Lb(),b.Lb(),b.Mb(18,"ion-button",8),b.Ub("click",function(){return null!==e.queryParams.word||""!==e.queryParams.word?e.findData():null}),b.Kb(19,"ion-icon",9),b.Lb(),b.Lb(),b.Lb(),b.Mb(20,"ion-col",10),b.Mb(21,"ion-toolbar"),b.Mb(22,"ion-button",11),b.Ub("click",function(){return e.setSortOrder()}),b.kc(23,f,1,0,"ion-icon",12),b.kc(24,y,1,0,"ion-icon",13),b.mc(25,"\xa0 "),b.Mb(26,"ion-text"),b.mc(27),b.Lb(),b.Lb(),b.Mb(28,"ion-button",11),b.Ub("click",function(){return e.setQueryValues()}),b.Kb(29,"ion-icon",14),b.mc(30,"\xa0 "),b.Mb(31,"ion-text"),b.mc(32),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.kc(33,M,2,1,"ion-row",15),b.kc(34,L,2,3,"div",15),b.kc(35,P,8,0,"ion-row",15),b.Lb(),b.Lb()),2&t&&(b.xb(5),b.Zb("ngIf",e.showRegisterButton),b.xb(6),b.Zb("size",12),b.xb(2),b.Zb("ngIf",e.queryParams.word),b.xb(4),b.Zb("ngModel",e.queryParams.word),b.xb(3),b.Zb("size",12),b.xb(3),b.Zb("ngIf",1===e.queryParams.value),b.xb(1),b.Zb("ngIf",-1===e.queryParams.value),b.xb(3),b.nc(1===e.queryParams.value?"ASC":"DES"),b.xb(5),b.nc(e.queryParams.limit),b.xb(1),b.Zb("ngIf",e.users&&e.users.length>0),b.xb(1),b.Zb("ngIf",e.users&&e.users.length>0&&e.pages>0),b.xb(1),b.Zb("ngIf",null!==e.users&&0===e.users.length))},directives:[r.r,r.K,r.J,r.f,o.i,r.o,r.q,r.D,r.n,r.v,r.w,r.u,r.T,n.e,n.f,r.e,r.s,r.H,o.h,g.a,h.a,r.g,r.h,r.j],styles:[""]}),t})()},{path:"registro",loadChildren:()=>Promise.all([i.e(3),i.e(28)]).then(i.bind(null,"3V3w")).then(t=>t.RegistroPageModule)},{path:":userid",loadChildren:()=>Promise.all([i.e(3),i.e(0),i.e(27)]).then(i.bind(null,"ZMlI")).then(t=>t.DetallesMiembroPageModule)}];let k=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[s.j.forChild(w)],s.j]}),t})();var S=i("j1ZV");let x=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[o.b,n.a,r.L,k,S.a]]}),t})()},nfHg:function(t,e,i){"use strict";i.d(e,"a",function(){return g});var o=i("mrSG"),n=i("fXoL"),r=i("tyNb"),s=i("QTu/"),a=i("4WDQ"),b=i("ofXK"),c=i("TEn/");function l(t,e){if(1&t&&(n.Mb(0,"ion-text"),n.Kb(1,"ion-icon",10),n.mc(2),n.Kb(3,"br"),n.Lb()),2&t){const t=n.Wb(2);n.xb(2),n.oc(" ",t.globalSer.getRoleValue(t.member.role),"")}}function u(t,e){1&t&&(n.Mb(0,"div"),n.Mb(1,"i",11),n.mc(2,"Clic para m\xe1s informaci\xf3n."),n.Lb(),n.Lb())}function m(t,e){if(1&t){const t=n.Nb();n.Mb(0,"ion-card",1),n.Ub("click",function(){n.gc(t);const e=n.Wb();return e.member._id&&e.showButton?e.goToDetails(e.member._id):null}),n.Mb(1,"ion-card-content",2),n.Mb(2,"ion-row"),n.Mb(3,"ion-col",3),n.Mb(4,"ion-avatar",4),n.Kb(5,"ion-img",5),n.Lb(),n.Lb(),n.Mb(6,"ion-col"),n.Mb(7,"div",6),n.Mb(8,"b"),n.mc(9),n.Lb(),n.Kb(10,"br"),n.Mb(11,"ion-text"),n.Kb(12,"ion-icon",7),n.mc(13),n.Kb(14,"br"),n.Lb(),n.Mb(15,"ion-text"),n.Kb(16,"ion-icon",8),n.mc(17),n.Kb(18,"br"),n.Lb(),n.kc(19,l,4,1,"ion-text",9),n.kc(20,u,3,0,"div",9),n.Lb(),n.Lb(),n.Lb(),n.Lb(),n.Lb()}if(2&t){const t=n.Wb();n.xb(5),n.bc("src","/assets/icon/",1===t.member.gender?"mujer_lista":"hombre_lista",".svg"),n.xb(4),n.pc("",t.member.names||""," ",t.member.lastNames||"",""),n.xb(4),n.oc(" ",t.member.document||"Error",""),n.xb(4),n.oc(" ",t.member.phone||"No indicado.",""),n.xb(2),n.Zb("ngIf",t.list),n.xb(1),n.Zb("ngIf",t.showButton)}}let g=(()=>{class t{constructor(t,e,i){this.router=t,this.cookiesService=e,this.globalSer=i,this.list=!1,this.showButton=!1,this.member=null}ngOnInit(){this.member=this.data,this.member&&this.member._id&&(this.showButton=this.checkIdMember(this.member._id))}checkIdMember(t){const e=this.cookiesService.getCookie("data");return!!e&&e._id!==t}goToDetails(t=null){return Object(o.a)(this,void 0,void 0,function*(){yield this.router.navigate(["miembros/"+t])})}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(r.g),n.Jb(s.a),n.Jb(a.a))},t.\u0275cmp=n.Db({type:t,selectors:[["app-usercard"]],inputs:{data:"data",list:"list"},decls:1,vars:1,consts:[["class","min-height-100 ion-no-padding ion-no-margin ion-margin-bottom pointer",3,"click",4,"ngIf"],[1,"min-height-100","ion-no-padding","ion-no-margin","ion-margin-bottom","pointer",3,"click"],[1,"ion-no-margin","ion-no-padding"],["size","3"],[1,"user-avatar","ion-margin-top","ion-margin-bottom"],[3,"src"],[1,"ion-margin-top","ion-margin-bottom"],["name","id-card-outline"],["name","call-outline"],[4,"ngIf"],["name","accessibility-outline"],[1,"toSmall"]],template:function(t,e){1&t&&n.kc(0,m,21,7,"ion-card",0),2&t&&n.Zb("ngIf",e.member)},directives:[b.i,c.g,c.h,c.D,c.n,c.d,c.t,c.H,c.s],styles:[".pointer[_ngcontent-%COMP%]{cursor:pointer!important}.min-height-100[_ngcontent-%COMP%]{min-height:100%!important}"]}),t})()},wJOZ:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var o=i("mrSG"),n=i("fXoL"),r=i("1Ldg"),s=i("4WDQ");let a=(()=>{class t{constructor(t,e){this.axios=t,this.globalSer=e}getUsersCounters(t={}){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this.axios.getData("/admin/users/counters",t);return e&&e.success?e.data.totals:this.globalSer.altResponse(e)})}getUsersList(t={}){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this.axios.getData("/admin/users",t);return e&&e.success?e.data.users||[]:this.globalSer.altResponse(e)})}registerUser(t){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this.axios.postData("/admin/users",t);return e&&e.success?e.data:this.globalSer.altResponse(e)})}}return t.\u0275fac=function(e){return new(e||t)(n.Qb(r.a),n.Qb(s.a))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);