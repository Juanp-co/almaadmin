(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Wtct:function(i,t,e){"use strict";e.r(t),e.d(t,"InicioPageModule",function(){return P});var n=e("ofXK"),a=e("3Pt+"),o=e("TEn/"),s=e("tyNb"),r=e("mrSG"),b=e("Wgwc"),l=e.n(b),c=e("fXoL"),d=e("1Ldg"),m=e("QTu/"),u=e("4WDQ");let h=(()=>{class i{constructor(i,t){this.axios=i,this.globalSer=t}getReports(i={}){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.axios.getData("/admin/reports",i);return t&&t.success?t.data.report:this.globalSer.altResponse(t)})}}return i.\u0275fac=function(t){return new(t||i)(c.Qb(d.a),c.Qb(u.a))},i.\u0275prov=c.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=e("0HKr");function g(i,t){1&i&&c.Kb(0,"ion-icon",11)}function p(i,t){1&i&&c.Kb(0,"ion-icon",12)}function M(i,t){if(1&i){const i=c.Nb();c.Mb(0,"ion-col",4),c.Mb(1,"ion-card"),c.Mb(2,"ion-card-content"),c.Mb(3,"ion-row"),c.Mb(4,"ion-col",13),c.Mb(5,"ion-item"),c.Mb(6,"ion-label",14),c.pc(7,"A partir de:"),c.Lb(),c.Mb(8,"ion-datetime",15),c.Ub("ngModelChange",function(t){return c.ic(i),c.Wb().queryParams.initDate=t}),c.Lb(),c.Lb(),c.Lb(),c.Mb(9,"ion-col",13),c.Mb(10,"ion-item"),c.Mb(11,"ion-label",14),c.pc(12,"Hasta:"),c.Lb(),c.Mb(13,"ion-datetime",15),c.Ub("ngModelChange",function(t){return c.ic(i),c.Wb().queryParams.endDate=t}),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(14,"ion-row",16),c.Mb(15,"ion-col",17),c.Mb(16,"ion-button",18),c.Ub("click",function(){return c.ic(i),c.Wb().resetQueryParams()}),c.Kb(17,"ion-icon",19),c.Mb(18,"ion-text"),c.pc(19,"Limpiar"),c.Lb(),c.Lb(),c.Lb(),c.Mb(20,"ion-col",17),c.Mb(21,"ion-button",20),c.Ub("click",function(){return c.ic(i),c.Wb().findData()}),c.Kb(22,"ion-icon",21),c.Mb(23,"ion-text"),c.pc(24,"Aplicar"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()}if(2&i){const i=c.Wb();c.xb(8),c.Zb("ngModel",i.queryParams.initDate)("min",i.minInitDate)("max",i.maxInitDate),c.xb(5),c.Zb("ngModel",i.queryParams.endDate)("min",i.minEndDate)("max",i.maxEndDate)}}function z(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",25),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.users.gender)("sizeElem",i.sizeElems)}}function y(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",26),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.users.families)("sizeElem",i.sizeElems)}}function L(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",27),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.groups)("sizeElem",i.sizeElems)}}function D(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",28),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.users.roles)("sizeElem",i.sizeElems)}}function E(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",29),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.users.ages)("sizeElem",i.sizeElems)}}function x(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",30),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.courses)("sizeElem",i.sizeElems)}}function v(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",31),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.events)("sizeElem",i.sizeElems)}}function S(i,t){if(1&i&&(c.Mb(0,"ion-col",24),c.Kb(1,"app-chart",32),c.Lb()),2&i){const i=c.Wb(2);c.Zb("sizeSm",i.sizeElems),c.xb(1),c.Zb("data",i.data.consolidates)("sizeElem",i.sizeElems)}}function Z(i,t){if(1&i&&(c.Mb(0,"ion-row",22),c.nc(1,z,2,3,"ion-col",23),c.nc(2,y,2,3,"ion-col",23),c.nc(3,L,2,3,"ion-col",23),c.nc(4,D,2,3,"ion-col",23),c.nc(5,E,2,3,"ion-col",23),c.nc(6,x,2,3,"ion-col",23),c.nc(7,v,2,3,"ion-col",23),c.nc(8,S,2,3,"ion-col",23),c.Lb()),2&i){const i=c.Wb();c.xb(1),c.Zb("ngIf",i.data.users&&i.data.users.gender),c.xb(1),c.Zb("ngIf",i.data.users&&i.data.users.families),c.xb(1),c.Zb("ngIf",i.data.groups&&i.data.groups),c.xb(1),c.Zb("ngIf",i.data.users&&i.data.users.roles),c.xb(1),c.Zb("ngIf",i.data.users&&i.data.users.ages),c.xb(1),c.Zb("ngIf",i.data.courses),c.xb(1),c.Zb("ngIf",i.data.events),c.xb(1),c.Zb("ngIf",i.data.consolidates)}}const w=[{path:"",component:(()=>{class i{constructor(i,t,e,n,a){this.axios=i,this.cookieService=t,this.globalSer=e,this.inicioService=n,this.router=a,this.data=null,this.sizeElems=6,this.showFilter=!1,this.minInitDate=l()("2021-01-01").format("YYYY-MM-DD"),this.maxInitDate=l()().format("YYYY-MM-DD"),this.minEndDate=l()("2021-01-01").format("YYYY-MM-DD"),this.maxEndDate=l()().add(2,"y").format("YYYY-MM-DD"),this.queryParams={initDate:null,endDate:null},this.globalSer.checkSession()||this.router.navigate(["/ingresar"])}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?yield this.getData():this.router.navigate(["/ingresar"])})}getData(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.inicioService.getReports(this.queryParams);i&&!i.error?(this.data=i,yield this.globalSer.dismissLoading()):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}showListResizeAlert(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertWithList({header:"Tama\xf1os de las gr\xe1ficas",inputs:[{name:"resize",type:"radio",label:"Mediano",value:6,checked:6===this.sizeElems},{name:"resize",type:"radio",label:"Grande",value:12,checked:12===this.sizeElems}],confirmAction:i=>{this.sizeElems=i}})})}setShowFilter(){this.showFilter=!this.showFilter}resetQueryParams(){return Object(r.a)(this,void 0,void 0,function*(){this.queryParams.initDate=null,this.queryParams.endDate=null,this.showFilter=!this.showFilter,this.data=null,yield this.getData()})}findData(){return Object(r.a)(this,void 0,void 0,function*(){let i=!1;this.queryParams.initDate&&(this.queryParams.initDate=l()(this.queryParams.initDate).format("YYYY-MM-DD"),i=!0),this.queryParams.endDate&&(this.queryParams.endDate=l()(this.queryParams.endDate).format("YYYY-MM-DD"),i=null!==this.queryParams.initDate),i?(this.data=null,yield this.getData()):this.globalSer.presentAlert("Alerta","Disculpe, pero debe indicar una fecha inicial")})}}return i.\u0275fac=function(t){return new(t||i)(c.Jb(d.a),c.Jb(m.a),c.Jb(u.a),c.Jb(h),c.Jb(s.g))},i.\u0275cmp=c.Db({type:i,selectors:[["app-inicio"]],decls:20,vars:4,consts:[["slot","end"],[3,"click"],["name","resize-outline","slot","start"],[1,"ion-no-padding","ion-margin-start","ion-margin-end","ion-margin-top"],["size","12"],[1,"ion-margin-bottom"],["color","medium",3,"click"],["name","filter-outline","slot","start",4,"ngIf"],["name","close-outline","slot","start",4,"ngIf"],["size","12",4,"ngIf"],["class","ion-justify-content-center ion-margin-bottom ion-padding-bottom",4,"ngIf"],["name","filter-outline","slot","start"],["name","close-outline","slot","start"],["size","12","size-sm","6"],["position","floating","color","medium"],["displayFormat","DD/MM/YYYY","doneText","Listo","cancelText","Cancelar",3,"ngModel","min","max","ngModelChange"],[1,"ion-margin-top"],["size","6",1,"ion-justify-content-center"],["color","light","expand","full",1,"ion-text-center",3,"click"],["name","trash-outline"],["color","primary","expand","full",1,"ion-text-center",3,"click"],["name","checkmark-outline"],[1,"ion-justify-content-center","ion-margin-bottom","ion-padding-bottom"],["size","12",3,"sizeSm",4,"ngIf"],["size","12",3,"sizeSm"],["title","Miembros","typeChart","bar",3,"data","sizeElem"],["title","Miembros en un familias","typeChart","bar",3,"data","sizeElem"],["title","Familias","typeChart","bar",3,"data","sizeElem"],["title","Roles","typeChart","bar",3,"data","sizeElem"],["title","Edades","typeChart","bar",3,"data","sizeElem"],["title","Cursos","typeChart","pie",3,"data","sizeElem"],["title","Eventos","typeChart","bar",3,"data","sizeElem"],["title","Consolidaciones","typeChart","bar",3,"data","sizeElem"]],template:function(i,t){1&i&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-title"),c.pc(3,"Inicio"),c.Lb(),c.Mb(4,"ion-buttons",0),c.Mb(5,"ion-button",1),c.Ub("click",function(){return t.showListResizeAlert()}),c.Kb(6,"ion-icon",2),c.Mb(7,"ion-text"),c.pc(8,"Visualizaci\xf3n"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(9,"ion-content"),c.Mb(10,"ion-row",3),c.Mb(11,"ion-col",4),c.Mb(12,"div",5),c.Mb(13,"ion-button",6),c.Ub("click",function(){return t.setShowFilter()}),c.nc(14,g,1,0,"ion-icon",7),c.nc(15,p,1,0,"ion-icon",8),c.Mb(16,"ion-text"),c.pc(17,"Filtrar"),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.nc(18,M,25,6,"ion-col",9),c.Lb(),c.nc(19,Z,9,8,"ion-row",10),c.Lb()),2&i&&(c.xb(14),c.Zb("ngIf",!t.showFilter),c.xb(1),c.Zb("ngIf",t.showFilter),c.xb(3),c.Zb("ngIf",t.showFilter),c.xb(1),c.Zb("ngIf",t.data))},directives:[o.r,o.O,o.M,o.f,o.e,o.s,o.J,o.o,o.E,o.n,n.i,o.g,o.h,o.v,o.w,o.p,o.W,a.e,a.f,f.a],styles:[""]}),i})()}];let Y=(()=>{class i{}return i.\u0275mod=c.Hb({type:i}),i.\u0275inj=c.Gb({factory:function(t){return new(t||i)},imports:[[s.j.forChild(w)],s.j]}),i})();var I=e("j1ZV");let P=(()=>{class i{}return i.\u0275mod=c.Hb({type:i}),i.\u0275inj=c.Gb({factory:function(t){return new(t||i)},imports:[[n.b,a.a,o.P,Y,I.a]]}),i})()}}]);