{"version":3,"sources":["./src/app/views/consolidados/detalles-consolidado/detalles-consolidado.page.ts","./src/app/views/consolidados/consolidados.page.ts","./src/app/views/consolidados/consolidados.page.scss","./src/app/views/consolidados/consolidados.page.html","./src/app/views/consolidados/consolidados.module.ts","./src/app/views/consolidados/detalles-consolidado/detalles-consolidado.page.html","./src/app/views/consolidados/consolidados.service.ts","./src/app/views/consolidados/detalles-consolidado/detalles-consolidado.page.scss","./src/app/views/consolidados/consolidados-routing.module.ts"],"names":[],"mappings":"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","file":"views-consolidados-consolidados-module.js","sourcesContent":["import {Component, Input, OnInit} from '@angular/core';\r\nimport {ModalController} from '@ionic/angular';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/es';\r\nimport duration from 'dayjs/plugin/duration';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\n@Component({\r\n  selector: 'app-detalles-consolidado',\r\n  templateUrl: './detalles-consolidado.page.html',\r\n  styleUrls: ['./detalles-consolidado.page.scss'],\r\n})\r\nexport class DetallesConsolidadoPage implements OnInit {\r\n  @Input() data: any;\r\n\r\n  constructor(private modalCtrl: ModalController) {\r\n    dayjs.extend(duration);\r\n    dayjs.extend(relativeTime);\r\n  }\r\n\r\n  async ngOnInit() {\r\n    if (!this.data) await this.closeModal();\r\n    else this.data.date = this.data.date ?\r\n      dayjs(this.data.date, 'YYYY-MM-DD', true)\r\n        .locale('es')\r\n        .format('dddd, DD [de] MMMM [de] YYYY')\r\n      : 'No encontrada.';\r\n  }\r\n\r\n  async closeModal() {\r\n    await this.modalCtrl.dismiss();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport dayjs from 'dayjs';\r\nimport 'dayjs/locale/es';\r\nimport duration from 'dayjs/plugin/duration';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport {ConsolidadosService} from './consolidados.service';\r\nimport {DetallesConsolidadoPage} from './detalles-consolidado/detalles-consolidado.page';\r\nimport {GlobalService} from '../../services/global.service';\r\nimport {setSaltLinesOrBr} from '../../../Utils/validations.functions';\r\n\r\n@Component({\r\n  selector: 'app-consolidados',\r\n  templateUrl: './consolidados.page.html',\r\n  styleUrls: ['./consolidados.page.scss'],\r\n})\r\nexport class ConsolidadosPage implements OnInit {\r\n\r\n  reports: any[]|null = null;\r\n  members: any[] = [];\r\n  consolidates: any[] = [];\r\n  pendingMembers: any[] = [];\r\n  consolidatesPreview: any[] = [];\r\n  pendingVisitsTotals = 0;\r\n\r\n  sizeElems = 12;\r\n  minInitDate: string = dayjs('2021-01-01').format('YYYY-MM-DD');\r\n  maxInitDate: string = dayjs().format('YYYY-MM-DD');\r\n  minEndDate: string = dayjs('2021-01-01').format('YYYY-MM-DD');\r\n  maxEndDate: string = dayjs().format('YYYY-MM-DD');\r\n  queryParams: any = {\r\n    initDate: null,\r\n    endDate: null,\r\n    input: 'date',\r\n    value: '-1'\r\n  };\r\n  views: any = {\r\n    filter: false,\r\n    totals: true,\r\n    visits: true,\r\n    members: true,\r\n    pending: true,\r\n  };\r\n\r\n  constructor(\r\n    private globalSer: GlobalService,\r\n    private consolidadosService: ConsolidadosService,\r\n    private router: Router,\r\n  ) {\r\n    dayjs.extend(duration);\r\n    dayjs.extend(relativeTime);\r\n  }\r\n\r\n  async ngOnInit() {\r\n    if (!this.globalSer.checkSession()) await this.router.navigate(['/ingresar']);\r\n    // else await this.getData();\r\n  }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.getData();\r\n  }\r\n\r\n  async getData() {\r\n    await this.globalSer.presentLoading();\r\n    this.reports = null;\r\n    this.pendingVisitsTotals = null;\r\n    this.consolidates = [];\r\n    this.consolidatesPreview = [];\r\n\r\n    const data = await this.consolidadosService.getConsolidatesReport(this.queryParams);\r\n\r\n    if (data && !data.error) {\r\n      this.reports = data;\r\n      this.members = data.members || [];\r\n      this.setConsolidatesValues(data.consolidates || []);\r\n      this.setPendingMembers(data.pendingVisits || []);\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n    else if (data && data.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async showListResizeAlert() {\r\n    await this.globalSer.alertWithList({\r\n      header: 'Tamaños de las gráficas',\r\n      inputs: [\r\n        {\r\n          name: `resize`,\r\n          type: 'radio',\r\n          label: `Mediano`,\r\n          value: 6,\r\n          checked: this.sizeElems === 6,\r\n        },\r\n        {\r\n          name: `resize`,\r\n          type: 'radio',\r\n          label: `Grande`,\r\n          value: 12,\r\n          checked: this.sizeElems === 12,\r\n        },\r\n      ],\r\n      confirmAction: (value) => {\r\n        this.sizeElems = value;\r\n      }\r\n    });\r\n  }\r\n\r\n  setView(key) {\r\n    this.views[key] = !this.views[key];\r\n  }\r\n\r\n  async resetQueryParams() {\r\n    this.queryParams.initDate = null;\r\n    this.queryParams.endDate = null;\r\n    this.views.filter = !this.views.filter;\r\n    await this.getData();\r\n  }\r\n\r\n  async findData() {\r\n    let find = false;\r\n    if (!!this.queryParams.initDate) {\r\n      this.queryParams.initDate = dayjs(this.queryParams.initDate).format('YYYY-MM-DD');\r\n      find = true;\r\n    }\r\n    if (!!this.queryParams.endDate) {\r\n      this.queryParams.endDate = dayjs(this.queryParams.endDate).format('YYYY-MM-DD');\r\n      find = this.queryParams.initDate !== null;\r\n    }\r\n\r\n    if (find) await this.getData();\r\n    else this.globalSer.presentAlert('Alerta', 'Disculpe, pero debe indicar una fecha inicial');\r\n  }\r\n\r\n  setConsolidatesValues(data: any) {\r\n    this.consolidates = [];\r\n    this.consolidatesPreview = [];\r\n    if (data && data.length > 0) {\r\n      this.consolidates = data;\r\n      data.forEach(c => {\r\n        this.consolidatesPreview.push({\r\n          member: c.member,\r\n          observation: c.observation.length > 50 ?\r\n            `${setSaltLinesOrBr(c.observation.substr(0, 50))} ...`\r\n            : (setSaltLinesOrBr(c.observation) || 'No indicada.'),\r\n          date: c.date ?\r\n            dayjs(c.date, 'YYYY-MM-DD', true)\r\n              .locale('es')\r\n              .format('dddd, DD [de] MMMM [de] YYYY')\r\n            : 'No encontrada.',\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  setPendingMembers(data) {\r\n    this.pendingMembers = [];\r\n    this.pendingVisitsTotals = data.length;\r\n    if (this.pendingVisitsTotals > 0 && this.members.length > 0) {\r\n      data.forEach((userid: string) => {\r\n        const member = this.members.find(m => m._id === userid);\r\n        if (member) this.pendingMembers.push(member);\r\n      });\r\n    }\r\n  }\r\n\r\n  // details\r\n  async showDetails(index: number|null = null) {\r\n    if (index !== null) {\r\n      await this.globalSer.presentLoading();\r\n      const data = this.consolidates[index] || null;\r\n      if (data) {\r\n        await this.globalSer.loadModal(\r\n          DetallesConsolidadoPage,\r\n          { data },\r\n          true,\r\n        );\r\n        await this.globalSer.dismissLoading();\r\n      }\r\n      else {\r\n        await this.globalSer.dismissLoading();\r\n        await this.globalSer.presentAlert('Error', 'No se ha logrado determinar el elemento a visualizar.');\r\n      }\r\n    }\r\n    else\r\n      await this.globalSer.presentAlert('Error', 'No se ha logrado determinar el elemento a visualizar.');\r\n  }\r\n\r\n  // register visit\r\n  async goToVisitRegisterForm() {\r\n    await this.router.navigate([`consolidados/registrar-visita`]);\r\n  }\r\n\r\n  downloadData() {\r\n    if (this.consolidates.length > 0) {\r\n      const model = [];\r\n      // const keys = [\r\n      //   { key: 'date', key2: 'Fecha' },\r\n      //   { key: 'consolidator', key2: 'Visitante' },\r\n      //   { key: 'member', key2: 'Visitado' },\r\n      //   { key: 'observation', key2: 'Observacion' },\r\n      // ];\r\n      const getNames = (member: any = null) => {\r\n        return member ? `${member.names} ${member.lastNames} - ${member.phone}` : null;\r\n      };\r\n      this.consolidates.forEach(c => {\r\n        const m: any = {\r\n          Fecha: c.date,\r\n          Visitador: getNames(c.consolidator || null),\r\n          Visitado: getNames(c.member || null),\r\n          Observacion: c.observation?.replaceAll(',', ';;'),\r\n        };\r\n        model.push(m);\r\n      });\r\n\r\n      this.globalSer.downloadCSVFromJson(\r\n        `VISITAS_CONSOLIDADOS_CCADV_${dayjs().format('YYYY-MM-DD[_]HH:mm:ss')}.csv`,\r\n        model\r\n      );\r\n    }\r\n  }\r\n\r\n}\r\n","export default \".max-height-250 {\\n  max-height: 260px !important;\\n  overflow-y: auto;\\n}\\n\\n.max-height-450 {\\n  max-height: 450px !important;\\n  overflow-y: auto;\\n}\\n\\n.bigNumber {\\n  font-size: 1.5em !important;\\n}\\n\\n.bigIcon {\\n  font-size: 3em !important;\\n}\\n\\n.textTotals {\\n  font-size: 1.1em !important;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxjb25zb2xpZGFkb3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsNEJBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsNEJBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsMkJBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwyQkFBQTtFQUNBLGlCQUFBO0FBQ0YiLCJmaWxlIjoiY29uc29saWRhZG9zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXgtaGVpZ2h0LTI1MCB7XHJcbiAgbWF4LWhlaWdodDogMjYwcHggIWltcG9ydGFudDtcclxuICBvdmVyZmxvdy15OiBhdXRvO1xyXG59XHJcblxyXG4ubWF4LWhlaWdodC00NTAge1xyXG4gIG1heC1oZWlnaHQ6IDQ1MHB4ICFpbXBvcnRhbnQ7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxufVxyXG5cclxuLmJpZ051bWJlciB7XHJcbiAgZm9udC1zaXplOiAxLjVlbSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uYmlnSWNvbiB7XHJcbiAgZm9udC1zaXplOiAzZW0gIWltcG9ydGFudDtcclxufVxyXG5cclxuLnRleHRUb3RhbHMge1xyXG4gIGZvbnQtc2l6ZTogMS4xZW0gIWltcG9ydGFudDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4iXX0= */\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Consolidados</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"showListResizeAlert()\\\">\\r\\n        <ion-icon name=\\\"resize-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-text>Visualización</ion-text>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-row class=\\\"ion-no-padding ion-margin-start ion-margin-end ion-margin-top\\\">\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <div class=\\\"\\\">\\r\\n        <ion-button color=\\\"medium\\\" (click)=\\\"setView('filter')\\\">\\r\\n          <ion-icon name=\\\"filter-outline\\\" slot=\\\"start\\\" *ngIf=\\\"!views.filter\\\"></ion-icon>\\r\\n          <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\" *ngIf=\\\"views.filter\\\"></ion-icon>\\r\\n          <ion-text>Filtrar</ion-text>\\r\\n        </ion-button>\\r\\n        <ion-button (click)=\\\"goToVisitRegisterForm()\\\">\\r\\n          <ion-icon name=\\\"clipboard-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          <ion-text>Registrar visita</ion-text>\\r\\n        </ion-button>\\r\\n        <ion-button (click)=\\\"downloadData()\\\">\\r\\n          <ion-icon name=\\\"download-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          <ion-text>Descargar datos</ion-text>\\r\\n        </ion-button>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" *ngIf=\\\"views.filter\\\">\\r\\n      <ion-card>\\r\\n        <ion-card-content>\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" color=\\\"medium\\\">A partir de:</ion-label>\\r\\n                <ion-datetime\\r\\n                  [(ngModel)]=\\\"queryParams.initDate\\\"\\r\\n                  displayFormat=\\\"DD/MM/YYYY\\\"\\r\\n                  [min]=\\\"minInitDate\\\"\\r\\n                  [max]=\\\"maxInitDate\\\"\\r\\n                  doneText=\\\"Listo\\\"\\r\\n                  cancelText=\\\"Cancelar\\\"\\r\\n                ></ion-datetime>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Hasta:</ion-label>\\r\\n                <ion-datetime\\r\\n                  [(ngModel)]=\\\"queryParams.endDate\\\"\\r\\n                  displayFormat=\\\"DD/MM/YYYY\\\"\\r\\n                  [min]=\\\"minEndDate\\\"\\r\\n                  [max]=\\\"maxEndDate\\\"\\r\\n                  doneText=\\\"Listo\\\"\\r\\n                  cancelText=\\\"Cancelar\\\"\\r\\n                ></ion-datetime>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-col size=\\\"6\\\" class=\\\"ion-justify-content-center\\\">\\r\\n              <ion-button class=\\\"ion-text-center\\\" color=\\\"medium\\\" expand=\\\"full\\\" (click)=\\\"resetQueryParams()\\\">\\r\\n                <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n                <ion-text>Limpiar</ion-text>\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"6\\\" class=\\\"ion-justify-content-center\\\">\\r\\n              <ion-button class=\\\"ion-text-center\\\" color=\\\"primary\\\" expand=\\\"full\\\" (click)=\\\"findData()\\\">\\r\\n                <ion-icon name=\\\"checkmark-outline\\\"></ion-icon>\\r\\n                <ion-text>Aplicar</ion-text>\\r\\n              </ion-button>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n  <ion-row class=\\\"ion-margin-top ion-margin-bottom ion-padding-bottom\\\" *ngIf=\\\"reports\\\">\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <ion-card class=\\\"ion-no-padding\\\">\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n          <ion-toolbar color=\\\"primary\\\">\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n              <ion-button (click)=\\\"setView('totals')\\\">\\r\\n                <ion-icon name=\\\"chevron-{{views.totals  ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </ion-buttons>\\r\\n            <ion-title>Resumen</ion-title>\\r\\n          </ion-toolbar>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"{{ views.totals ? '' : 'ion-hide'}} ion-no-padding no-selected-text\\\">\\r\\n          <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"4\\\" class=\\\"ion-text-center\\\">\\r\\n              <ion-text>\\r\\n                <span class=\\\"bigIcon\\\">{{ members.length }}</span>\\r\\n                <br>\\r\\n              </ion-text>\\r\\n              <ion-text>\\r\\n                <p class=\\\"textTotals\\\">\\r\\n                  <ion-icon name=\\\"body-outline\\\" class=\\\"textTotals\\\"></ion-icon>\\r\\n                  Miembros consolidados\\r\\n                </p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"4\\\" class=\\\"ion-text-center\\\">\\r\\n              <ion-text>\\r\\n                <span class=\\\"bigIcon\\\">{{ consolidates.length }}</span>\\r\\n                <br>\\r\\n              </ion-text>\\r\\n              <ion-text>\\r\\n                <p class=\\\"textTotals\\\">\\r\\n                  <ion-icon name=\\\"footsteps-outline\\\" class=\\\"textTotals\\\"></ion-icon>\\r\\n                  Visitas realizadas\\r\\n                </p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"4\\\" class=\\\"ion-text-center\\\">\\r\\n              <ion-text>\\r\\n                <span class=\\\"bigIcon\\\">{{ pendingVisitsTotals || 0 }}</span>\\r\\n                <br>\\r\\n              </ion-text>\\r\\n              <ion-text>\\r\\n                <p class=\\\"textTotals\\\">\\r\\n                  <ion-icon name=\\\"timer-outline\\\" class=\\\"textTotals\\\"></ion-icon>\\r\\n                  Visitas pendientes\\r\\n                </p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems\\\">\\r\\n      <ion-card class=\\\"ion-no-padding\\\">\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n          <ion-toolbar color=\\\"primary\\\">\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n              <ion-button (click)=\\\"setView('visits')\\\">\\r\\n                <ion-icon name=\\\"chevron-{{views.visits ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </ion-buttons>\\r\\n            <ion-title>Visitas</ion-title>\\r\\n          </ion-toolbar>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"{{ views.visits ? '' : 'ion-hide'}} ion-no-padding\\\">\\r\\n          <ion-row *ngIf=\\\"consolidatesPreview && consolidatesPreview.length > 0; else noConsolidates\\\" class=\\\"{{ sizeElems === 6 ? 'max-height-250' : 'max-height-450'}}\\\">\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems === 6 ? 12 : 6\\\" *ngFor=\\\"let c of consolidatesPreview; let i=index\\\">\\r\\n              <ion-card (click)=\\\"showDetails(i)\\\">\\r\\n                <ion-card-content class=\\\"no-selected-text\\\">\\r\\n                  <ion-text>\\r\\n                    <p><b>{{ c.member ? c.member.names + ' ' + c.member.lastNames : 'Desconocido' }}</b></p>\\r\\n                  </ion-text>\\r\\n                  <ion-text>\\r\\n                    <p>{{ c.observation }}</p>\\r\\n                  </ion-text>\\r\\n                  <ion-text>\\r\\n                    <span><b>Fecha: </b>{{ c.date }}</span><br>\\r\\n                  </ion-text>\\r\\n                  <ion-text>\\r\\n                    <i class=\\\"toSmall\\\">Clic para más detalles.</i>\\r\\n                  </ion-text>\\r\\n                </ion-card-content>\\r\\n              </ion-card>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ng-template #noConsolidates>\\r\\n            <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <ion-text color=\\\"medium\\\">\\r\\n                  <p class=\\\"ion-text-center\\\">\\r\\n                    <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> No se encontraron visitas.\\r\\n                  </p>\\r\\n                </ion-text>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ng-template>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems\\\">\\r\\n      <ion-card class=\\\"ion-no-padding\\\">\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n          <ion-toolbar color=\\\"primary\\\">\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n              <ion-button (click)=\\\"setView('members')\\\">\\r\\n                <ion-icon name=\\\"chevron-{{views.members ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </ion-buttons>\\r\\n            <ion-title>Miembros consolidados</ion-title>\\r\\n          </ion-toolbar>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"{{ views.members ? '' : 'ion-hide'}} ion-no-padding\\\">\\r\\n          <ion-row *ngIf=\\\"members && members.length > 0; else noMembers\\\" class=\\\"{{ sizeElems === 6 ? 'max-height-250' : 'max-height-450'}}\\\">\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems === 6 ? 12 : 4\\\" *ngFor=\\\"let member of members;\\\">\\r\\n              <app-usercard [data]=\\\"member\\\"></app-usercard>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ng-template #noMembers>\\r\\n            <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <ion-text color=\\\"medium\\\">\\r\\n                  <p class=\\\"ion-text-center\\\">\\r\\n                    <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> No existen miembros.\\r\\n                  </p>\\r\\n                </ion-text>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ng-template>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems\\\">\\r\\n      <ion-card class=\\\"ion-no-padding\\\">\\r\\n        <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n          <ion-toolbar color=\\\"primary\\\">\\r\\n            <ion-buttons slot=\\\"start\\\">\\r\\n              <ion-button (click)=\\\"setView('pending')\\\">\\r\\n                <ion-icon name=\\\"chevron-{{views.pending ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n              </ion-button>\\r\\n            </ion-buttons>\\r\\n            <ion-title>Miembros pendientes por visita</ion-title>\\r\\n          </ion-toolbar>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content class=\\\"{{ views.pending ? '' : 'ion-hide'}} ion-no-padding\\\">\\r\\n          <ion-row *ngIf=\\\"pendingMembers && pendingMembers.length > 0; else noPending\\\" class=\\\"{{ sizeElems === 6 ? 'max-height-250' : 'max-height-450'}}\\\">\\r\\n            <ion-col size=\\\"12\\\" [sizeSm]=\\\"sizeElems === 6 ? 12 : 4\\\" *ngFor=\\\"let pm of pendingMembers;\\\">\\r\\n              <app-usercard [data]=\\\"pm\\\" [goDetails]=\\\"false\\\"></app-usercard>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ng-template #noPending>\\r\\n            <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\r\\n              <ion-col size=\\\"12\\\">\\r\\n                <ion-text color=\\\"medium\\\">\\r\\n                  <p class=\\\"ion-text-center\\\">\\r\\n                    <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon> No existen miembros pendientes por visitas.\\r\\n                  </p>\\r\\n                </ion-text>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ng-template>\\r\\n        </ion-card-content>\\r\\n      </ion-card>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ConsolidadosPageRoutingModule } from './consolidados-routing.module';\r\n\r\nimport { ConsolidadosPage } from './consolidados.page';\r\nimport {ComponentsModule} from '../../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ConsolidadosPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [ConsolidadosPage]\r\n})\r\nexport class ConsolidadosPageModule {}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"closeModal()\\\">\\r\\n        <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Detalle de la visita</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-row *ngIf=\\\"data\\\" class=\\\"ion-padding\\\">\\r\\n    <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-text><b>Consolidador:</b></ion-text>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <app-usercard [data]=\\\"data.consolidator\\\" (click)=\\\"closeModal()\\\"></app-usercard>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <ion-text><b>Miembro visitado:</b></ion-text>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\">\\r\\n          <app-usercard [data]=\\\"data.member\\\" (click)=\\\"closeModal()\\\"></app-usercard>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-col>\\r\\n    <ion-col size=\\\"12\\\">\\r\\n      <ion-row>\\r\\n        <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n          <ion-text color=\\\"medium\\\">\\r\\n            <b>Fecha de la visita: </b>\\r\\n            <br><br>\\r\\n            {{ data.date }}\\r\\n            <br>\\r\\n          </ion-text>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\r\\n          <ion-text color=\\\"medium\\\">\\r\\n            <b>Acción: </b>\\r\\n            <br><br>\\r\\n            {{ data.action }}\\r\\n            <br>\\r\\n          </ion-text>\\r\\n        </ion-col>\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-margin-top\\\">\\r\\n          <ion-text>\\r\\n            <b>Observación: </b>\\r\\n            <br><br>\\r\\n          </ion-text>\\r\\n          <div [innerHTML]=\\\"data.observation\\\"></div>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n  <br>\\r\\n  <br>\\r\\n</ion-content>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport {AxiosService} from '../../services/axios.service';\r\nimport {GlobalService} from '../../services/global.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConsolidadosService {\r\n\r\n  constructor(\r\n    private axios: AxiosService,\r\n    private globalSer: GlobalService\r\n  ) {}\r\n\r\n  // axios actions\r\n\r\n  async getConsolidatesReport(query: any = {}): Promise<any> {\r\n    const res: any = await this.axios.getData('/admin/consolidates', query);\r\n\r\n    if (res && res.success) return res.data.data || null;\r\n    return this.globalSer.altResponse(res);\r\n  }\r\n\r\n  async saveConsolidateReport(data: any = {}): Promise<any> {\r\n    const res: any = await this.axios.postData('/admin/consolidates/report', data);\r\n\r\n    if (res && res.success) return res.data.msg;\r\n    return this.globalSer.altResponse(res);\r\n  }\r\n\r\n  async getConsolidatesMembers(): Promise<any> {\r\n    const res: any = await this.axios.getData('/admin/consolidates/members');\r\n\r\n    if (res && res.success) return res.data.members;\r\n    return this.globalSer.altResponse(res);\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhbGxlcy1jb25zb2xpZGFkby5wYWdlLnNjc3MifQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ConsolidadosPage } from './consolidados.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConsolidadosPage\r\n  },\r\n  {\r\n    path: 'detalles-consolidado',\r\n    loadChildren: () => import('./detalles-consolidado/detalles-consolidado.module').then( m => m.DetallesConsolidadoPageModule)\r\n  },\r\n  {\r\n    path: 'registrar-visita',\r\n    loadChildren: () => import('./registrar-visita/registrar-visita.module').then( m => m.RegistrarVisitaPageModule)\r\n  },\r\n  {\r\n    path: 'miembros-consolidados',\r\n    loadChildren: () => import('./miembros-consolidados/miembros-consolidados.module').then( m => m.MiembrosConsolidadosPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ConsolidadosPageRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}