(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{Tmey:function(t,n,e){"use strict";e.r(n),e.d(n,"DetallesEventoPageModule",function(){return K});var o=e("ofXK"),i=e("3Pt+"),b=e("TEn/"),a=e("tyNb"),r=e("mrSG"),s=e("Wgwc"),c=e.n(s),l=e("13Ln"),d=e.n(l),u=(e("4HKe"),e("QgiU")),h=e.n(u),m=e("fXoL"),f=e("QTu/"),v=e("ykbS"),L=e("4WDQ"),M=e("+woh");function g(t,n){if(1&t){const t=m.Nb();m.Mb(0,"ion-buttons",4),m.Mb(1,"ion-button",5),m.Ub("click",function(){return m.ic(t),m.Wb().goBack()}),m.Kb(2,"ion-icon",6),m.Lb(),m.Lb()}}function p(t,n){if(1&t){const t=m.Nb();m.Mb(0,"ion-button",11),m.Ub("click",function(){return m.ic(t),m.Wb(2).cancelEditInfo()}),m.Kb(1,"ion-icon",12),m.Mb(2,"ion-text"),m.pc(3,"Cancelar"),m.Lb(),m.Lb()}}function D(t,n){if(1&t){const t=m.Nb();m.Mb(0,"ion-button",13),m.Ub("click",function(){return m.ic(t),m.Wb(2).setShowEditForm()}),m.Kb(1,"ion-icon",14),m.Mb(2,"ion-text"),m.pc(3,"Editar"),m.Lb(),m.Lb()}}function x(t,n){if(1&t){const t=m.Nb();m.Mb(0,"ion-button",15),m.Ub("click",function(){return m.ic(t),m.Wb(2).confirmDeleteAction()}),m.Kb(1,"ion-icon",16),m.Mb(2,"ion-text"),m.pc(3,"Borrar evento"),m.Lb(),m.Lb()}}function w(t,n){if(1&t&&(m.Mb(0,"ion-buttons",7),m.nc(1,p,4,0,"ion-button",8),m.nc(2,D,4,0,"ion-button",9),m.nc(3,x,4,0,"ion-button",10),m.Lb()),2&t){const t=m.Wb();m.xb(1),m.Zb("ngIf",t.showEditForm),m.xb(1),m.Zb("ngIf",!t.showEditForm),m.xb(1),m.Zb("ngIf",!t.showEditForm)}}function S(t,n){if(1&t&&(m.Mb(0,"ion-row"),m.Mb(1,"ion-col",17),m.Kb(2,"app-events-form",18),m.Lb(),m.Lb()),2&t){const t=m.Wb();m.xb(2),m.Zb("eventData",t.eventDataForm)("handleCancel",t.cancelEditInfo)("handleSave",t.saveEditInfo)}}const y=function(t){return{backgroundImage:t,height:"300px"}};function E(t,n){if(1&t&&m.Kb(0,"ion-col",32),2&t){const t=m.Wb(2);m.Zb("ngStyle",m.ec(1,y,"url("+t.eventData.picture+")"))}}function I(t,n){1&t&&(m.Mb(0,"ion-col",17),m.Kb(1,"ion-img",33),m.Lb()),2&t&&(m.xb(1),m.Zb("src","/assets/icon/evento_lista.svg"))}function Z(t,n){1&t&&(m.Mb(0,"ion-col",17),m.Mb(1,"ion-text",28),m.Mb(2,"b"),m.pc(3,"Hora fin:"),m.Lb(),m.Lb(),m.Lb())}function F(t,n){if(1&t&&(m.Mb(0,"ion-col",17),m.Mb(1,"ion-text",28),m.pc(2),m.Lb(),m.Lb()),2&t){const t=m.Wb(2);m.xb(2),m.qc(t.eventData.endHour||"????")}}function k(t,n){if(1&t&&(m.Mb(0,"ion-row",19),m.Mb(1,"ion-col",20),m.Mb(2,"ion-row"),m.nc(3,E,1,3,"ion-col",21),m.nc(4,I,2,1,"ion-col",22),m.Lb(),m.Lb(),m.Mb(5,"ion-col",23),m.Mb(6,"ion-row"),m.Mb(7,"ion-col",17),m.Mb(8,"ion-text",24),m.Mb(9,"h2",25),m.pc(10),m.Lb(),m.Lb(),m.Kb(11,"hr",26),m.Lb(),m.Mb(12,"ion-col",27),m.Mb(13,"ion-row"),m.Mb(14,"ion-col",17),m.Mb(15,"ion-text",28),m.Mb(16,"b"),m.pc(17,"Fecha:"),m.Lb(),m.Lb(),m.Lb(),m.Mb(18,"ion-col",17),m.Mb(19,"ion-text",28),m.pc(20),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(21,"ion-col",27),m.Mb(22,"ion-row"),m.Mb(23,"ion-col",17),m.Mb(24,"ion-text",28),m.Mb(25,"b"),m.pc(26,"Hora inicio:"),m.Lb(),m.Lb(),m.Lb(),m.Mb(27,"ion-col",17),m.Mb(28,"ion-text",28),m.pc(29),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(30,"ion-col",27),m.Mb(31,"ion-row"),m.nc(32,Z,4,0,"ion-col",22),m.nc(33,F,3,1,"ion-col",22),m.Lb(),m.Lb(),m.Mb(34,"ion-col",27),m.Mb(35,"ion-row"),m.Mb(36,"ion-col",17),m.Mb(37,"ion-text",28),m.Mb(38,"b"),m.pc(39,"Creado por:"),m.Lb(),m.Lb(),m.Lb(),m.Mb(40,"ion-col",17),m.Mb(41,"ion-text",28),m.pc(42),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(43,"ion-col",27),m.Mb(44,"ion-row"),m.Mb(45,"ion-col",17),m.Mb(46,"ion-text",28),m.Mb(47,"b"),m.pc(48,"Dirigido a:"),m.Lb(),m.Lb(),m.Lb(),m.Mb(49,"ion-col",17),m.Mb(50,"ion-text",28),m.pc(51),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Mb(52,"ion-col",29),m.Mb(53,"ion-text"),m.Mb(54,"b",30),m.pc(55,"Descripci\xf3n:"),m.Lb(),m.Lb(),m.Mb(56,"ion-text",28),m.Kb(57,"div",31),m.Lb(),m.Lb(),m.Lb()),2&t){const t=m.Wb();m.xb(3),m.Zb("ngIf",t.eventData.picture),m.xb(1),m.Zb("ngIf",!t.eventData.picture),m.xb(6),m.qc(t.eventData.title?t.eventData.title:""),m.xb(2),m.Zb("sizeSm",6),m.xb(8),m.qc(t.eventData.date?t.eventData.date:"????"),m.xb(1),m.Zb("sizeSm",3),m.xb(8),m.qc((null==t.eventData?null:t.eventData.initHour)||"????"),m.xb(1),m.Zb("sizeSm",3),m.xb(2),m.Zb("ngIf",null==t.eventData?null:t.eventData.endHour),m.xb(1),m.Zb("ngIf",null==t.eventData?null:t.eventData.endHour),m.xb(1),m.Zb("sizeSm",6),m.xb(8),m.qc(t.eventData.user?t.eventData.user.names+" "+t.eventData.user.lastNames:"An\xf3nimo"),m.xb(1),m.Zb("sizeSm",6),m.xb(8),m.qc(t.getRoleValue()),m.xb(1),m.Zb("size",12),m.xb(5),m.Zb("innerHTML",t.eventData.description,m.jc)}}function H(t,n){1&t&&(m.Mb(0,"ion-row",19),m.Mb(1,"ion-col",17),m.Mb(2,"ion-card",34),m.Mb(3,"ion-card-content"),m.Mb(4,"ion-row"),m.Mb(5,"ion-col",35),m.Mb(6,"ion-text"),m.Mb(7,"p"),m.Kb(8,"ion-icon",36),m.pc(9," Disculpe, pero no se logr\xf3 obtener la informaci\xf3n del evento."),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Lb())}function z(t,n){1&t&&(m.Mb(0,"ion-row",19),m.Mb(1,"ion-col",37),m.Kb(2,"br"),m.Lb(),m.Lb())}const j=[{path:"",component:(()=>{class t{constructor(t,n,e,o,i){this.activateRoute=t,this.cookiesService=n,this.eventsService=e,this.globalSer=o,this.navCtrl=i,this.eventData=null,this.eventDataForm=null,this.id=null,this.showEditForm=!1,this.roles=["Administradores","Pastores","Supervisores","L\xedderes","Personas"],this.cancelEditInfo=()=>{this.setShowEditForm()},this.saveEditInfo=t=>{this.setDataToParams(t)},c.a.extend(d.a),c.a.extend(h.a)}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){this.id=this.activateRoute.snapshot.paramMap.get("_id"),this.id?yield this.getDataEvent():(yield this.globalSer.presentAlert("Alerta","Disculpe, pero ha ocurrido un error al momento de obtener la informaci\xf3n del evento."),yield this.navCtrl.back())})}getDataEvent(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=yield this.eventsService.getDetailsEvent(this.id);t&&!t.error?(yield this.setDataToParams(t),yield this.globalSer.dismissLoading()):t&&t.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteEvent(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=yield this.eventsService.deleteEvent(this.id);if(t&&!t.error){const{msg:n}=t||{};yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",n||"Se ha eliminado el evento exitosamente."),yield this.goBack()}else t&&t.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}goBack(){return Object(r.a)(this,void 0,void 0,function*(){yield this.navCtrl.back()})}setDataToParams(t){this.eventDataForm=Object.assign(Object.assign({},this.eventDataForm),t),this.eventData=Object.assign(Object.assign({},this.eventData),t),this.eventData.date=c()(t.date,"YYYY-MM-DD",!0).locale("es").format("dddd, DD [de] MMMM [de] YYYY"),this.eventData.initHour=c()(`${t.date} ${t.initHour}`,"YYYY-MM-DD HH:mm",!0).format("hh:mm a"),this.eventData.endHour=t.endHour?c()(`${t.date} ${t.endHour}`,"YYYY-MM-DD HH:mm",!0).format("hh:mm a"):null,this.showEditForm&&(this.showEditForm=!1)}setShowEditForm(){this.showEditForm=!this.showEditForm}getRoleValue(){const{toRoles:t}=this.eventData||{};let n="CUALQUIER P\xdaBLICO";if((null==t?void 0:t.length)>0){n="";for(const e of t)""===n?n=this.roles[e]:n+=", "+this.roles[e]}return(""+n).toUpperCase()}confirmDeleteAction(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"\xa1Confirme!",message:"\xbfEst\xe1 seguro qu\xe9 desea eliminar este evento?",confirmAction:()=>this.deleteEvent()})})}}return t.\u0275fac=function(n){return new(n||t)(m.Jb(a.a),m.Jb(f.a),m.Jb(v.a),m.Jb(L.a),m.Jb(b.T))},t.\u0275cmp=m.Db({type:t,selectors:[["app-detalles-evento"]],decls:11,vars:7,consts:[["slot","start",4,"ngIf"],["slot","end",4,"ngIf"],[4,"ngIf"],["class","ion-margin",4,"ngIf"],["slot","start"],[3,"click"],["name","arrow-back-outline"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["color","medium",3,"click"],["name","close-outline","slot","start"],["color","primary",3,"click"],["name","create-outline","slot","start"],["color","danger",3,"click"],["name","trash-outline","slot","start"],["size","12"],[3,"eventData","handleCancel","handleSave"],[1,"ion-margin"],["size","12","size-sm","4"],["size","12","class","banner-event",3,"ngStyle",4,"ngIf"],["size","12",4,"ngIf"],["size","12","size-sm","8"],["color","primary"],[1,"title-event"],[1,"border"],["size","12",3,"sizeSm"],["color","medium"],[1,"ion-margin-top",3,"size"],[1,"no-selected-text"],[3,"innerHTML"],["size","12",1,"banner-event",3,"ngStyle"],["height","150",1,"pictureIcon",3,"src"],[1,"ion-no-margin","ion-no-padding"],["size","12",1,"ion-text-center"],["name","alert-circle-outline"],["size","12",1,"ion-margin-top","ion-margin-bottom"]],template:function(t,n){1&t&&(m.Mb(0,"ion-header"),m.Mb(1,"ion-toolbar"),m.nc(2,g,3,0,"ion-buttons",0),m.Mb(3,"ion-title"),m.pc(4),m.Lb(),m.nc(5,w,4,3,"ion-buttons",1),m.Lb(),m.Lb(),m.Mb(6,"ion-content"),m.nc(7,S,3,3,"ion-row",2),m.nc(8,k,58,16,"ion-row",3),m.nc(9,H,10,0,"ion-row",3),m.nc(10,z,3,0,"ion-row",3),m.Lb()),2&t&&(m.xb(2),m.Zb("ngIf",!n.showEditForm),m.xb(2),m.rc("",n.showEditForm?"Editar":"Detalles"," del evento"),m.xb(1),m.Zb("ngIf",n.eventData),m.xb(2),m.Zb("ngIf",n.eventDataForm&&n.showEditForm),m.xb(1),m.Zb("ngIf",n.eventData&&!n.showEditForm),m.xb(1),m.Zb("ngIf",!n.eventData&&!n.showEditForm),m.xb(1),m.Zb("ngIf",!n.showEditForm))},directives:[b.r,b.O,o.i,b.M,b.o,b.f,b.e,b.s,b.J,b.E,b.n,M.a,o.j,b.t,b.g,b.h],styles:[""]}),t})()}];let Y=(()=>{class t{}return t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({factory:function(n){return new(n||t)},imports:[[a.j.forChild(j)],a.j]}),t})();var C=e("j1ZV");let K=(()=>{class t{}return t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({factory:function(n){return new(n||t)},imports:[[o.b,i.a,b.P,Y,C.a]]}),t})()}}]);