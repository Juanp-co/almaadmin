(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{Tmey:function(t,e,n){"use strict";n.r(e),n.d(e,"DetallesEventoPageModule",function(){return W});var o=n("ofXK"),i=n("3Pt+"),b=n("TEn/"),a=n("tyNb"),r=n("mrSG"),s=n("Wgwc"),c=n.n(s),l=n("13Ln"),d=n.n(l),m=(n("4HKe"),n("QgiU")),u=n.n(m),h=n("fXoL"),M=n("QTu/"),f=n("ykbS"),L=n("4WDQ"),v=n("+woh");function g(t,e){if(1&t){const t=h.Nb();h.Mb(0,"ion-buttons",4),h.Mb(1,"ion-button",5),h.Ub("click",function(){return h.ic(t),h.Wb().goBack()}),h.Kb(2,"ion-icon",6),h.Lb(),h.Lb()}}function p(t,e){if(1&t){const t=h.Nb();h.Mb(0,"ion-button",11),h.Ub("click",function(){return h.ic(t),h.Wb(2).cancelEditInfo()}),h.Kb(1,"ion-icon",12),h.Mb(2,"ion-text"),h.pc(3,"Cancelar"),h.Lb(),h.Lb()}}function D(t,e){if(1&t){const t=h.Nb();h.Mb(0,"ion-button",13),h.Ub("click",function(){return h.ic(t),h.Wb(2).setShowEditForm()}),h.Kb(1,"ion-icon",14),h.Mb(2,"ion-text"),h.pc(3,"Editar"),h.Lb(),h.Lb()}}function x(t,e){if(1&t){const t=h.Nb();h.Mb(0,"ion-button",15),h.Ub("click",function(){return h.ic(t),h.Wb(2).confirmDeleteAction()}),h.Kb(1,"ion-icon",16),h.Mb(2,"ion-text"),h.pc(3,"Borrar evento"),h.Lb(),h.Lb()}}function w(t,e){if(1&t&&(h.Mb(0,"ion-buttons",7),h.nc(1,p,4,0,"ion-button",8),h.nc(2,D,4,0,"ion-button",9),h.nc(3,x,4,0,"ion-button",10),h.Lb()),2&t){const t=h.Wb();h.xb(1),h.Zb("ngIf",t.showEditForm),h.xb(1),h.Zb("ngIf",!t.showEditForm),h.xb(1),h.Zb("ngIf",!t.showEditForm)}}function E(t,e){if(1&t&&(h.Mb(0,"ion-row"),h.Mb(1,"ion-col",17),h.Kb(2,"app-events-form",18),h.Lb(),h.Lb()),2&t){const t=h.Wb();h.xb(2),h.Zb("eventData",t.eventDataForm)("handleCancel",t.cancelEditInfo)("handleSave",t.saveEditInfo)}}const S=function(t){return{backgroundImage:t,height:"300px"}};function y(t,e){if(1&t&&h.Kb(0,"ion-col",32),2&t){const t=h.Wb(2);h.Zb("ngStyle",h.ec(1,S,"url("+t.eventData.picture+")"))}}function I(t,e){1&t&&(h.Mb(0,"ion-col",17),h.Kb(1,"ion-img",33),h.Lb()),2&t&&(h.xb(1),h.Zb("src","/assets/icon/evento_lista.svg"))}function F(t,e){if(1&t&&(h.Mb(0,"ion-col",17),h.Mb(1,"ion-row"),h.Mb(2,"ion-col",27),h.Mb(3,"ion-text"),h.Mb(4,"b"),h.pc(5,"Fecha inicio:"),h.Lb(),h.Lb(),h.Kb(6,"br"),h.Mb(7,"ion-text",28),h.pc(8),h.Lb(),h.Lb(),h.Mb(9,"ion-col",27),h.Mb(10,"ion-text"),h.Mb(11,"b"),h.pc(12,"Fecha fin:"),h.Lb(),h.Lb(),h.Kb(13,"br"),h.Mb(14,"ion-text",28),h.pc(15),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&t){const t=h.Wb(2);h.xb(2),h.Zb("sizeSm",6),h.xb(6),h.qc(t.eventData.date||"????"),h.xb(1),h.Zb("sizeSm",6),h.xb(6),h.qc(t.eventData.dateEnd||"????")}}function Z(t,e){if(1&t&&(h.Mb(0,"ion-col",35),h.Mb(1,"ion-text"),h.Mb(2,"b"),h.pc(3,"Hora fin:"),h.Lb(),h.Lb(),h.Kb(4,"br"),h.Mb(5,"ion-text",28),h.pc(6),h.Lb(),h.Lb()),2&t){const t=h.Wb(3);h.xb(6),h.qc(t.eventData.endHour||"????")}}function z(t,e){if(1&t&&(h.Mb(0,"ion-col",17),h.Mb(1,"ion-row"),h.Mb(2,"ion-col",27),h.Mb(3,"ion-text"),h.Mb(4,"b"),h.pc(5,"Fecha:"),h.Lb(),h.Lb(),h.Kb(6,"br"),h.Mb(7,"ion-text",28),h.pc(8),h.Lb(),h.Lb(),h.Mb(9,"ion-col",34),h.Mb(10,"ion-row"),h.Mb(11,"ion-col",35),h.Mb(12,"ion-text"),h.Mb(13,"b"),h.pc(14,"Hora inicio:"),h.Lb(),h.Lb(),h.Kb(15,"br"),h.Mb(16,"ion-text",28),h.pc(17),h.Lb(),h.Lb(),h.nc(18,Z,7,1,"ion-col",36),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&t){const t=h.Wb(2);h.xb(2),h.Zb("sizeSm",6),h.xb(6),h.qc(t.eventData.date?t.eventData.date:"????"),h.xb(1),h.Zb("sizeSm",6),h.xb(8),h.qc((null==t.eventData?null:t.eventData.initHour)||"????"),h.xb(1),h.Zb("ngIf",null==t.eventData?null:t.eventData.endHour)}}function H(t,e){if(1&t&&(h.Mb(0,"ion-row",19),h.Mb(1,"ion-col",20),h.Mb(2,"ion-row"),h.nc(3,y,1,3,"ion-col",21),h.nc(4,I,2,1,"ion-col",22),h.Lb(),h.Lb(),h.Mb(5,"ion-col",23),h.Mb(6,"ion-row"),h.Mb(7,"ion-col",17),h.Mb(8,"ion-text",24),h.Mb(9,"h2",25),h.pc(10),h.Lb(),h.Lb(),h.Kb(11,"hr",26),h.Lb(),h.nc(12,F,16,4,"ion-col",22),h.nc(13,z,19,5,"ion-col",22),h.Mb(14,"ion-col",27),h.Mb(15,"ion-row"),h.Mb(16,"ion-col",17),h.Mb(17,"ion-text",28),h.Mb(18,"b"),h.pc(19,"Creado por:"),h.Lb(),h.Lb(),h.Lb(),h.Mb(20,"ion-col",17),h.Mb(21,"ion-text",28),h.pc(22),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(23,"ion-col",27),h.Mb(24,"ion-row"),h.Mb(25,"ion-col",17),h.Mb(26,"ion-text",28),h.Mb(27,"b"),h.pc(28,"Dirigido a:"),h.Lb(),h.Lb(),h.Lb(),h.Mb(29,"ion-col",17),h.Mb(30,"ion-text",28),h.pc(31),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(32,"ion-col",29),h.Mb(33,"ion-text"),h.Mb(34,"b",30),h.pc(35,"Descripci\xf3n:"),h.Lb(),h.Lb(),h.Mb(36,"ion-text",28),h.Kb(37,"div",31),h.Lb(),h.Lb(),h.Lb()),2&t){const t=h.Wb();h.xb(3),h.Zb("ngIf",t.eventData.picture),h.xb(1),h.Zb("ngIf",!t.eventData.picture),h.xb(6),h.qc(t.eventData.title?t.eventData.title:""),h.xb(2),h.Zb("ngIf",t.eventDataForm.dateEnd),h.xb(1),h.Zb("ngIf",!t.eventDataForm.dateEnd),h.xb(1),h.Zb("sizeSm",6),h.xb(8),h.qc(t.eventData.user?t.eventData.user.names+" "+t.eventData.user.lastNames:"An\xf3nimo"),h.xb(1),h.Zb("sizeSm",6),h.xb(8),h.qc(t.getRoleValue()),h.xb(1),h.Zb("size",12),h.xb(5),h.Zb("innerHTML",t.eventData.description,h.jc)}}function Y(t,e){1&t&&(h.Mb(0,"ion-row",19),h.Mb(1,"ion-col",17),h.Mb(2,"ion-card",37),h.Mb(3,"ion-card-content"),h.Mb(4,"ion-row"),h.Mb(5,"ion-col",38),h.Mb(6,"ion-text"),h.Mb(7,"p"),h.Kb(8,"ion-icon",39),h.pc(9," Disculpe, pero no se logr\xf3 obtener la informaci\xf3n del evento."),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb())}function k(t,e){1&t&&(h.Mb(0,"ion-row",19),h.Mb(1,"ion-col",40),h.Kb(2,"br"),h.Lb(),h.Lb())}const K=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i){this.activateRoute=t,this.cookiesService=e,this.eventsService=n,this.globalSer=o,this.navCtrl=i,this.eventData=null,this.eventDataForm=null,this.id=null,this.showEditForm=!1,this.roles=["Administradores","Pastores","Supervisores","L\xedderes","Personas"],this.cancelEditInfo=()=>{this.setShowEditForm()},this.saveEditInfo=t=>{this.setDataToParams(t)},c.a.extend(d.a),c.a.extend(u.a)}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){this.id=this.activateRoute.snapshot.paramMap.get("_id"),this.id?yield this.getDataEvent():(yield this.globalSer.presentAlert("Alerta","Disculpe, pero ha ocurrido un error al momento de obtener la informaci\xf3n del evento."),yield this.navCtrl.back())})}getDataEvent(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=yield this.eventsService.getDetailsEvent(this.id);t&&!t.error?(yield this.setDataToParams(t),yield this.globalSer.dismissLoading()):t&&t.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteEvent(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const t=yield this.eventsService.deleteEvent(this.id);if(t&&!t.error){const{msg:e}=t||{};yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",e||"Se ha eliminado el evento exitosamente."),yield this.goBack()}else t&&t.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}goBack(){return Object(r.a)(this,void 0,void 0,function*(){yield this.navCtrl.back()})}setDataToParams(t){this.eventDataForm=Object.assign(Object.assign({},this.eventDataForm),t),this.eventData=Object.assign(Object.assign({},this.eventData),t);const e=`${t.date} ${t.initHour}`,n=`${t.dateEnd||t.date} ${t.endHour}`,o="dddd, DD [de] MMMM [de] YYYY, hh:mm a";this.eventData.date=c()(e,"YYYY-MM-DD HH:mm",!0).locale("es").format(t.dateEnd?o:"dddd, DD [de] MMMM [de] YYYY"),this.eventData.dateEnd=c()(n,"YYYY-MM-DD HH:mm",!0).locale("es").format(o),this.eventData.initHour=c()(e,"YYYY-MM-DD HH:mm",!0).format("hh:mm a"),this.eventData.endHour=t.endHour?c()(`${t.dateEnd||t.date} ${t.endHour}`,"YYYY-MM-DD HH:mm",!0).format("hh:mm a"):null,this.showEditForm&&(this.showEditForm=!1)}setShowEditForm(){this.showEditForm=!this.showEditForm}getRoleValue(){const{toRoles:t}=this.eventData||{};let e="CUALQUIER P\xdaBLICO";if((null==t?void 0:t.length)>0){e="";for(const n of t)""===e?e=this.roles[n]:e+=", "+this.roles[n]}return(""+e).toUpperCase()}confirmDeleteAction(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"\xa1Confirme!",message:"\xbfEst\xe1 seguro qu\xe9 desea eliminar este evento?",confirmAction:()=>this.deleteEvent()})})}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(a.a),h.Jb(M.a),h.Jb(f.a),h.Jb(L.a),h.Jb(b.U))},t.\u0275cmp=h.Db({type:t,selectors:[["app-detalles-evento"]],decls:11,vars:7,consts:[["slot","start",4,"ngIf"],["slot","end",4,"ngIf"],[4,"ngIf"],["class","ion-margin",4,"ngIf"],["slot","start"],[3,"click"],["name","arrow-back-outline"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["color","medium",3,"click"],["name","close-outline","slot","start"],["color","primary",3,"click"],["name","create-outline","slot","start"],["color","danger",3,"click"],["name","trash-outline","slot","start"],["size","12"],[3,"eventData","handleCancel","handleSave"],[1,"ion-margin"],["size","12","size-sm","4"],["size","12","class","banner-event",3,"ngStyle",4,"ngIf"],["size","12",4,"ngIf"],["size","12","size-sm","8"],["color","primary"],[1,"title-event"],[1,"border"],["size","12",3,"sizeSm"],["color","medium"],[1,"ion-margin-top",3,"size"],[1,"no-selected-text"],[3,"innerHTML"],["size","12",1,"banner-event",3,"ngStyle"],["height","150",1,"pictureIcon",3,"src"],["size","12",1,"ion-no-padding",3,"sizeSm"],["size","6"],["size","6",4,"ngIf"],[1,"ion-no-margin","ion-no-padding"],["size","12",1,"ion-text-center"],["name","alert-circle-outline"],["size","12",1,"ion-margin-top","ion-margin-bottom"]],template:function(t,e){1&t&&(h.Mb(0,"ion-header"),h.Mb(1,"ion-toolbar"),h.nc(2,g,3,0,"ion-buttons",0),h.Mb(3,"ion-title"),h.pc(4),h.Lb(),h.nc(5,w,4,3,"ion-buttons",1),h.Lb(),h.Lb(),h.Mb(6,"ion-content"),h.nc(7,E,3,3,"ion-row",2),h.nc(8,H,38,11,"ion-row",3),h.nc(9,Y,10,0,"ion-row",3),h.nc(10,k,3,0,"ion-row",3),h.Lb()),2&t&&(h.xb(2),h.Zb("ngIf",!e.showEditForm),h.xb(2),h.rc("",e.showEditForm?"Editar":"Detalles"," del evento"),h.xb(1),h.Zb("ngIf",e.eventData),h.xb(2),h.Zb("ngIf",e.eventDataForm&&e.showEditForm),h.xb(1),h.Zb("ngIf",e.eventData&&!e.showEditForm),h.xb(1),h.Zb("ngIf",!e.eventData&&!e.showEditForm),h.xb(1),h.Zb("ngIf",!e.showEditForm))},directives:[b.r,b.P,o.i,b.N,b.o,b.f,b.e,b.s,b.K,b.E,b.n,v.a,o.j,b.t,b.g,b.h],styles:[""]}),t})()}];let j=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(K)],a.j]}),t})();var C=n("j1ZV");let W=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[o.b,i.a,b.Q,j,C.a]]}),t})()}}]);