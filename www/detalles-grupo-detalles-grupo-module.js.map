{"version":3,"sources":["./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.html","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo-routing.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.scss"],"names":[],"mappings":"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","file":"detalles-grupo-detalles-grupo-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {NavController} from '@ionic/angular';\nimport {AsignarMiembroPage} from '../asignar-miembro/asignar-miembro.page';\nimport {GruposService} from '../grupos.service';\nimport {GlobalService} from '../../../services/global.service';\nimport {onlyNumbersInputValidation2} from '../../../../Utils/validations.functions';\n\n@Component({\n  selector: 'app-detalles-grupo',\n  templateUrl: './detalles-grupo.page.html',\n  styleUrls: ['./detalles-grupo.page.scss'],\n})\nexport class DetallesGrupoPage implements OnInit {\n\n  // info profile\n  title = 'Cargando...';\n  id: string|null = null;\n  group: any|null = null;\n  formData: any|null = null;\n\n  views: any = {\n    data: {\n      label: 'Datos del grupo',\n      show: true,\n      edit: false,\n      data: null,\n    },\n    members: {\n      label: 'Miembros',\n      show: false,\n      edit: false,\n      data: {\n        leader: null,\n        host: null,\n        assistant: null,\n        master: null,\n      },\n    }\n  };\n  handleRemove = (id: string): void => this.removeMember(id);\n\n  constructor(\n    private activateRoute: ActivatedRoute,\n    private globalSer: GlobalService,\n    private gruposService: GruposService,\n    private navCtrl: NavController,\n  ) {}\n\n  async ngOnInit() {\n    this.id = this.activateRoute.snapshot.paramMap.get('id');\n    await this.globalSer.presentLoading();\n    const data: any = await this.gruposService.getGroupDetails(this.id);\n\n    if (data && !data.error) {\n      this.group = {...data};\n      this.views.data.data = data;\n      this.views.members.data = data.members;\n      this.title = this.getTitle();\n      await this.globalSer.dismissLoading();\n    }\n    else if (data && data.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  async updateData() {\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\n    const updated = await this.gruposService.updateGroup(this.id, this.formData);\n\n    if (updated && !updated.error) {\n      this.group = {...updated};\n      this.views.data.data = {...updated};\n      this.title = this.getTitle();\n      await this.editEnable(true);\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\n    }\n    else if (updated && updated.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  async updateMembers(data) {\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\n\n    // get ids\n    const members = {\n      leaderId: data.leader ? (data.leader._id || null) : null,\n      hostId: data.host ? (data.host._id || null) : null,\n      assistantId: data.assistant ? (data.assistant._id || null) : null,\n      masterId: data.master ? (data.master._id || null) : null,\n    };\n\n    const updated = await this.gruposService.updateMembersGroup(this.id, { members });\n\n    if (updated && !updated.error) {\n      this.group.members = {...updated};\n      this.views.members.data = {...updated};\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\n    }\n    else if (updated && updated.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  async deleteUser() {\n    await this.globalSer.presentLoading('Eliminando, por favor espere ...');\n\n    const deleted = await this.gruposService.deleteGroup(this.id);\n\n    if (deleted && !deleted.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('¡Éxito!', deleted || 'Se ha eliminado los datos del grupo exitosamente.');\n      await this.back();\n    }\n    else if (deleted && deleted.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  getTitle(edit = false): string {\n    return `${edit ? 'Editando' : 'Detalles'}: Sector #${this.group.sector}, Sub-sector #${this.group.subSector}, Grupo #${this.group.number}`;\n  }\n\n  async back() {\n    await this.navCtrl.back();\n  }\n\n  // actions views\n  async setShowView(input: string) {\n    this.views[input].show = !this.views[input].show;\n    if (this.views[input].edit) {\n      await this.editEnable();\n    }\n  }\n\n  // actions\n  async editEnable(edited = false) {\n    if (!edited) await this.globalSer.presentLoading();\n\n    this.views.data.edit = !this.views.data.edit;\n\n    if (this.views.data.edit) {\n      this.formData = {\n        sector: this.views.data.data.sector,\n        subSector: this.views.data.data.subSector,\n        number: this.views.data.data.number,\n        direction: this.views.data.data.direction,\n      };\n      this.title = this.getTitle(true);\n    }\n    else {\n      this.title = this.getTitle();\n      this.formData = null;\n    }\n    if (!edited) await this.globalSer.dismissLoading();\n  }\n\n  validateOnlyNumber(event: any) {\n    onlyNumbersInputValidation2(event);\n  }\n\n  async confirmUpdate() {\n    const validated = this.gruposService.validateDataGroup(this.formData);\n\n    if (validated) await this.globalSer.presentAlert('Alerta', validated);\n    else {\n      await this.globalSer.alertConfirm({\n        header: 'Confirme',\n        message: '¿Está seguro qué desea actualizar información de este grupo?',\n        confirmAction: () => this.updateData()\n      });\n    }\n  }\n\n  // members\n  async modalMember(role: string) {\n    await this.globalSer.presentLoading();\n    const updateData = (member: any) => {\n      if (member) {\n        const data = {...this.views.members.data};\n        data[role] = member;\n        this.updateMembers(data);\n      }\n    };\n    await this.globalSer.dismissLoading();\n    await this.globalSer.loadModal(\n      AsignarMiembroPage,\n      { data: {...this.views.members.data} },\n      false,\n      updateData\n    );\n  }\n\n  removeMember(id: string) {\n    const confirm = () => {\n      const data = {...this.views.members.data};\n      if (data.assistant && data.assistant._id === id) data.assistant = null;\n      if (data.host && data.host._id === id) data.host = null;\n      if (data.leader && data.leader._id === id) data.leader = null;\n      if (data.master && data.master._id === id) data.master = null;\n      this.updateMembers(data);\n    };\n\n    this.globalSer.alertConfirm({\n      header: 'Confirme',\n      message: '¿Está seguro qué desea quitar a este miembro del grupo?',\n      confirmAction: () => confirm()\n    });\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{ title }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"group\\\">\\n    <ion-card *ngIf=\\\"views.data.data\\\">\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"setShowView('data')\\\" *ngIf=\\\"!views.data.edit\\\">\\n              <ion-icon name=\\\"chevron-{{views.data.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\n              <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n          <ion-title *ngIf=\\\"!views.data.edit\\\">{{ views.data.label }}</ion-title>\\n          <ion-title *ngIf=\\\"views.data.edit\\\">Editar grupo familiar</ion-title>\\n          <ion-buttons slot=\\\"end\\\" *ngIf=\\\"views.data.show\\\">\\n            <ion-button color=\\\"primary\\\" (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\n              <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\n              <ion-text>Cancelar edición</ion-text>\\n            </ion-button>\\n            <ion-button color=\\\"light\\\" expand=\\\"full\\\" (click)=\\\"editEnable()\\\" slot=\\\"end\\\" *ngIf=\\\"!views.data.edit\\\">\\n              <ion-icon name=\\\"create-outline\\\" slot=\\\"start\\\"></ion-icon>\\n              <ion-text>Editar</ion-text>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-toolbar>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"{{ views.data.show ? '' : 'ion-hide' }}\\\">\\n        <ion-row>\\n          <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"views.data.edit && formData\\\">\\n            <ion-row>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"4\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Sector (*)</ion-label>\\n                  <ion-input\\n                    [(ngModel)]=\\\"formData.sector\\\"\\n                    autocomplete=\\\"off\\\"\\n                    maxlength=\\\"4\\\"\\n                    (keypress)=\\\"validateOnlyNumber($event)\\\"\\n                  ></ion-input>\\n                </ion-item>\\n              </ion-col>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"4\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Sub-sector (*)</ion-label>\\n                  <ion-input\\n                    [(ngModel)]=\\\"formData.subSector\\\"\\n                    autocomplete=\\\"off\\\"\\n                    maxlength=\\\"4\\\"\\n                    (keypress)=\\\"validateOnlyNumber($event)\\\"\\n                  ></ion-input>\\n                </ion-item>\\n              </ion-col>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"4\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Número (*)</ion-label>\\n                  <ion-input\\n                    [(ngModel)]=\\\"formData.number\\\"\\n                    autocomplete=\\\"off\\\"\\n                    maxlength=\\\"4\\\"\\n                    (keypress)=\\\"validateOnlyNumber($event)\\\"\\n                  ></ion-input>\\n                </ion-item>\\n              </ion-col>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"6\\\">\\n                <ion-item>\\n                  <ion-label position=\\\"floating\\\" color=\\\"medium\\\">Dirección (*)</ion-label>\\n                  <ion-textarea\\n                    [(ngModel)]=\\\"formData.direction\\\"\\n                    rows=\\\"5\\\"\\n                    class=\\\"ion-text-uppercase\\\"\\n                    placeholder=\\\"Indica la dirección del grupo familiar...\\\"\\n                  ></ion-textarea>\\n                </ion-item>\\n              </ion-col>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"12\\\" class=\\\"ion-margin-top\\\">\\n                <ion-text color=\\\"medium\\\"><i class=\\\"toSmall\\\">(*) Campos requeridos.</i></ion-text>\\n              </ion-col>\\n              <ion-col size=\\\"12\\\" size-sm=\\\"12\\\" class=\\\"ion-margin-top ion-margin-bottom ion-text-center\\\">\\n                <ion-button color=\\\"light\\\" (click)=\\\"editEnable()\\\">\\n                  <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                  <ion-text>Cancelar</ion-text>\\n                </ion-button>\\n                <ion-button color=\\\"primary\\\" (click)=\\\"confirmUpdate()\\\">\\n                  <ion-icon name=\\\"save-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                  <ion-text>Guardar</ion-text>\\n                </ion-button>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n\\n          <ion-col size=\\\"12\\\" *ngIf=\\\"!views.data.edit\\\">\\n            <ion-row>\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" size-sm=\\\"6\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Número</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.number}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Sector:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.sector || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Sub-sector:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.subSector || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-col>\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\" size-sm=\\\"6\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Dirección</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.direction || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Fecha de creación:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.created_at || 'No indicado'}}</ion-text>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card class=\\\"{{ views.data.edit ? 'ion-hide' : '' }}\\\">\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"setShowView('members')\\\">\\n              <ion-icon name=\\\"chevron-{{views.members.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n          <ion-title>{{ views.members.label }}</ion-title>\\n        </ion-toolbar>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"{{ views.members.show ? '' : 'ion-hide' }}\\\">\\n        <ion-row class=\\\"ion-margin-bottom\\\" *ngIf=\\\"views.members.data; else noMembers\\\">\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <ion-text class=\\\"ion-margin-top\\\"><h2><b>Líder:</b></h2></ion-text>\\n            <app-user-group-card\\n              [user]=\\\"views.members.data.leader\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n              [added]=\\\"true\\\"\\n              *ngIf=\\\"views.members.data.leader; else noleader\\\"\\n            ></app-user-group-card>\\n            <ng-template #noleader>\\n              <ion-card>\\n                <ion-card-content>\\n                  <ion-text>\\n                    <p class=\\\"ion-text-center\\\">\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                      No se ha asignado ningún miembro a este rol.\\n                      <br>\\n                      <ion-button color=\\\"primary\\\" (click)=\\\"modalMember('leader')\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                        <ion-text>Asignar</ion-text>\\n                      </ion-button>\\n                    </p>\\n                  </ion-text>\\n                </ion-card-content>\\n              </ion-card>\\n            </ng-template>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <ion-text class=\\\"ion-margin-top\\\"><h2><b>Anfitrión:</b></h2></ion-text>\\n            <app-user-group-card\\n              [user]=\\\"views.members.data.host\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n              [added]=\\\"true\\\"\\n              *ngIf=\\\"views.members.data.host; else nohost\\\"\\n            ></app-user-group-card>\\n            <ng-template #nohost>\\n              <ion-card>\\n                <ion-card-content>\\n                  <ion-text>\\n                    <p class=\\\"ion-text-center\\\">\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                      No se ha asignado ningún miembro a este rol.\\n                      <br>\\n                      <ion-button color=\\\"primary\\\" (click)=\\\"modalMember('host')\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                        <ion-text>Asignar</ion-text>\\n                      </ion-button>\\n                    </p>\\n                  </ion-text>\\n                </ion-card-content>\\n              </ion-card>\\n            </ng-template>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <ion-text class=\\\"ion-margin-top\\\"><h2><b>Asistente:</b></h2></ion-text>\\n            <app-user-group-card\\n              [user]=\\\"views.members.data.assistant\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n              [added]=\\\"true\\\"\\n              *ngIf=\\\"views.members.data.assistant; else noassistant\\\"\\n            ></app-user-group-card>\\n            <ng-template #noassistant>\\n              <ion-card>\\n                <ion-card-content>\\n                  <ion-text>\\n                    <p class=\\\"ion-text-center\\\">\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                      No se ha asignado ningún miembro a este rol.\\n                      <br>\\n                      <ion-button color=\\\"primary\\\" (click)=\\\"modalMember('assistant')\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                        <ion-text>Asignar</ion-text>\\n                      </ion-button>\\n                    </p>\\n                  </ion-text>\\n                </ion-card-content>\\n              </ion-card>\\n            </ng-template>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <ion-text class=\\\"ion-margin-top\\\"><h2><b>Maestro:</b></h2></ion-text>\\n            <app-user-group-card\\n              [user]=\\\"views.members.data.master\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n              [added]=\\\"true\\\"\\n              *ngIf=\\\"views.members.data.master; else nomaster\\\"\\n            ></app-user-group-card>\\n            <ng-template #nomaster>\\n              <ion-card>\\n                <ion-card-content>\\n                  <ion-text>\\n                    <p class=\\\"ion-text-center\\\">\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                      No se ha asignado ningún miembro a este rol.\\n                      <br>\\n                      <ion-button color=\\\"primary\\\" (click)=\\\"modalMember('master')\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                        <ion-text>Asignar</ion-text>\\n                      </ion-button>\\n                    </p>\\n                  </ion-text>\\n                </ion-card-content>\\n              </ion-card>\\n            </ng-template>\\n          </ion-col>\\n        </ion-row>\\n\\n        <ng-template #noMembers>\\n          <ion-row class=\\\"ion-margin-top\\\">\\n            <ion-col size=\\\"12\\\">\\n              <ion-text>\\n                <p class=\\\"ion-text-center\\\">\\n                  <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                  No se logró obtener los miembros de este grupo.\\n                </p>\\n              </ion-text>\\n            </ion-col>\\n          </ion-row>\\n        </ng-template>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <div class=\\\"ion-margin\\\"><br/></div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetallesGrupoPage } from './detalles-grupo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetallesGrupoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetallesGrupoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetallesGrupoPageRoutingModule } from './detalles-grupo-routing.module';\n\nimport { DetallesGrupoPage } from './detalles-grupo.page';\nimport {ComponentsModule} from '../../../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetallesGrupoPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [DetallesGrupoPage]\n})\nexport class DetallesGrupoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhbGxlcy1ncnVwby5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}