{"version":3,"sources":["./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.html","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo-routing.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.scss"],"names":[],"mappings":"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","file":"detalles-grupo-detalles-grupo-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {NavController} from '@ionic/angular';\nimport {GruposService} from '../grupos.service';\nimport {AsignarMiembroPage} from '../asignar-miembro/asignar-miembro.page';\nimport {GlobalService} from '../../../services/global.service';\nimport {staticCoords} from '../../../../Utils/data.static';\n\n@Component({\n  selector: 'app-detalles-grupo',\n  templateUrl: './detalles-grupo.page.html',\n  styleUrls: ['./detalles-grupo.page.scss'],\n})\nexport class DetallesGrupoPage implements OnInit {\n\n  // info profile\n  title = 'Cargando...';\n  id: string|null = null;\n  group: any = null;\n  formData: any|null = null;\n\n  views: any = {\n    data: {\n      label: 'Datos del grupo',\n      show: true,\n      edit: false,\n      data: null,\n    },\n    members1: {\n      label: 'Miembros principales',\n      show: true\n    },\n    members2: {\n      label: 'Asistentes',\n      show: true\n    }\n  };\n  members: any = null;\n\n  handleAddMember = (role: string): Promise<void> => this.modalMember(role);\n  handleRemove = (id: string): void => this.removeMember(id);\n\n  constructor(\n    private activateRoute: ActivatedRoute,\n    private globalSer: GlobalService,\n    private gruposService: GruposService,\n    private navCtrl: NavController,\n  ) {}\n\n  async ngOnInit() {\n    this.id = this.activateRoute.snapshot.paramMap.get('id');\n    await this.globalSer.presentLoading();\n    const data: any = await this.gruposService.getGroupDetails(this.id);\n\n    if (data && !data.error) {\n      this.group = {...data};\n      this.views.data.data = data;\n      this.members = data.members;\n      this.title = this.getTitle();\n      await this.globalSer.dismissLoading();\n    }\n    else if (data && data.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  async updateData() {\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\n    const updated = await this.gruposService.updateGroup(this.id, this.formData);\n\n    if (updated && !updated.error) {\n      this.group = {...updated};\n      this.views.data.data = {...updated};\n      this.title = this.getTitle();\n      await this.editEnable(true);\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\n    }\n    else if (updated && updated.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  async updateMembers(data: any = {}) {\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\n\n    // get ids\n    const members = {\n      leaderId: data.leader?._id || null,\n      helperId: data.helper?._id || null,\n      hostId: data.host?._id || null,\n      assistantsIds: data.assistants?.map(a => a._id) || [],\n      masterId: data.master?._id || null,\n    };\n\n    const updated = await this.gruposService.updateMembersGroup(this.id, { members });\n\n    if (updated && !updated.error) {\n      this.group.members = {...updated};\n      this.members = {...updated};\n      await this.globalSer.dismissLoading();\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\n    }\n    else if (updated && updated.error) {\n      await this.globalSer.dismissLoading();\n      await this.globalSer.errorSession();\n    }\n    else await this.globalSer.dismissLoading();\n  }\n\n  // async deleteUser() {\n  //   await this.globalSer.presentLoading('Eliminando, por favor espere ...');\n  //\n  //   const deleted = await this.gruposService.deleteGroup(this.id);\n  //\n  //   if (deleted && !deleted.error) {\n  //     await this.globalSer.dismissLoading();\n  //     await this.globalSer.presentAlert('¡Éxito!', deleted || 'Se ha eliminado los datos del grupo exitosamente.');\n  //     await this.back();\n  //   }\n  //   else if (deleted && deleted.error) {\n  //     await this.globalSer.dismissLoading();\n  //     await this.globalSer.errorSession();\n  //   }\n  //   else await this.globalSer.dismissLoading();\n  // }\n\n  getTitle(edit = false): string {\n    return `${edit ? 'Editando' : 'Detalles'}: Sector #${this.group.sector}, Sub-sector #${this.group.subSector}, Grupo #${this.group.number}`;\n  }\n\n  async back() {\n    await this.navCtrl.back();\n  }\n\n  // actions views\n  async setShowView(input: string) {\n    this.views[input].show = !this.views[input].show;\n    if (this.views[input].edit) await this.editEnable();\n  }\n\n  // actions\n  async editEnable(edited = false) {\n    if (!edited) await this.globalSer.presentLoading();\n\n    this.views.data.edit = !this.views.data.edit;\n\n    if (this.views.data.edit) {\n      this.formData = {\n        sector: this.views.data.data.sector,\n        subSector: this.views.data.data.subSector,\n        number: this.views.data.data.number,\n        direction: this.views.data.data.direction,\n        location: this.views.data.data.location || {\n          type: 'Point',\n          coordinates: staticCoords\n        },\n      };\n      this.title = this.getTitle(true);\n    }\n    else {\n      this.title = this.getTitle();\n      this.formData = null;\n    }\n    if (!edited) await this.globalSer.dismissLoading();\n  }\n\n  // members\n  async modalMember(role: string) {\n    await this.globalSer.presentLoading();\n    const updateData = (member: any) => {\n      if (member) {\n        const data = {...this.members};\n        if (role === 'assistants') data[role].push(member);\n        else data[role] = member;\n        this.updateMembers(data);\n      }\n    };\n    await this.globalSer.dismissLoading();\n    await this.globalSer.loadModal(\n      AsignarMiembroPage,\n      { data: {...this.members} },\n      false,\n      updateData\n    );\n  }\n\n  removeMember(id: string) {\n    const confirm = () => {\n      const data: any = this.members ? {...this.members} : null;\n      if (data) {\n        if (data.host?._id === id) data.host = null;\n        if (data.helper?._id === id) data.helper = null;\n        if (data.leader?._id === id) data.leader = null;\n        if (data.master?._id === id) data.master = null;\n        data.assistants = data.assistants?.filter(a => a._id !== id) || [];\n        this.updateMembers(data);\n      }\n    };\n\n    this.globalSer.alertConfirm({\n      header: 'Confirme',\n      message: '¿Está seguro qué desea quitar a este miembro del grupo?',\n      confirmAction: () => confirm()\n    });\n  }\n\n  getParamsToMap() {\n    return [ { type: 'Feature', geometry: this.group.location } ];\n  }\n\n  setFormDataAndSave(formData: any) {\n    this.formData = formData;\n    this.updateData();\n  }\n\n  handleSave = (formData: any): void => this.setFormDataAndSave(formData);\n  handleCancel = async (): Promise<void> => this.editEnable();\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\">\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title>{{ title }}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div *ngIf=\\\"group\\\">\\n    <ion-card *ngIf=\\\"views.data.data\\\">\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"setShowView('data')\\\" *ngIf=\\\"!views.data.edit\\\">\\n              <ion-icon name=\\\"chevron-{{views.data.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\n              <ion-icon name=\\\"close-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n          <ion-title *ngIf=\\\"!views.data.edit\\\">{{ views.data.label }}</ion-title>\\n          <ion-title *ngIf=\\\"views.data.edit\\\">Editar grupo familiar</ion-title>\\n          <ion-buttons slot=\\\"end\\\" *ngIf=\\\"views.data.show\\\">\\n            <ion-button color=\\\"light\\\" (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\n              <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\n              <ion-text>Cancelar edición</ion-text>\\n            </ion-button>\\n            <ion-button color=\\\"light\\\" expand=\\\"full\\\" (click)=\\\"editEnable()\\\" slot=\\\"end\\\" *ngIf=\\\"!views.data.edit\\\">\\n              <ion-icon name=\\\"create-outline\\\" slot=\\\"start\\\"></ion-icon>\\n              <ion-text>Editar</ion-text>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-toolbar>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"{{ views.data.show ? '' : 'ion-hide' }}\\\">\\n        <ion-row>\\n          <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"views.data.edit\\\">\\n            <app-family-group-form\\n              [data]=\\\"formData\\\"\\n              [handleSave]=\\\"handleSave\\\"\\n              [handleCancel]=\\\"handleCancel\\\"\\n            >\\n            </app-family-group-form>\\n          </ion-col>\\n\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"!views.data.edit\\\">\\n            <ion-row>\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Número</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.number}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Sector:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.sector || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Sub-sector:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.subSector || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-col>\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Dirección</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.direction || 'No indicado.'}}</ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"5\\\">\\n                    <ion-text><b>Fecha de creación:</b></ion-text>\\n                  </ion-col>\\n                  <ion-col size=\\\"7\\\">\\n                    <ion-text>{{group.created_at || 'No indicado'}}</ion-text>\\n                  </ion-col>\\n                </ion-row>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"!views.data.edit\\\">\\n            <div class=\\\"div-map\\\">\\n              <app-map\\n                [coords]=\\\"getParamsToMap()\\\"\\n                [height]=\\\"'100%'\\\"\\n                [zoom]=\\\"13\\\"\\n              ></app-map>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card class=\\\"{{ views.data.edit ? 'ion-hide' : '' }}\\\">\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"setShowView('members1')\\\">\\n              <ion-icon name=\\\"chevron-{{views.members1.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n          <ion-title>{{ views.members1.label }}</ion-title>\\n        </ion-toolbar>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"{{ views.members1.show ? '' : 'ion-hide' }}\\\">\\n        <ion-row class=\\\"ion-margin-bottom\\\" *ngIf=\\\"members; else noMembers\\\">\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <app-members-card\\n              [data]=\\\"members.leader\\\"\\n              title=\\\"Líder\\\"\\n              role=\\\"leader\\\"\\n              [handleAdd]=\\\"handleAddMember\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n            ></app-members-card>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <app-members-card\\n              [data]=\\\"members.host\\\"\\n              title=\\\"Anfitrión\\\"\\n              role=\\\"host\\\"\\n              [handleAdd]=\\\"handleAddMember\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n            ></app-members-card>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <app-members-card\\n              [data]=\\\"members.helper\\\"\\n              title=\\\"Auxiliar\\\"\\n              role=\\\"helper\\\"\\n              [handleAdd]=\\\"handleAddMember\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n            ></app-members-card>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\n            <app-members-card\\n              [data]=\\\"members.master\\\"\\n              title=\\\"Maestro\\\"\\n              role=\\\"master\\\"\\n              [handleAdd]=\\\"handleAddMember\\\"\\n              [handleRemove]=\\\"handleRemove\\\"\\n            ></app-members-card>\\n          </ion-col>\\n        </ion-row>\\n\\n        <ng-template #noMembers>\\n          <ion-row class=\\\"ion-margin-top\\\">\\n            <ion-col size=\\\"12\\\">\\n              <ion-text color=\\\"medium\\\">\\n                <p class=\\\"ion-text-center\\\">\\n                  <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                  No se logró obtener los miembros de este grupo.\\n                </p>\\n              </ion-text>\\n            </ion-col>\\n          </ion-row>\\n        </ng-template>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card class=\\\"{{ views.data.edit ? 'ion-hide' : '' }}\\\">\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-toolbar color=\\\"primary\\\">\\n          <ion-buttons slot=\\\"start\\\">\\n            <ion-button (click)=\\\"setShowView('members2')\\\">\\n              <ion-icon name=\\\"chevron-{{views.members2.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n          <ion-title>{{ views.members2.label }}</ion-title>\\n          <ion-buttons slot=\\\"end\\\">\\n            <ion-button\\n              (click)=\\\"modalMember('assistants')\\\"\\n              *ngIf=\\\"members?.assistants?.length > 0\\\"\\n            >\\n              <ion-icon name=\\\"add-outline\\\"></ion-icon>\\n              <ion-text>Agregar</ion-text>\\n            </ion-button>\\n          </ion-buttons>\\n        </ion-toolbar>\\n      </ion-card-header>\\n      <ion-card-content class=\\\"{{ views.members2.show ? '' : 'ion-hide' }}\\\">\\n        <ion-row class=\\\"ion-margin-bottom\\\" *ngIf=\\\"members; else noMembers\\\">\\n          <ion-col size=\\\"12\\\" class=\\\"ion-margin-top\\\">\\n            <ion-row *ngIf=\\\"members.assistants?.length > 0; else noAssistants\\\">\\n              <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" *ngFor=\\\"let data of members.assistants\\\">\\n                <app-user-group-card\\n                  [user]=\\\"data\\\"\\n                  [handleRemove]=\\\"handleRemove\\\"\\n                  [added]=\\\"true\\\"\\n                ></app-user-group-card>\\n              </ion-col>\\n            </ion-row>\\n            <ng-template #noAssistants>\\n              <ion-card>\\n                <ion-card-content>\\n                  <ion-text>\\n                    <p class=\\\"ion-text-center\\\">\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                      No se han agregado asistentes.\\n                      <br>\\n                      <ion-button class=\\\"ion-margin-top\\\" color=\\\"primary\\\" (click)=\\\"modalMember('assistants')\\\">\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\n                        <ion-text>Asignar</ion-text>\\n                      </ion-button>\\n                    </p>\\n                  </ion-text>\\n                </ion-card-content>\\n              </ion-card>\\n            </ng-template>\\n          </ion-col>\\n        </ion-row>\\n\\n        <ng-template #noMembers>\\n          <ion-row class=\\\"ion-margin-top\\\">\\n            <ion-col size=\\\"12\\\">\\n              <ion-text color=\\\"medium\\\">\\n                <p class=\\\"ion-text-center\\\">\\n                  <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\n                  No se logró obtener los miembros de este grupo.\\n                </p>\\n              </ion-text>\\n            </ion-col>\\n          </ion-row>\\n        </ng-template>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <div class=\\\"ion-margin\\\"><br/></div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DetallesGrupoPage } from './detalles-grupo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DetallesGrupoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DetallesGrupoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DetallesGrupoPageRoutingModule } from './detalles-grupo-routing.module';\n\nimport { DetallesGrupoPage } from './detalles-grupo.page';\nimport {ComponentsModule} from '../../../components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DetallesGrupoPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [DetallesGrupoPage]\n})\nexport class DetallesGrupoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhbGxlcy1ncnVwby5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}