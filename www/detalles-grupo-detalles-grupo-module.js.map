{"version":3,"sources":["./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.html","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo-routing.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.module.ts","./src/app/views/grupos-familiares/detalles-grupo/detalles-grupo.page.scss"],"names":[],"mappings":"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","file":"detalles-grupo-detalles-grupo-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {NavController} from '@ionic/angular';\r\nimport {GruposService} from '../grupos.service';\r\nimport {AsignarMiembroPage} from '../asignar-miembro/asignar-miembro.page';\r\nimport {GlobalService} from '../../../services/global.service';\r\nimport {staticCoords} from '../../../../Utils/data.static';\r\n\r\n@Component({\r\n  selector: 'app-detalles-grupo',\r\n  templateUrl: './detalles-grupo.page.html',\r\n  styleUrls: ['./detalles-grupo.page.scss'],\r\n})\r\nexport class DetallesGrupoPage implements OnInit {\r\n\r\n  // info profile\r\n  title = 'Cargando...';\r\n  id: string|null = null;\r\n  group: any = null;\r\n  formData: any|null = null;\r\n\r\n  views: any = {\r\n    data: {\r\n      label: 'Datos del grupo',\r\n      show: true,\r\n      edit: false,\r\n      data: null,\r\n    },\r\n    members1: {\r\n      label: 'Miembros principales',\r\n      show: true\r\n    },\r\n    members2: {\r\n      label: 'Asistentes',\r\n      show: true\r\n    }\r\n  };\r\n  members: any = null;\r\n\r\n  handleAddMember = (role: string): Promise<void> => this.modalMember(role);\r\n  handleRemove = (id: string): void => this.removeMember(id);\r\n\r\n  constructor(\r\n    private activateRoute: ActivatedRoute,\r\n    private globalSer: GlobalService,\r\n    private gruposService: GruposService,\r\n    private navCtrl: NavController,\r\n  ) {}\r\n\r\n  async ngOnInit() {\r\n    await this.globalSer.presentLoading();\r\n    this.id = this.activateRoute.snapshot.paramMap.get('id');\r\n    const data: any = await this.gruposService.getGroupDetails(this.id);\r\n\r\n    if (data && !data.error) {\r\n      this.group = {...data};\r\n      this.views.data.data = data;\r\n      this.members = data.members;\r\n      this.title = this.getTitle();\r\n      await this.globalSer.dismissLoading();\r\n    }\r\n    else if (data && data.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async updateData() {\r\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\r\n    const updated = await this.gruposService.updateGroup(this.id, this.formData);\r\n\r\n    if (updated && !updated.error) {\r\n      this.group = {...updated};\r\n      this.views.data.data = {...updated};\r\n      this.title = this.getTitle();\r\n      await this.editEnable(true);\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\r\n    }\r\n    else if (updated && updated.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  async updateMembers(data: any = {}) {\r\n    await this.globalSer.presentLoading('Actualizando, por favor espere ...');\r\n\r\n    // get ids\r\n    const members = {\r\n      leaderId: data.leader?._id || null,\r\n      helperId: data.helper?._id || null,\r\n      hostId: data.host?._id || null,\r\n      assistantsIds: data.assistants?.map(a => a._id) || [],\r\n      masterId: data.master?._id || null,\r\n    };\r\n\r\n    const updated = await this.gruposService.updateMembersGroup(this.id, { members });\r\n\r\n    if (updated && !updated.error) {\r\n      this.group.members = {...updated};\r\n      this.members = {...updated};\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.presentAlert('¡Éxito!', 'Se ha actualizado la información exitosamente.');\r\n    }\r\n    else if (updated && updated.error) {\r\n      await this.globalSer.dismissLoading();\r\n      await this.globalSer.errorSession();\r\n    }\r\n    else await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  // async deleteUser() {\r\n  //   await this.globalSer.presentLoading('Eliminando, por favor espere ...');\r\n  //\r\n  //   const deleted = await this.gruposService.deleteGroup(this.id);\r\n  //\r\n  //   if (deleted && !deleted.error) {\r\n  //     await this.globalSer.dismissLoading();\r\n  //     await this.globalSer.presentAlert('¡Éxito!', deleted || 'Se ha eliminado los datos del grupo exitosamente.');\r\n  //     await this.back();\r\n  //   }\r\n  //   else if (deleted && deleted.error) {\r\n  //     await this.globalSer.dismissLoading();\r\n  //     await this.globalSer.errorSession();\r\n  //   }\r\n  //   else await this.globalSer.dismissLoading();\r\n  // }\r\n\r\n  getTitle(edit = false): string {\r\n    return `${edit ? 'Editando' : 'Detalles'}: Sector #${this.group.sector}, Sub-sector #${this.group.subSector}, Grupo #${this.group.number}`;\r\n  }\r\n\r\n  async back() {\r\n    await this.navCtrl.back();\r\n  }\r\n\r\n  // actions views\r\n  async setShowView(input: string) {\r\n    this.views[input].show = !this.views[input].show;\r\n    if (this.views[input].edit) await this.editEnable();\r\n  }\r\n\r\n  // actions\r\n  async editEnable(edited = false) {\r\n    if (!edited) await this.globalSer.presentLoading();\r\n\r\n    this.views.data.edit = !this.views.data.edit;\r\n\r\n    if (this.views.data.edit) {\r\n      this.formData = {\r\n        sector: this.views.data.data.sector,\r\n        subSector: this.views.data.data.subSector,\r\n        number: this.views.data.data.number,\r\n        direction: this.views.data.data.direction,\r\n        location: this.views.data.data.location || {\r\n          type: 'Point',\r\n          coordinates: staticCoords\r\n        },\r\n      };\r\n      this.title = this.getTitle(true);\r\n    }\r\n    else {\r\n      this.title = this.getTitle();\r\n      this.formData = null;\r\n    }\r\n    if (!edited) await this.globalSer.dismissLoading();\r\n  }\r\n\r\n  // members\r\n  async modalMember(role: string) {\r\n    await this.globalSer.presentLoading();\r\n    const updateData = (member: any) => {\r\n      if (member) {\r\n        const data = {...this.members};\r\n        if (role === 'assistants') data[role].push(member);\r\n        else data[role] = member;\r\n        this.updateMembers(data);\r\n      }\r\n    };\r\n    await this.globalSer.dismissLoading();\r\n    await this.globalSer.loadModal(\r\n      AsignarMiembroPage,\r\n      { data: {...this.members} },\r\n      false,\r\n      updateData\r\n    );\r\n  }\r\n\r\n  removeMember(id: string) {\r\n    const confirm = () => {\r\n      const data: any = this.members ? {...this.members} : null;\r\n      if (data) {\r\n        if (data.host?._id === id) data.host = null;\r\n        if (data.helper?._id === id) data.helper = null;\r\n        if (data.leader?._id === id) data.leader = null;\r\n        if (data.master?._id === id) data.master = null;\r\n        data.assistants = data.assistants?.filter(a => a._id !== id) || [];\r\n        this.updateMembers(data);\r\n      }\r\n    };\r\n\r\n    this.globalSer.alertConfirm({\r\n      header: 'Confirme',\r\n      message: '¿Está seguro qué desea quitar a este miembro del grupo?',\r\n      confirmAction: () => confirm()\r\n    });\r\n  }\r\n\r\n  getParamsToMap() {\r\n    return [ { type: 'Feature', geometry: this.group.location } ];\r\n  }\r\n\r\n  setFormDataAndSave(formData: any) {\r\n    this.formData = formData;\r\n    this.updateData();\r\n  }\r\n\r\n  handleSave = (formData: any): void => this.setFormDataAndSave(formData);\r\n  handleCancel = async (): Promise<void> => this.editEnable();\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-button (click)=\\\"back()\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{ title }}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div *ngIf=\\\"group\\\">\\r\\n    <ion-card *ngIf=\\\"views.data.data\\\">\\r\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\r\\n        <ion-toolbar color=\\\"primary\\\">\\r\\n          <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-button (click)=\\\"setShowView('data')\\\" *ngIf=\\\"!views.data.edit\\\">\\r\\n              <ion-icon name=\\\"chevron-{{views.data.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n            <ion-button (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\r\\n              <ion-icon name=\\\"close-outline\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title *ngIf=\\\"!views.data.edit\\\">{{ views.data.label }}</ion-title>\\r\\n          <ion-title *ngIf=\\\"views.data.edit\\\">Editar grupo familiar</ion-title>\\r\\n          <ion-buttons slot=\\\"end\\\" *ngIf=\\\"views.data.show\\\">\\r\\n            <ion-button color=\\\"light\\\" (click)=\\\"editEnable()\\\" *ngIf=\\\"views.data.edit\\\">\\r\\n              <ion-icon name=\\\"close-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n              <ion-text>Cancelar edición</ion-text>\\r\\n            </ion-button>\\r\\n            <ion-button color=\\\"light\\\" expand=\\\"full\\\" (click)=\\\"editEnable()\\\" slot=\\\"end\\\" *ngIf=\\\"!views.data.edit\\\">\\r\\n              <ion-icon name=\\\"create-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n              <ion-text>Editar</ion-text>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n        </ion-toolbar>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content class=\\\"{{ views.data.show ? '' : 'ion-hide' }}\\\">\\r\\n        <ion-row>\\r\\n          <ion-col class=\\\"ion-no-margin\\\" size=\\\"12\\\" *ngIf=\\\"views.data.edit\\\">\\r\\n            <app-family-group-form\\r\\n              [data]=\\\"formData\\\"\\r\\n              [handleSave]=\\\"handleSave\\\"\\r\\n              [handleCancel]=\\\"handleCancel\\\"\\r\\n            >\\r\\n            </app-family-group-form>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"!views.data.edit\\\">\\r\\n            <ion-row>\\r\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\r\\n                <ion-row>\\r\\n                  <ion-col size=\\\"5\\\">\\r\\n                    <ion-text><b>Número</b></ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"7\\\">\\r\\n                    <ion-text>{{group.number}}</ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"5\\\">\\r\\n                    <ion-text><b>Sector:</b></ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"7\\\">\\r\\n                    <ion-text>{{group.sector || 'No indicado.'}}</ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"5\\\">\\r\\n                    <ion-text><b>Sub-sector:</b></ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"7\\\">\\r\\n                    <ion-text>{{group.subSector || 'No indicado.'}}</ion-text>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-col>\\r\\n              <ion-col class=\\\"ion-no-padding\\\" size=\\\"12\\\">\\r\\n                <ion-row>\\r\\n                  <ion-col size=\\\"5\\\">\\r\\n                    <ion-text><b>Dirección</b></ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"7\\\">\\r\\n                    <ion-text>{{group.direction || 'No indicado.'}}</ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"5\\\">\\r\\n                    <ion-text><b>Fecha de creación:</b></ion-text>\\r\\n                  </ion-col>\\r\\n                  <ion-col size=\\\"7\\\">\\r\\n                    <ion-text>{{group.created_at || 'No indicado'}}</ion-text>\\r\\n                  </ion-col>\\r\\n                </ion-row>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-col>\\r\\n\\r\\n          <ion-col size=\\\"12\\\" size-md=\\\"6\\\" *ngIf=\\\"!views.data.edit\\\">\\r\\n            <div class=\\\"div-map\\\">\\r\\n              <app-map\\r\\n                [coords]=\\\"getParamsToMap()\\\"\\r\\n                [height]=\\\"'100%'\\\"\\r\\n                [zoom]=\\\"13\\\"\\r\\n              ></app-map>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n\\r\\n    <ion-card class=\\\"{{ views.data.edit ? 'ion-hide' : '' }}\\\">\\r\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\r\\n        <ion-toolbar color=\\\"primary\\\">\\r\\n          <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-button (click)=\\\"setShowView('members1')\\\">\\r\\n              <ion-icon name=\\\"chevron-{{views.members1.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title>{{ views.members1.label }}</ion-title>\\r\\n        </ion-toolbar>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content class=\\\"{{ views.members1.show ? '' : 'ion-hide' }}\\\">\\r\\n        <ion-row class=\\\"ion-margin-bottom\\\" *ngIf=\\\"members; else noMembers\\\">\\r\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\r\\n            <app-members-card\\r\\n              [data]=\\\"members.leader\\\"\\r\\n              title=\\\"Líder\\\"\\r\\n              role=\\\"leader\\\"\\r\\n              [handleAdd]=\\\"handleAddMember\\\"\\r\\n              [handleRemove]=\\\"handleRemove\\\"\\r\\n            ></app-members-card>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\r\\n            <app-members-card\\r\\n              [data]=\\\"members.host\\\"\\r\\n              title=\\\"Anfitrión\\\"\\r\\n              role=\\\"host\\\"\\r\\n              [handleAdd]=\\\"handleAddMember\\\"\\r\\n              [handleRemove]=\\\"handleRemove\\\"\\r\\n            ></app-members-card>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\r\\n            <app-members-card\\r\\n              [data]=\\\"members.helper\\\"\\r\\n              title=\\\"Auxiliar\\\"\\r\\n              role=\\\"helper\\\"\\r\\n              [handleAdd]=\\\"handleAddMember\\\"\\r\\n              [handleRemove]=\\\"handleRemove\\\"\\r\\n            ></app-members-card>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" class=\\\"ion-margin-top\\\">\\r\\n            <app-members-card\\r\\n              [data]=\\\"members.master\\\"\\r\\n              title=\\\"Maestro\\\"\\r\\n              role=\\\"master\\\"\\r\\n              [handleAdd]=\\\"handleAddMember\\\"\\r\\n              [handleRemove]=\\\"handleRemove\\\"\\r\\n            ></app-members-card>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ng-template #noMembers>\\r\\n          <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-text color=\\\"medium\\\">\\r\\n                <p class=\\\"ion-text-center\\\">\\r\\n                  <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n                  No se logró obtener los miembros de este grupo.\\r\\n                </p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ng-template>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n\\r\\n    <ion-card class=\\\"{{ views.data.edit ? 'ion-hide' : '' }}\\\">\\r\\n      <ion-card-header class=\\\"ion-no-padding ion-no-margin\\\">\\r\\n        <ion-toolbar color=\\\"primary\\\">\\r\\n          <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-button (click)=\\\"setShowView('members2')\\\">\\r\\n              <ion-icon name=\\\"chevron-{{views.members2.show ? 'up' : 'down' }}-outline\\\"></ion-icon>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n          <ion-title>{{ views.members2.label }}</ion-title>\\r\\n          <ion-buttons slot=\\\"end\\\">\\r\\n            <ion-button\\r\\n              (click)=\\\"modalMember('assistants')\\\"\\r\\n              *ngIf=\\\"members?.assistants?.length > 0\\\"\\r\\n            >\\r\\n              <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n              <ion-text>Agregar</ion-text>\\r\\n            </ion-button>\\r\\n          </ion-buttons>\\r\\n        </ion-toolbar>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content class=\\\"{{ views.members2.show ? '' : 'ion-hide' }}\\\">\\r\\n        <ion-row class=\\\"ion-margin-bottom\\\" *ngIf=\\\"members; else noMembers\\\">\\r\\n          <ion-col size=\\\"12\\\" class=\\\"ion-margin-top\\\">\\r\\n            <ion-row *ngIf=\\\"members.assistants?.length > 0; else noAssistants\\\">\\r\\n              <ion-col size=\\\"12\\\" size-sm=\\\"6\\\" *ngFor=\\\"let data of members.assistants\\\">\\r\\n                <app-user-group-card\\r\\n                  [user]=\\\"data\\\"\\r\\n                  [handleRemove]=\\\"handleRemove\\\"\\r\\n                  [added]=\\\"true\\\"\\r\\n                ></app-user-group-card>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n            <ng-template #noAssistants>\\r\\n              <ion-card>\\r\\n                <ion-card-content>\\r\\n                  <ion-text>\\r\\n                    <p class=\\\"ion-text-center\\\">\\r\\n                      <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n                      No se han agregado asistentes.\\r\\n                      <br>\\r\\n                      <ion-button class=\\\"ion-margin-top\\\" color=\\\"primary\\\" (click)=\\\"modalMember('assistants')\\\">\\r\\n                        <ion-icon name=\\\"add-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n                        <ion-text>Asignar</ion-text>\\r\\n                      </ion-button>\\r\\n                    </p>\\r\\n                  </ion-text>\\r\\n                </ion-card-content>\\r\\n              </ion-card>\\r\\n            </ng-template>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ng-template #noMembers>\\r\\n          <ion-row class=\\\"ion-margin-top\\\">\\r\\n            <ion-col size=\\\"12\\\">\\r\\n              <ion-text color=\\\"medium\\\">\\r\\n                <p class=\\\"ion-text-center\\\">\\r\\n                  <ion-icon name=\\\"alert-circle-outline\\\"></ion-icon>\\r\\n                  No se logró obtener los miembros de este grupo.\\r\\n                </p>\\r\\n              </ion-text>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ng-template>\\r\\n      </ion-card-content>\\r\\n    </ion-card>\\r\\n\\r\\n    <div class=\\\"ion-margin\\\"><br/></div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DetallesGrupoPage } from './detalles-grupo.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DetallesGrupoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DetallesGrupoPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DetallesGrupoPageRoutingModule } from './detalles-grupo-routing.module';\r\n\r\nimport { DetallesGrupoPage } from './detalles-grupo.page';\r\nimport {ComponentsModule} from '../../../components/components.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    DetallesGrupoPageRoutingModule,\r\n    ComponentsModule\r\n  ],\r\n  declarations: [DetallesGrupoPage]\r\n})\r\nexport class DetallesGrupoPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkZXRhbGxlcy1ncnVwby5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}