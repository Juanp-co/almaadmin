(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{Wtct:function(i,t,e){"use strict";e.r(t),e.d(t,"InicioPageModule",function(){return k});var n=e("ofXK"),a=e("3Pt+"),o=e("TEn/"),s=e("tyNb"),r=e("mrSG"),c=e("Wgwc"),b=e.n(c),l=e("fXoL"),d=e("1Ldg"),u=e("QTu/"),m=e("4WDQ");let h=(()=>{class i{constructor(i,t){this.axios=i,this.globalSer=t}getReports(i={}){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.axios.getData("/admin/reports",i);return t&&t.success?t.data.report:this.globalSer.altResponse(t)})}getChurches(){return Object(r.a)(this,void 0,void 0,function*(){const i=yield this.axios.getData("/churches");return i&&i.success&&i.data.churches||[]})}}return i.\u0275fac=function(t){return new(t||i)(l.Qb(d.a),l.Qb(m.a))},i.\u0275prov=l.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var f=e("0HKr");function g(i,t){1&i&&l.Kb(0,"ion-icon",11)}function p(i,t){1&i&&l.Kb(0,"ion-icon",12)}function M(i,t){if(1&i){const i=l.Nb();l.Mb(0,"ion-col",4),l.Mb(1,"ion-card"),l.Mb(2,"ion-card-content"),l.Mb(3,"ion-row"),l.Mb(4,"ion-col",13),l.Mb(5,"ion-item"),l.Mb(6,"ion-label",14),l.pc(7,"A partir de:"),l.Lb(),l.Mb(8,"ion-datetime",15),l.Ub("ngModelChange",function(t){return l.ic(i),l.Wb().queryParams.initDate=t}),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-col",13),l.Mb(10,"ion-item"),l.Mb(11,"ion-label",14),l.pc(12,"Hasta:"),l.Lb(),l.Mb(13,"ion-datetime",15),l.Ub("ngModelChange",function(t){return l.ic(i),l.Wb().queryParams.endDate=t}),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(14,"ion-row",16),l.Mb(15,"ion-col",17),l.Mb(16,"ion-button",18),l.Ub("click",function(){return l.ic(i),l.Wb().resetQueryParams()}),l.Kb(17,"ion-icon",19),l.Mb(18,"ion-text"),l.pc(19,"Limpiar"),l.Lb(),l.Lb(),l.Lb(),l.Mb(20,"ion-col",17),l.Mb(21,"ion-button",20),l.Ub("click",function(){return l.ic(i),l.Wb().findData()}),l.Kb(22,"ion-icon",21),l.Mb(23,"ion-text"),l.pc(24,"Aplicar"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&i){const i=l.Wb();l.xb(8),l.Zb("ngModel",i.queryParams.initDate)("min",i.minInitDate)("max",i.maxInitDate),l.xb(5),l.Zb("ngModel",i.queryParams.endDate)("min",i.minEndDate)("max",i.maxEndDate)}}function z(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",25),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.users.gender)("sizeElem",i.sizeElems)}}function y(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",26),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.users.families)("sizeElem",i.sizeElems)}}function L(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",27),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.groups)("sizeElem",i.sizeElems)}}function D(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",28),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.users.roles)("sizeElem",i.sizeElems)}}function E(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",29),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.users.ages)("sizeElem",i.sizeElems)}}function x(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",30),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.courses)("sizeElem",i.sizeElems)}}function v(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",31),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.events)("sizeElem",i.sizeElems)}}function S(i,t){if(1&i&&(l.Mb(0,"ion-col",24),l.Kb(1,"app-chart",32),l.Lb()),2&i){const i=l.Wb(2);l.Zb("sizeSm",i.sizeElems),l.xb(1),l.Zb("data",i.data.consolidates)("sizeElem",i.sizeElems)}}function Z(i,t){if(1&i&&(l.Mb(0,"ion-row",22),l.nc(1,z,2,3,"ion-col",23),l.nc(2,y,2,3,"ion-col",23),l.nc(3,L,2,3,"ion-col",23),l.nc(4,D,2,3,"ion-col",23),l.nc(5,E,2,3,"ion-col",23),l.nc(6,x,2,3,"ion-col",23),l.nc(7,v,2,3,"ion-col",23),l.nc(8,S,2,3,"ion-col",23),l.Lb()),2&i){const i=l.Wb();l.xb(1),l.Zb("ngIf",i.data.users&&i.data.users.gender),l.xb(1),l.Zb("ngIf",i.data.users&&i.data.users.families),l.xb(1),l.Zb("ngIf",i.data.groups&&i.data.groups),l.xb(1),l.Zb("ngIf",i.data.users&&i.data.users.roles),l.xb(1),l.Zb("ngIf",i.data.users&&i.data.users.ages),l.xb(1),l.Zb("ngIf",i.data.courses),l.xb(1),l.Zb("ngIf",i.data.events),l.xb(1),l.Zb("ngIf",i.data.consolidates)}}const w=[{path:"",component:(()=>{class i{constructor(i,t,e,n,a){this.axios=i,this.cookieService=t,this.globalSer=e,this.inicioService=n,this.router=a,this.data=null,this.sizeElems=6,this.showFilter=!1,this.minInitDate=b()("2021-01-01").format("YYYY-MM-DD"),this.maxInitDate=b()().format("YYYY-MM-DD"),this.minEndDate=b()("2021-01-01").format("YYYY-MM-DD"),this.maxEndDate=b()().add(2,"y").format("YYYY-MM-DD"),this.queryParams={initDate:null,endDate:null},this.globalSer.checkSession()||this.router.navigate(["/ingresar"])}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()?(this.getData(),this.getChurches()):this.router.navigate(["/ingresar"])})}getData(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.inicioService.getReports(this.queryParams);i&&!i.error?(this.data=i,yield this.globalSer.dismissLoading()):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}getChurches(){return Object(r.a)(this,void 0,void 0,function*(){const i=yield this.inicioService.getChurches();yield this.cookieService.setCookie("churches",i||[])})}showListResizeAlert(){return Object(r.a)(this,void 0,void 0,function*(){yield this.globalSer.alertWithList({header:"Tama\xf1os de las gr\xe1ficas",inputs:[{name:"resize",type:"radio",label:"Mediano",value:6,checked:6===this.sizeElems},{name:"resize",type:"radio",label:"Grande",value:12,checked:12===this.sizeElems}],confirmAction:i=>{this.sizeElems=i}})})}setShowFilter(){this.showFilter=!this.showFilter}resetQueryParams(){return Object(r.a)(this,void 0,void 0,function*(){this.queryParams.initDate=null,this.queryParams.endDate=null,this.showFilter=!this.showFilter,this.data=null,yield this.getData()})}findData(){return Object(r.a)(this,void 0,void 0,function*(){let i=!1;this.queryParams.initDate&&(this.queryParams.initDate=b()(this.queryParams.initDate).format("YYYY-MM-DD"),i=!0),this.queryParams.endDate&&(this.queryParams.endDate=b()(this.queryParams.endDate).format("YYYY-MM-DD"),i=null!==this.queryParams.initDate),i?(this.data=null,yield this.getData()):this.globalSer.presentAlert("Alerta","Disculpe, pero debe indicar una fecha inicial")})}}return i.\u0275fac=function(t){return new(t||i)(l.Jb(d.a),l.Jb(u.a),l.Jb(m.a),l.Jb(h),l.Jb(s.g))},i.\u0275cmp=l.Db({type:i,selectors:[["app-inicio"]],decls:20,vars:4,consts:[["slot","end"],[3,"click"],["name","resize-outline","slot","start"],[1,"ion-no-padding","ion-margin-start","ion-margin-end","ion-margin-top"],["size","12"],[1,"ion-margin-bottom"],["color","medium",3,"click"],["name","filter-outline","slot","start",4,"ngIf"],["name","close-outline","slot","start",4,"ngIf"],["size","12",4,"ngIf"],["class","ion-justify-content-center ion-margin-bottom ion-padding-bottom",4,"ngIf"],["name","filter-outline","slot","start"],["name","close-outline","slot","start"],["size","12","size-sm","6"],["position","floating","color","medium"],["displayFormat","DD/MM/YYYY","doneText","Listo","cancelText","Cancelar",3,"ngModel","min","max","ngModelChange"],[1,"ion-margin-top"],["size","6",1,"ion-justify-content-center"],["color","light","expand","full",1,"ion-text-center",3,"click"],["name","trash-outline"],["color","primary","expand","full",1,"ion-text-center",3,"click"],["name","checkmark-outline"],[1,"ion-justify-content-center","ion-margin-bottom","ion-padding-bottom"],["size","12",3,"sizeSm",4,"ngIf"],["size","12",3,"sizeSm"],["title","Miembros","typeChart","bar",3,"data","sizeElem"],["title","Miembros en un familias","typeChart","bar",3,"data","sizeElem"],["title","Familias","typeChart","bar",3,"data","sizeElem"],["title","Roles","typeChart","bar",3,"data","sizeElem"],["title","Edades","typeChart","bar",3,"data","sizeElem"],["title","Cursos","typeChart","pie",3,"data","sizeElem"],["title","Eventos","typeChart","bar",3,"data","sizeElem"],["title","Consolidaciones","typeChart","bar",3,"data","sizeElem"]],template:function(i,t){1&i&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.pc(3,"Inicio"),l.Lb(),l.Mb(4,"ion-buttons",0),l.Mb(5,"ion-button",1),l.Ub("click",function(){return t.showListResizeAlert()}),l.Kb(6,"ion-icon",2),l.Mb(7,"ion-text"),l.pc(8,"Visualizaci\xf3n"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content"),l.Mb(10,"ion-row",3),l.Mb(11,"ion-col",4),l.Mb(12,"div",5),l.Mb(13,"ion-button",6),l.Ub("click",function(){return t.setShowFilter()}),l.nc(14,g,1,0,"ion-icon",7),l.nc(15,p,1,0,"ion-icon",8),l.Mb(16,"ion-text"),l.pc(17,"Filtrar"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.nc(18,M,25,6,"ion-col",9),l.Lb(),l.nc(19,Z,9,8,"ion-row",10),l.Lb()),2&i&&(l.xb(14),l.Zb("ngIf",!t.showFilter),l.xb(1),l.Zb("ngIf",t.showFilter),l.xb(3),l.Zb("ngIf",t.showFilter),l.xb(1),l.Zb("ngIf",t.data))},directives:[o.r,o.P,o.N,o.f,o.e,o.s,o.K,o.o,o.E,o.n,n.i,o.g,o.h,o.v,o.w,o.p,o.X,a.e,a.f,f.a],styles:[""]}),i})()}];let Y=(()=>{class i{}return i.\u0275mod=l.Hb({type:i}),i.\u0275inj=l.Gb({factory:function(t){return new(t||i)},imports:[[s.j.forChild(w)],s.j]}),i})();var I=e("j1ZV");let k=(()=>{class i{}return i.\u0275mod=l.Hb({type:i}),i.\u0275inj=l.Gb({factory:function(t){return new(t||i)},imports:[[n.b,a.a,o.Q,Y,I.a]]}),i})()}}]);