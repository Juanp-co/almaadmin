(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{HJ1C:function(i,e,t){"use strict";t.d(e,"a",function(){return u});var o=t("mrSG"),n=t("fXoL"),s=t("4WDQ"),l=t("TEn/"),b=t("ofXK"),r=t("Vsu4");function a(i,e){if(1&i&&(n.Mb(0,"ion-col",6),n.Kb(1,"app-video-player",7),n.Lb()),2&i){const i=n.Wb(2);n.Zb("size",12),n.xb(1),n.ac("urlVideo",i.data.urlVideo)}}function c(i,e){if(1&i&&(n.Mb(0,"ion-col",8),n.Kb(1,"div",9),n.Lb()),2&i){const i=n.Wb(2);n.Zb("size",12),n.xb(1),n.Zb("innerHTML",i.data.description,n.jc)}}function d(i,e){if(1&i&&(n.Mb(0,"ion-card"),n.Mb(1,"ion-card-content"),n.Mb(2,"ion-row"),n.nc(3,a,2,2,"ion-col",4),n.nc(4,c,2,2,"ion-col",5),n.Lb(),n.Lb(),n.Lb()),2&i){const i=n.Wb();n.xb(3),n.Zb("ngIf",i.data.urlVideo),n.xb(1),n.Zb("ngIf",i.data.description)}}let u=(()=>{class i{constructor(i,e){this.globalSer=i,this.modalCtrl=e,this.titleModal="Cargando..."}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){this.data?this.titleModal="Previsualizando: "+this.data.title:(yield this.globalSer.presentAlert("Alerta","Disculpe, pero no existe informaci\xf3n que mostrar."),this.closeModal())})}closeModal(){this.modalCtrl.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(n.Jb(s.a),n.Jb(l.T))},i.\u0275cmp=n.Db({type:i,selectors:[["app-modal-preview-tema"]],inputs:{data:"data"},decls:9,vars:2,consts:[["slot","start"],[3,"click"],["name","close-outline"],[4,"ngIf"],["class","ion-margin-bottom",3,"size",4,"ngIf"],[3,"size",4,"ngIf"],[1,"ion-margin-bottom",3,"size"],[3,"urlVideo"],[3,"size"],[3,"innerHTML"]],template:function(i,e){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar"),n.Mb(2,"ion-buttons",0),n.Mb(3,"ion-button",1),n.Ub("click",function(){return e.closeModal()}),n.Kb(4,"ion-icon",2),n.Lb(),n.Lb(),n.Mb(5,"ion-title"),n.pc(6),n.Lb(),n.Lb(),n.Lb(),n.Mb(7,"ion-content"),n.nc(8,d,5,2,"ion-card",3),n.Lb()),2&i&&(n.xb(6),n.qc(e.titleModal),n.xb(2),n.Zb("ngIf",e.data))},directives:[l.r,l.P,l.f,l.e,l.s,l.N,l.o,b.i,l.g,l.h,l.E,l.n,r.a],styles:[""]}),i})()},W7Q1:function(i,e,t){"use strict";t.d(e,"a",function(){return d});var o=t("mrSG"),n=t("+z1p"),s=t("fXoL"),l=t("4WDQ"),b=t("TEn/"),r=t("BpEJ"),a=t("3Pt+"),c=t("zioG");let d=(()=>{class i{constructor(i,e,t){this.globalSer=i,this.modalCtrl=e,this.cursosService=t,this.titleModal="Agregar tema",this.Editor=n,this.configEditor=null,this.formData={title:null,description:null,urlVideo:null},this.configEditor=this.globalSer.configEditor}ngOnInit(){this.title&&(this.formData.title=this.title,this.titleModal="Editar: "+this.title),this.description&&(this.formData.description=this.description),this.urlVideo&&(this.formData.urlVideo=this.urlVideo)}closeModal(i=null){this.modalCtrl.dismiss(i)}confirmCloseModal(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 cerrar la ventana?<br><br>NOTA: Todos los cambios se perder\xe1n.",confirmAction:()=>this.closeModal()})})}disableButton(){const i=[null,""];let e=0;return i.indexOf(this.formData.title)>-1&&(e+=1),i.indexOf(this.formData.urlVideo)>-1&&i.indexOf(this.formData.description)>-1&&(e+=1),e>0}createContent(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.cursosService.createThemeCourse(this.id,this.formData);i&&!i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha agregado el tema exitosamente."),this.closeModal(i)):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}updateContent(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.cursosService.updateThemeCourse(this.id,this.themeId,this.formData);i&&!i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha actualizado el tema exitosamente."),this.closeModal({title:i.title,description:i.description,urlVideo:i.urlVideo})):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}confirmEdit(){return Object(o.a)(this,void 0,void 0,function*(){const i=this.cursosService.validationEdit("content",this.formData);i?yield this.globalSer.presentAlert("Alerta",i||"Disculpe, pero debe completar el formulario."):yield this.globalSer.alertConfirm({header:"Confirme",message:`\xbfEst\xe1 seguro qu\xe9 desea ${this.contentId?"actualizar":"agregar"} este tema?`,confirmAction:()=>{this.themeId&&this.contentId?this.updateContent():this.createContent()}})})}}return i.\u0275fac=function(e){return new(e||i)(s.Jb(l.a),s.Jb(b.T),s.Jb(r.a))},i.\u0275cmp=s.Db({type:i,selectors:[["app-modal-editar-contenido"]],inputs:{id:"id",themeId:"themeId",contentId:"contentId",title:"title",description:"description",urlVideo:"urlVideo"},decls:31,vars:7,consts:[["slot","end"],["color","primary",3,"disabled","click"],["name","save-outline","slot","start"],[3,"click"],["name","close-outline","slot","start"],["size","12"],["position","floating","color","medium"],["maxlength","30",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],["maxlength","150",3,"ngModel","ngModelChange"],[3,"ngModel","editor","config","ngModelChange"],["size","12",1,"ion-margin-top"],["color","medium"],[1,"toSmall"]],template:function(i,e){1&i&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-title"),s.pc(3),s.Lb(),s.Mb(4,"ion-buttons",0),s.Mb(5,"ion-button",1),s.Ub("click",function(){return e.confirmEdit()}),s.Kb(6,"ion-icon",2),s.Mb(7,"ion-text"),s.pc(8,"Guardar"),s.Lb(),s.Lb(),s.Mb(9,"ion-button",3),s.Ub("click",function(){return e.confirmCloseModal()}),s.Kb(10,"ion-icon",4),s.Mb(11,"ion-text"),s.pc(12,"Cancelar"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(13,"ion-content"),s.Mb(14,"ion-row"),s.Mb(15,"ion-col",5),s.Mb(16,"ion-item"),s.Mb(17,"ion-label",6),s.pc(18,"T\xedtulo del contenido (*)"),s.Lb(),s.Mb(19,"ion-input",7),s.Ub("ngModelChange",function(i){return e.formData.title=i}),s.Lb(),s.Lb(),s.Lb(),s.Mb(20,"ion-col",5),s.Mb(21,"ion-item"),s.Mb(22,"ion-label",6),s.pc(23,"Enlace de YouTube"),s.Lb(),s.Mb(24,"ion-input",8),s.Ub("ngModelChange",function(i){return e.formData.urlVideo=i}),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"ion-col",5),s.Mb(26,"ckeditor",9),s.Ub("ngModelChange",function(i){return e.formData.description=i}),s.Lb(),s.Lb(),s.Mb(27,"ion-col",10),s.Mb(28,"ion-text",11),s.Mb(29,"i",12),s.pc(30,"(*) Campos requeridos."),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&i&&(s.xb(3),s.qc(e.titleModal),s.xb(2),s.Zb("disabled",e.disableButton()),s.xb(14),s.Zb("ngModel",e.formData.title),s.xb(5),s.Zb("ngModel",e.formData.urlVideo),s.xb(2),s.Zb("ngModel",e.formData.description)("editor",e.Editor)("config",e.configEditor))},directives:[b.r,b.P,b.N,b.f,b.e,b.s,b.K,b.o,b.E,b.n,b.v,b.w,b.u,b.Y,a.b,a.e,a.f,c.a],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:250px;color:#333!important}"]}),i})()},h6VQ:function(i,e,t){"use strict";t.d(e,"a",function(){return C});var o=t("mrSG"),n=t("fXoL"),s=t("4WDQ"),l=t("TEn/"),b=t("ofXK"),r=t("3Pt+");function a(i,e){if(1&i&&(n.Mb(0,"ion-col",6),n.Kb(1,"div",7),n.Lb()),2&i){const i=n.Wb();n.xb(1),n.Zb("innerHTML",i.description,n.jc)}}function c(i,e){if(1&i&&n.Kb(0,"div",12),2&i){const i=n.Wb().$implicit;n.Zb("innerHTML",i.description,n.jc)}}function d(i,e){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.Mb(1,"ion-item"),n.Mb(2,"ion-label",13),n.pc(3),n.Lb(),n.Mb(4,"ion-input",14),n.Ub("ngModelChange",function(e){n.ic(i);const t=n.Wb().$implicit;return n.Wb(2).questionsModel[t._id]=e}),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit,e=n.Wb(2);n.xb(3),n.qc(i.placeholder||"Indique su respuesta"),n.xb(1),n.Zb("ngModel",e.questionsModel[i._id])("required",i.require)}}function u(i,e){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.Mb(1,"ion-item"),n.Mb(2,"ion-label",13),n.pc(3),n.Lb(),n.Mb(4,"ion-textarea",15),n.Ub("ngModelChange",function(e){n.ic(i);const t=n.Wb().$implicit;return n.Wb(2).questionsModel[t._id]=e}),n.Lb(),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit,e=n.Wb(2);n.xb(3),n.qc(i.placeholder||"Indique su respuesta"),n.xb(1),n.Zb("ngModel",e.questionsModel[i._id])("required",i.require)}}function h(i,e){if(1&i&&(n.Mb(0,"ion-list"),n.Mb(1,"ion-item"),n.Mb(2,"ion-label"),n.pc(3),n.Lb(),n.Kb(4,"ion-radio",17),n.Lb(),n.Lb()),2&i){const i=e.$implicit,t=e.index;n.xb(3),n.qc(i),n.xb(1),n.ac("value",t)}}function p(i,e){if(1&i){const i=n.Nb();n.Mb(0,"div"),n.Mb(1,"ion-radio-group",16),n.Ub("ngModelChange",function(e){n.ic(i);const t=n.Wb().$implicit;return n.Wb(2).questionsModel[t._id]=e}),n.nc(2,h,5,2,"ion-list",8),n.Lb(),n.Lb()}if(2&i){const i=n.Wb().$implicit,e=n.Wb(2);n.xb(1),n.ac("value",e.questionsModel[i._id]),n.Zb("ngModel",e.questionsModel[i._id]),n.xb(1),n.Zb("ngForOf",i.values)}}function f(i,e){if(1&i&&(n.Mb(0,"ion-item"),n.Mb(1,"ion-label"),n.pc(2),n.Lb(),n.Mb(3,"ion-checkbox",18),n.Ub("ngModelChange",function(i){return e.$implicit.isChecked=i}),n.Lb(),n.Lb()),2&i){const i=e.$implicit;n.xb(2),n.qc(i.val),n.xb(1),n.Zb("ngModel",i.isChecked)}}function m(i,e){if(1&i&&(n.Mb(0,"div"),n.Mb(1,"ion-list"),n.nc(2,f,4,2,"ion-item",8),n.Lb(),n.Lb()),2&i){const i=n.Wb().$implicit,e=n.Wb(2);n.xb(2),n.Zb("ngForOf",e.questionsModel[i._id])}}function g(i,e){1&i&&(n.Mb(0,"ion-text"),n.Mb(1,"i"),n.pc(2,"(*) Obligatoria "),n.Lb(),n.Lb())}function M(i,e){if(1&i&&(n.Mb(0,"div"),n.Kb(1,"div",12),n.Lb()),2&i){const i=n.Wb().$implicit;n.xb(1),n.Zb("innerHTML",i.extra,n.jc)}}function L(i,e){if(1&i&&(n.Mb(0,"ion-list"),n.Mb(1,"ion-card"),n.Mb(2,"ion-card-header"),n.Mb(3,"ion-card-title"),n.pc(4),n.Lb(),n.Lb(),n.Mb(5,"ion-card-content"),n.nc(6,c,1,1,"div",11),n.nc(7,d,5,3,"div",5),n.nc(8,u,5,3,"div",5),n.nc(9,p,3,3,"div",5),n.nc(10,m,3,1,"div",5),n.Lb(),n.Mb(11,"ion-card-content"),n.nc(12,g,3,0,"ion-text",5),n.nc(13,M,2,1,"div",5),n.Lb(),n.Lb(),n.Lb()),2&i){const i=e.$implicit;n.xb(4),n.qc(i.title),n.xb(2),n.Zb("ngIf",i.description),n.xb(1),n.Zb("ngIf","text"===i.inputType),n.xb(1),n.Zb("ngIf","textarea"===i.inputType),n.xb(1),n.Zb("ngIf","radio"===i.inputType),n.xb(1),n.Zb("ngIf","checkbox"===i.inputType),n.xb(2),n.Zb("ngIf",i.require),n.xb(1),n.Zb("ngIf",i.extra)}}function v(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-col",21),n.Mb(1,"ion-button",22),n.Ub("click",function(){return n.ic(i),n.Wb(3).close()}),n.Mb(2,"ion-text"),n.pc(3,"CERRAR"),n.Lb(),n.Lb(),n.Lb()}}function x(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-col",21),n.Mb(1,"ion-button",23),n.Ub("click",function(){return n.ic(i),n.Wb(3).getQuestionsFromList(!0)}),n.Mb(2,"ion-text"),n.pc(3,"SIGUIENTE"),n.Lb(),n.Lb(),n.Lb()}}function w(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-col",24),n.Mb(1,"ion-button",25),n.Ub("click",function(){return n.ic(i),n.Wb(3).close()}),n.Mb(2,"ion-text"),n.pc(3,"FINALIZAR"),n.Lb(),n.Lb(),n.Lb()}}function y(i,e){if(1&i&&(n.Mb(0,"div"),n.Mb(1,"ion-row"),n.nc(2,v,4,0,"ion-col",19),n.nc(3,x,4,0,"ion-col",19),n.nc(4,w,4,0,"ion-col",20),n.Lb(),n.Lb()),2&i){const i=n.Wb(2);n.xb(2),n.Zb("ngIf",i.viewSelected!==i.totalsViews),n.xb(1),n.Zb("ngIf",i.viewSelected!==i.totalsViews),n.xb(1),n.Zb("ngIf",i.viewSelected===i.totalsViews)}}function S(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-col",21),n.Mb(1,"ion-button",23),n.Ub("click",function(){return n.ic(i),n.Wb(3).getQuestionsFromList(!0)}),n.Mb(2,"ion-text"),n.pc(3,"SIGUIENTE"),n.Lb(),n.Lb(),n.Lb()}}function I(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-col",21),n.Mb(1,"ion-button",23),n.Ub("click",function(){return n.ic(i),n.Wb(3).close()}),n.Mb(2,"ion-text"),n.pc(3,"CERRAR"),n.Lb(),n.Lb(),n.Lb()}}function q(i,e){if(1&i){const i=n.Nb();n.Mb(0,"ion-row"),n.Mb(1,"ion-col",21),n.Mb(2,"ion-button",22),n.Ub("click",function(){return n.ic(i),n.Wb(2).getQuestionsFromList()}),n.Mb(3,"ion-text"),n.pc(4,"ATR\xc1S"),n.Lb(),n.Lb(),n.Lb(),n.nc(5,S,4,0,"ion-col",19),n.nc(6,I,4,0,"ion-col",19),n.Lb()}if(2&i){const i=n.Wb(2);n.xb(5),n.Zb("ngIf",i.viewSelected>0&&i.viewSelected<i.totalsViews),n.xb(1),n.Zb("ngIf",i.viewSelected===i.totalsViews)}}function z(i,e){if(1&i&&(n.Mb(0,"div"),n.nc(1,L,14,8,"ion-list",8),n.Mb(2,"ion-card"),n.Mb(3,"ion-card-content"),n.nc(4,y,5,3,"div",9),n.nc(5,q,7,2,"ng-template",null,10,n.oc),n.Lb(),n.Lb(),n.Lb()),2&i){const i=n.hc(6),e=n.Wb();n.xb(1),n.Zb("ngForOf",e.questionsView),n.xb(3),n.Zb("ngIf",0===e.viewSelected)("ngIfElse",i)}}let C=(()=>{class i{constructor(i,e){this.globalSer=i,this.modalController=e,this.test=[],this.title=null,this.description=null,this.titleModal="Cargando ...",this.totalsViews=0,this.viewSelected=0,this.questions=[],this.questionsView=null,this.questionsModel={}}ngOnInit(){this.title&&(this.titleModal="Previsualizando prueba: "+this.title),this.setSectionsQuestions()}close(){return Object(o.a)(this,void 0,void 0,function*(){yield this.modalController.dismiss()})}setSectionsQuestions(){const i=this.test.length;this.totalsViews=this.globalSer.getPagination(i,2);for(let e=0;e<this.totalsViews;e++){const i=0===e?0:2*e,t=this.test.slice(i,i+2);this.questions.push(t)}for(let e=0;e<i;e++)"checkbox"===this.test[e].inputType?(this.questionsModel[""+this.test[e]._id]=[],this.test[e].values.forEach(i=>{this.questionsModel[""+this.test[e]._id].push({val:i,isChecked:!1})})):this.questionsModel[""+this.test[e]._id]=null;this.totalsViews>0&&(this.totalsViews=this.totalsViews-1,this.questions[0]&&(this.questionsView=this.questions[0]))}checkAnswerSections(i){const e=this.questions[i].length;let t=!1;for(let o=0;o<e&&(this.questions[i][o].require&&(t="checkbox"===this.questions[i][o].inputType?0===this.questionsModel[this.questions[i][o]._id].filter(i=>i.isChecked).length:null===this.questionsModel[this.questions[i][o]._id]),!t);o++);return t}getQuestionsFromList(i=!1){return Object(o.a)(this,void 0,void 0,function*(){this.viewSelected+=i?1:-1,this.questionsView=this.questions[this.viewSelected]||null})}}return i.\u0275fac=function(e){return new(e||i)(n.Jb(s.a),n.Jb(l.T))},i.\u0275cmp=n.Db({type:i,selectors:[["app-modal-preview-prueba"]],inputs:{test:"test",title:"title",description:"description"},decls:11,vars:3,consts:[["slot","start"],[3,"click"],["name","close-outline","color","dark"],[1,"ion-margin-top","ion-margin-bottom"],["size","12",4,"ngIf"],[4,"ngIf"],["size","12"],["color","medium",3,"innerHTML"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["nextButtons",""],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["position","floating","color","medium"],[3,"ngModel","required","ngModelChange"],["rows","4","cols","20",3,"ngModel","required","ngModelChange"],[3,"ngModel","value","ngModelChange"],["slot","start",3,"value"],["slot","start",3,"ngModel","ngModelChange"],["size","6",4,"ngIf"],["size","12","class","ion-text-center",4,"ngIf"],["size","6"],["color","light","expand","full",3,"click"],["color","primary","expand","full",3,"click"],["size","12",1,"ion-text-center"],["color","primary",3,"click"]],template:function(i,e){1&i&&(n.Mb(0,"ion-header"),n.Mb(1,"ion-toolbar"),n.Mb(2,"ion-buttons",0),n.Mb(3,"ion-button",1),n.Ub("click",function(){return e.close()}),n.Kb(4,"ion-icon",2),n.Lb(),n.Lb(),n.Mb(5,"ion-text",3),n.pc(6),n.Lb(),n.Lb(),n.Lb(),n.Mb(7,"ion-content"),n.Mb(8,"ion-row"),n.nc(9,a,2,1,"ion-col",4),n.Lb(),n.nc(10,z,7,3,"div",5),n.Lb()),2&i&&(n.xb(6),n.qc(e.titleModal),n.xb(3),n.Zb("ngIf",e.description),n.xb(1),n.Zb("ngIf",e.questionsView))},directives:[l.r,l.P,l.f,l.e,l.s,l.K,l.o,l.E,b.i,l.n,b.h,l.g,l.h,l.x,l.i,l.k,l.v,l.w,l.u,l.Y,r.e,r.f,r.g,l.L,l.C,l.X,l.B,l.V,l.l,l.b],styles:[""]}),i})()},v0qv:function(i,e,t){"use strict";t.r(e),t.d(e,"DetallesCursoPageModule",function(){return Q});var o=t("ofXK"),n=t("3Pt+"),s=t("TEn/"),l=t("tyNb"),b=t("mrSG"),r=t("OmbT"),a=t("HJ1C"),c=t("xGAF"),d=t("h6VQ"),u=t("W7Q1"),h=t("fXoL"),p=t("BpEJ"),f=t("4WDQ"),m=t("lmIc");function g(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-row"),h.Mb(1,"ion-col",1),h.Mb(2,"ion-row"),h.Mb(3,"ion-col",2),h.Mb(4,"ion-item"),h.Mb(5,"ion-label",3),h.pc(6,"Nombre del curso (*)"),h.Lb(),h.Mb(7,"ion-input",4),h.Ub("change",function(e){return h.ic(i),h.Wb().setValue("title",e)}),h.Lb(),h.Lb(),h.Lb(),h.Mb(8,"ion-col",2),h.Mb(9,"ion-item"),h.Mb(10,"ion-label",3),h.pc(11,"Descripcion del curso (*)"),h.Lb(),h.Mb(12,"ion-textarea",5),h.Ub("change",function(e){return h.ic(i),h.Wb().setValue("description",e)}),h.Lb(),h.Lb(),h.Lb(),h.Mb(13,"ion-col",6),h.Mb(14,"ion-item"),h.Mb(15,"ion-label",3),h.pc(16,"Nombre del ponente (*)"),h.Lb(),h.Mb(17,"ion-input",7),h.Ub("change",function(e){return h.ic(i),h.Wb().setValue("speaker",e)}),h.Lb(),h.Lb(),h.Lb(),h.Mb(18,"ion-col",6),h.Mb(19,"ion-item"),h.Mb(20,"ion-label",3),h.pc(21,"Cargo o posici\xf3n del ponente (*)"),h.Lb(),h.Mb(22,"ion-input",8),h.Ub("change",function(e){return h.ic(i),h.Wb().setValue("speakerPosition",e)}),h.Lb(),h.Lb(),h.Lb(),h.Mb(23,"ion-col",6),h.Mb(24,"ion-item"),h.Mb(25,"ion-label",3),h.pc(26,"Nivel del curso (*)"),h.Lb(),h.Mb(27,"ion-input",9),h.Ub("click",function(){h.ic(i);const e=h.Wb();return e.showLevelsListAlert(e.formData.level)}),h.Lb(),h.Lb(),h.Lb(),h.Mb(28,"ion-col",6),h.Mb(29,"ion-item"),h.Mb(30,"ion-label",3),h.pc(31,"Roles a los que va dirigido (*)"),h.Lb(),h.Mb(32,"ion-input",9),h.Ub("click",function(){h.ic(i);const e=h.Wb();return e.showRoleListAlert(e.formData.toRoles)}),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(33,"ion-col",10),h.Mb(34,"ion-text",11),h.Mb(35,"i",12),h.pc(36,"(*) Campos requeridos."),h.Lb(),h.Lb(),h.Lb(),h.Mb(37,"ion-col",13),h.Mb(38,"ion-button",14),h.Ub("click",function(){return h.ic(i),h.Wb().cancel()}),h.Kb(39,"ion-icon",15),h.Mb(40,"ion-text"),h.pc(41,"Cancelar"),h.Lb(),h.Lb(),h.Mb(42,"ion-button",16),h.Ub("click",function(){return h.ic(i),h.Wb().confirmEdit("info")}),h.Kb(43,"ion-icon",17),h.Mb(44,"ion-text"),h.pc(45,"Guardar"),h.Lb(),h.Lb(),h.Lb(),h.Lb()}if(2&i){const i=h.Wb();h.xb(1),h.Zb("size",12),h.xb(6),h.Zb("value",i.formData.title),h.xb(5),h.Zb("value",i.formData.description),h.xb(5),h.Zb("value",i.formData.speaker),h.xb(5),h.Zb("value",i.formData.speakerPosition),h.xb(5),h.Zb("readonly",!0)("value",i.getLevel(i.formData.level)),h.xb(5),h.Zb("readonly",!0)("value",i.getRoles(i.formData.toRoles))}}let M=(()=>{class i{constructor(i,e){this.cursosService=i,this.globalSer=e,this.levels=[],this.formData={title:null,description:null,toRoles:[],speaker:null,speakerPosition:null,level:null},this.levels=this.cursosService.levelsList}ngOnInit(){this.data&&(this.formData=Object.assign(Object.assign({},this.formData),this.data),this.formData.description=Object(r.s)(this.formData.description))}cancel(){this.handleCancel&&this.handleCancel()}save(){this.handleSave&&this.handleSave(this.formData)}setValue(i,e){this.formData[i]=e.target.value}getLevel(i){const e=this.levels.find(e=>e.val===i)||null;return e?e.label:null}getRoles(i){return this.cursosService.getRoles(i)}showLevelsListAlert(i=[]){return Object(b.a)(this,void 0,void 0,function*(){const e=[];for(const t of this.levels)e.push({name:"lvls",type:"radio",label:t.label,value:t.val,checked:t.val===i});yield this.globalSer.alertWithList({inputs:e,confirmAction:i=>{this.formData.level=i}})})}showRoleListAlert(i=[]){return Object(b.a)(this,void 0,void 0,function*(){const e=[];for(const[t,o]of m.b.entries())e.push({name:"roles",type:"checkbox",label:o,value:t+1,checked:i.indexOf(t+1)>-1});yield this.globalSer.alertWithList({header:"Seleccione los roles",inputs:e,confirmAction:i=>{this.formData.toRoles=i}})})}confirmEdit(i){return Object(b.a)(this,void 0,void 0,function*(){const e=this.cursosService.validationEdit(i,this.formData);e?yield this.globalSer.presentAlert("Alerta",e||"Disculpe, pero debe completar el formulario."):yield this.globalSer.alertConfirm({message:"\xbfEst\xe1 seguro qu\xe9 desea actualizar esta informaci\xf3n?",confirmAction:()=>this.save()})})}}return i.\u0275fac=function(e){return new(e||i)(h.Jb(p.a),h.Jb(f.a))},i.\u0275cmp=h.Db({type:i,selectors:[["app-editar-info-curso"]],inputs:{data:"data",handleCancel:"handleCancel",handleSave:"handleSave"},decls:1,vars:1,consts:[[4,"ngIf"],["size-sm","12",3,"size"],["size","12"],["position","floating","color","medium"],["name","title",1,"ion-text-uppercase",3,"value","change"],["name","description","rows","6","placeholder","Escribe aqui...",3,"value","change"],["size","12","size-sm","6"],["name","speaker",1,"ion-text-uppercase",3,"value","change"],["name","speakerPosition",1,"ion-text-uppercase",3,"value","change"],["autocomplete","off",1,"no-selected-text",3,"readonly","value","click"],["size","12","size-sm","12",1,"ion-margin-top"],["color","medium"],[1,"toSmall"],["size","12","size-sm","12",1,"ion-margin-top","ion-margin-bottom","ion-text-center"],["color","medium",3,"click"],["name","close-outline","slot","start"],["color","primary",3,"click"],["name","save-outline","slot","start"]],template:function(i,e){1&i&&h.nc(0,g,46,9,"ion-row",0),2&i&&h.Zb("ngIf",e.data)},directives:[o.i,s.E,s.n,s.v,s.w,s.u,s.Y,s.L,s.K,s.e,s.s],styles:[""]}),i})();function L(i,e){1&i&&h.Kb(0,"ion-icon",8)}function v(i,e){1&i&&h.Kb(0,"ion-icon",9)}function x(i,e){1&i&&h.Kb(0,"ion-icon",10)}function w(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-button",5),h.Ub("click",function(){h.ic(i);const e=h.Wb().$implicit;return h.Wb().handleEditTheme(e._id,!!e.quiz)}),h.Kb(1,"ion-icon",11),h.Lb()}}function y(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-button",5),h.Ub("click",function(){h.ic(i);const e=h.Wb().$implicit;return h.Wb().handleDeleteTheme(e._id)}),h.Kb(1,"ion-icon",12),h.Lb()}}function S(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-item"),h.nc(1,L,1,0,"ion-icon",1),h.nc(2,v,1,0,"ion-icon",2),h.nc(3,x,1,0,"ion-icon",3),h.Mb(4,"ion-text"),h.Mb(5,"b"),h.pc(6),h.Lb(),h.Lb(),h.Mb(7,"ion-buttons",4),h.Mb(8,"ion-button",5),h.Ub("click",function(){h.ic(i);const t=e.$implicit;return h.Wb().handlePreview(t._id)}),h.Kb(9,"ion-icon",6),h.Lb(),h.nc(10,w,2,0,"ion-button",7),h.nc(11,y,2,0,"ion-button",7),h.Lb(),h.Lb()}if(2&i){const i=e.$implicit,t=h.Wb();h.xb(1),h.Zb("ngIf",i.urlVideo),h.xb(1),h.Zb("ngIf",i.description&&!i.urlVideo&&!i.quiz),h.xb(1),h.Zb("ngIf",i.quiz),h.xb(3),h.qc(i.title),h.xb(4),h.Zb("ngIf",t.enableActions),h.xb(1),h.Zb("ngIf",t.enableActions)}}let I=(()=>{class i{constructor(){this.temary=[],this.enableActions=!1,this.viewsT={},this.listsIdsForViews=[]}ngOnInit(){this.temary.length>0&&(this.listsIdsForViews=this.temary.map(i=>i._id),this.listsIdsForViews.forEach(i=>this.viewsT[i]=!1))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Db({type:i,selectors:[["app-temarylist"]],inputs:{temary:"temary",enableActions:"enableActions",handlePreview:"handlePreview",handleEditTheme:"handleEditTheme",handleDeleteTheme:"handleDeleteTheme",handleEditContent:"handleEditContent",handleDeleteContent:"handleDeleteContent"},decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],["name","videocam-outline","slot","start",4,"ngIf"],["name","text-outline","slot","start",4,"ngIf"],["name","help-circle-outline","slot","start",4,"ngIf"],["slot","end"],["color","primary",3,"click"],["name","eye-outline"],["color","primary",3,"click",4,"ngIf"],["name","videocam-outline","slot","start"],["name","text-outline","slot","start"],["name","help-circle-outline","slot","start"],["name","pencil-outline","slot","start"],["name","trash-outline","slot","start"]],template:function(i,e){1&i&&(h.Mb(0,"ion-list"),h.nc(1,S,12,6,"ion-item",0),h.Lb()),2&i&&(h.xb(1),h.Zb("ngForOf",e.temary))},directives:[s.x,o.h,s.v,o.i,s.K,s.f,s.e,s.s],styles:[""]}),i})();function q(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-buttons",3),h.Mb(1,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb().back()}),h.Kb(2,"ion-icon",5),h.Lb(),h.Lb()}}function z(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-buttons",6),h.Mb(1,"ion-button",7),h.Ub("click",function(){return h.ic(i),h.Wb().confirmCourseDelete()}),h.Kb(2,"ion-icon",8),h.Mb(3,"ion-text"),h.pc(4,"Eliminar curso"),h.Lb(),h.Lb(),h.Lb()}}function C(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-buttons",3),h.Mb(1,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(2).setShowView("info")}),h.Kb(2,"ion-icon",14),h.Lb(),h.Lb()}if(2&i){const i=h.Wb(2);h.xb(2),h.bc("name","chevron-",i.views.info.show?"up":"down","-outline")}}function D(i,e){if(1&i&&(h.Mb(0,"ion-title"),h.pc(1),h.Lb()),2&i){const i=h.Wb(2);h.xb(1),h.qc(i.views.info.title)}}function Z(i,e){1&i&&(h.Mb(0,"ion-title"),h.pc(1,"Editar datos principales del curso"),h.Lb())}function E(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(3).setShowEditInfo("info")}),h.Kb(1,"ion-icon",16),h.Mb(2,"ion-text"),h.pc(3,"Editar"),h.Lb(),h.Lb()}}function T(i,e){if(1&i&&(h.Mb(0,"ion-buttons",6),h.nc(1,E,4,0,"ion-button",15),h.Lb()),2&i){const i=h.Wb(2);h.xb(1),h.Zb("ngIf",!i.views.info.edit)}}function A(i,e){if(1&i&&(h.Mb(0,"div"),h.Mb(1,"ion-row"),h.Mb(2,"ion-col",17),h.Kb(3,"img",18),h.Lb(),h.Mb(4,"ion-col",19),h.Mb(5,"ion-row"),h.Mb(6,"ion-col",9),h.Mb(7,"ion-text"),h.Mb(8,"b",20),h.pc(9,"T\xedtulo curso"),h.Lb(),h.Lb(),h.Kb(10,"br"),h.Mb(11,"ion-text",21),h.pc(12),h.Lb(),h.Lb(),h.Mb(13,"ion-col",9),h.Mb(14,"ion-text"),h.Mb(15,"b",20),h.pc(16,"Nivel"),h.Lb(),h.Lb(),h.Kb(17,"br"),h.Mb(18,"ion-text",21),h.pc(19),h.Lb(),h.Lb(),h.Mb(20,"ion-col",9),h.Mb(21,"ion-text"),h.Mb(22,"b",20),h.pc(23,"Dirigido a"),h.Lb(),h.Lb(),h.Kb(24,"br"),h.Mb(25,"ion-text",21),h.pc(26),h.Lb(),h.Lb(),h.Mb(27,"ion-col",9),h.Mb(28,"ion-text"),h.Mb(29,"b",20),h.pc(30,"Ponente"),h.Lb(),h.Lb(),h.Kb(31,"br"),h.Mb(32,"ion-text",21),h.pc(33),h.Lb(),h.Lb(),h.Mb(34,"ion-col",9),h.Mb(35,"ion-text"),h.Mb(36,"b",20),h.pc(37,"Cargo o posici\xf3n del ponente"),h.Lb(),h.Lb(),h.Kb(38,"br"),h.Mb(39,"ion-text",21),h.pc(40),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Mb(41,"ion-col",19),h.Mb(42,"ion-row"),h.Mb(43,"ion-col",9),h.Mb(44,"ion-text"),h.Mb(45,"b",20),h.pc(46,"Descripci\xf3n"),h.Lb(),h.Lb(),h.Kb(47,"br"),h.Mb(48,"div",22),h.Kb(49,"div",23),h.Lb(),h.Lb(),h.Mb(50,"ion-col",9),h.Mb(51,"ion-text"),h.Mb(52,"b",20),h.pc(53,"Miembros actualmente con el curso"),h.Lb(),h.Lb(),h.Kb(54,"br"),h.Mb(55,"ion-text",21),h.pc(56),h.Lb(),h.Lb(),h.Mb(57,"ion-col",9),h.Mb(58,"ion-text"),h.Mb(59,"b",20),h.pc(60,"Estado del curso"),h.Lb(),h.Lb(),h.Kb(61,"br"),h.Mb(62,"ion-text",21),h.pc(63),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&i){const i=h.Wb(2);h.xb(3),h.bc("src","assets/icon/level-",i.views.info.data.level,".svg",h.kc),h.xb(1),h.Zb("size",12),h.xb(2),h.Zb("size",12),h.xb(6),h.qc(i.views.info.data.title),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.views.info.data.level||"No especificado"),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.views.info.data.toRoles?i.getRoles(i.views.info.data.toRoles):"No especificado"),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.views.info.data.speaker||"No especificado"),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.views.info.data.speakerPosition||"No especificado"),h.xb(1),h.Zb("size",12),h.xb(2),h.Zb("size",12),h.xb(6),h.Zb("innerHTML",i.views.info.data.description,h.jc),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.totalsUsers),h.xb(1),h.Zb("size",12),h.xb(6),h.qc(i.staticData.enable?"Publicado":"No publicado")}}function k(i,e){if(1&i&&(h.Mb(0,"div"),h.Kb(1,"app-editar-info-curso",24),h.Lb()),2&i){const i=h.Wb(2);h.xb(1),h.Zb("data",i.formDataInfo)("handleCancel",i.cancelEditInfo)("handleSave",i.saveEditInfo)}}function W(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-buttons",6),h.Mb(1,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(3).modalTheme()}),h.Kb(2,"ion-icon",27),h.Mb(3,"ion-text"),h.pc(4,"Agregar tema"),h.Lb(),h.Lb(),h.Mb(5,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(3).modalTheme(null,!0)}),h.Kb(6,"ion-icon",27),h.Mb(7,"ion-text"),h.pc(8,"Agregar Quiz"),h.Lb(),h.Lb(),h.Lb()}}function O(i,e){if(1&i&&h.Kb(0,"app-temarylist",28),2&i){const i=h.Wb(3);h.Zb("temary",i.views.temary.data)("enableActions",!i.staticData.enable)("handlePreview",i.showPreviewModal)("handleEditTheme",i.showEditTheme)("handleDeleteTheme",i.showDeleteConfirmTheme)}}function V(i,e){1&i&&(h.Mb(0,"ion-row"),h.Mb(1,"ion-col",29),h.Mb(2,"ion-text",30),h.Mb(3,"p",31),h.Kb(4,"ion-icon",32),h.pc(5," Este curso no posee temas. "),h.Lb(),h.Lb(),h.Lb(),h.Lb()),2&i&&(h.xb(1),h.Zb("size",12))}function U(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-col",9),h.Mb(1,"ion-card"),h.Mb(2,"ion-card-header",10),h.Mb(3,"ion-toolbar",11),h.Mb(4,"ion-buttons",3),h.Mb(5,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(2).setShowView("temary")}),h.Kb(6,"ion-icon",14),h.Lb(),h.Lb(),h.Mb(7,"ion-title"),h.pc(8),h.Lb(),h.nc(9,W,9,0,"ion-buttons",1),h.Lb(),h.Lb(),h.Mb(10,"ion-card-content"),h.nc(11,O,1,5,"app-temarylist",25),h.nc(12,V,6,1,"ng-template",null,26,h.oc),h.Lb(),h.Lb(),h.Lb()}if(2&i){const i=h.hc(13),e=h.Wb(2);h.Zb("size",12),h.xb(6),h.bc("name","chevron-",e.views.temary.show?"up":"down","-outline"),h.xb(2),h.sc(" ",e.views.temary.title," (",e.views.temary.data.length,") "),h.xb(1),h.Zb("ngIf",e.showAddButton&&e.views.temary.show&&!e.staticData.enable),h.xb(1),h.zb(e.views.temary.show?"":"ion-hide"),h.xb(1),h.Zb("ngIf",e.views.temary.data.length>0)("ngIfElse",i)}}function K(i,e){1&i&&h.Kb(0,"ion-icon",40)}function P(i,e){1&i&&h.Kb(0,"ion-icon",41)}function N(i,e){if(1&i){const i=h.Nb();h.Mb(0,"ion-col",33),h.Mb(1,"ion-card"),h.Mb(2,"ion-card-header",10),h.Mb(3,"ion-toolbar",11),h.Mb(4,"ion-buttons",3),h.Mb(5,"ion-button",4),h.Ub("click",function(){return h.ic(i),h.Wb(2).setShowView("publish")}),h.Kb(6,"ion-icon",14),h.Lb(),h.Lb(),h.Mb(7,"ion-title"),h.pc(8),h.Lb(),h.Lb(),h.Lb(),h.Mb(9,"ion-card-content"),h.Mb(10,"ion-row",34),h.Mb(11,"ion-col",35),h.Mb(12,"h2"),h.Mb(13,"b"),h.pc(14,"IMPORTANTE"),h.Lb(),h.Lb(),h.Mb(15,"ul"),h.Mb(16,"li"),h.pc(17,"Puede publicar el curso a los miembros con solo presionar el bot\xf3n: "),h.Mb(18,"b"),h.pc(19,'"PUBLICAR CURSO"'),h.Lb(),h.pc(20,"."),h.Lb(),h.Mb(21,"li"),h.pc(22,"Puede retirar el curso del listado p\xfablico con solo presionar el bot\xf3n "),h.Mb(23,"b"),h.pc(24,'"QUITAR CURSO DE LA SECCI\xd3N P\xdaBLICA"'),h.Lb(),h.pc(25,"."),h.Lb(),h.Mb(26,"li"),h.pc(27,"El curso una vez publicado, "),h.Mb(28,"b"),h.pc(29,"NO PUEDE SER EDITADO"),h.Lb(),h.pc(30," en ninguna de las secciones."),h.Lb(),h.Mb(31,"li"),h.pc(32,"Puede editar un curso siempre y cuando este no se encuentre publicado."),h.Lb(),h.Lb(),h.Mb(33,"h3"),h.Mb(34,"b"),h.pc(35,"NOTA:"),h.Lb(),h.pc(36," ASEG\xdaRESE DE VERIFICAR EL CONTENIDO DEL CURSO ANTES DE PUBLICARLO. "),h.Lb(),h.Lb(),h.Mb(37,"ion-col",36),h.Mb(38,"ion-button",37),h.Ub("click",function(){return h.ic(i),h.Wb(2).confirmPublish()}),h.nc(39,K,1,0,"ion-icon",38),h.nc(40,P,1,0,"ion-icon",39),h.Mb(41,"ion-text"),h.pc(42),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb(),h.Lb()}if(2&i){const i=h.Wb(2);h.Zb("size",12),h.xb(6),h.bc("name","chevron-",i.views.publish.show?"up":"down","-outline"),h.xb(2),h.qc(i.views.publish.title),h.xb(1),h.zb(i.views.publish.show?"":"ion-hide"),h.xb(29),h.Zb("color",i.views.publish.enable?"danger":"primary"),h.xb(1),h.Zb("ngIf",i.views.publish.enable),h.xb(1),h.Zb("ngIf",!i.views.publish.enable),h.xb(2),h.qc(i.views.publish.enable?"Quitar curso de la secci\xf3n p\xfablica":"Publicar curso")}}function j(i,e){if(1&i&&(h.Mb(0,"ion-row"),h.Mb(1,"ion-col",9),h.Mb(2,"ion-card"),h.Mb(3,"ion-card-header",10),h.Mb(4,"ion-toolbar",11),h.nc(5,C,3,1,"ion-buttons",0),h.nc(6,D,2,1,"ion-title",2),h.nc(7,Z,2,0,"ion-title",2),h.nc(8,T,2,1,"ion-buttons",1),h.Lb(),h.Lb(),h.Mb(9,"ion-card-content"),h.nc(10,A,64,19,"div",2),h.nc(11,k,2,3,"div",2),h.Lb(),h.Lb(),h.Lb(),h.nc(12,U,14,10,"ion-col",12),h.nc(13,N,43,10,"ion-col",13),h.Lb()),2&i){const i=h.Wb();h.xb(1),h.Zb("size",12),h.xb(4),h.Zb("ngIf",!i.views.info.edit),h.xb(1),h.Zb("ngIf",!i.views.info.edit),h.xb(1),h.Zb("ngIf",i.views.info.edit),h.xb(1),h.Zb("ngIf",i.showAddButton&&i.views.info.show&&!i.staticData.enable),h.xb(1),h.zb(i.views.info.show?"":"ion-hide"),h.xb(1),h.Zb("ngIf",!i.views.info.edit),h.xb(1),h.Zb("ngIf",i.showAddButton&&i.views.info.edit&&i.formDataInfo&&!i.staticData.enable),h.xb(1),h.Zb("ngIf",!i.views.info.edit),h.xb(1),h.Zb("ngIf",i.showAddButton&&!i.views.info.edit)}}const R=[{path:"",component:(()=>{class i{constructor(i,e,t,o,n){this.activateRoute=i,this.cursosService=e,this.globalSer=t,this.navCtrl=o,this.router=n,this.title="Cargando...",this.id=null,this.staticData=null,this.course=null,this.edit=!1,this.banner=null,this.totalsUsers=0,this.views={info:{show:!0,edit:!1,title:"Informaci\xf3n del curso",data:{title:null,description:null,toRoles:null,speaker:null,speakerPosition:null,level:null}},temary:{show:!1,title:"Temas",data:[]},publish:{show:!1,title:"Publicar curso",enable:!1}},this.formData={temary:{show:!1,title:"Temas del curso"},test:{show:!1,title:"Pruebas"}},this.showAddButton=!1,this.formDataInfo=null,this.cancelEditInfo=()=>{this.setShowEditInfo("info")},this.saveEditInfo=i=>{this.updateCourse(i)},this.showPreviewModal=i=>{this.modalPreviewTheme(i)},this.showEditTheme=(i,e=!1)=>{this.modalTheme(i,e)},this.showDeleteConfirmTheme=i=>{this.deleteThemeConfirm(i)},this.showEditQuestion=(i,e=null)=>{this.modalEditQuestion(i,e)},this.globalSer.checkSession()||this.router.navigate(["/ingresar"])}ngOnInit(){return Object(b.a)(this,void 0,void 0,function*(){this.showAddButton=this.globalSer.checkRoleToEnableAddOrUpdate(),this.id=this.activateRoute.snapshot.paramMap.get("id"),yield this.globalSer.presentLoading();const i=yield this.cursosService.getCourse(this.id);i&&!i.error?(this.staticData=Object.assign({},i),this.course=Object.assign({},this.staticData),this.views.publish.enable=this.course.enable,this.totalsUsers=this.course.totalsUsers||0,this.setDataToView("info",this.course),this.setDataToView("temary",this.course.temary),this.title="Detalles: "+this.course.title,yield this.globalSer.dismissLoading()):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}ionViewWillEnter(){return Object(b.a)(this,void 0,void 0,function*(){this.globalSer.checkSession()||this.router.navigate(["/ingresar"])})}back(){return Object(b.a)(this,void 0,void 0,function*(){yield this.navCtrl.back()})}updateCourse(i){return Object(b.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const e=yield this.cursosService.updateCourse("info",this.id,i);e&&!e.error?(this.staticData=Object.assign(Object.assign({},this.staticData),e),this.course=Object.assign({},this.staticData),this.setDataToView("info",e),this.views.info.edit=!1,this.title="Detalles: "+this.course.title,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha actualizado  la informaci\xf3n del curso exitosamente.")):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteCourse(){return Object(b.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.cursosService.deleteCourse(this.id);i&&!i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",i||"Se ha eliminado toda la informaci\xf3n del curso exitosamente."),this.back()):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteTheme(i){return Object(b.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const e=yield this.cursosService.deleteThemeCourse(this.id,i);e&&!e.error?(this.staticData.temary=this.staticData.temary.filter(e=>e._id!==i),this.course=this.staticData,this.setDataToView("temary",this.staticData.temary),this.setDataToView("test",this.staticData.temary),yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",e||"Se ha eliminado el tema y su contenido exitosamente.")):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}publishCourse(){return Object(b.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.cursosService.publishCourse(this.id);i&&!i.error?(this.staticData.enable=i.enable,this.course.enable=i.enable,this.views.publish.enable=i.enable,yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",i.enable?"Se ha publicado el curso exitosamente.":"Se ha retirado el curso de la secci\xf3n p\xfablica exitosamente.")):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}setShowView(i){this.views[i].show=!this.views[i].show}setShowEditInfo(i){this.views[i].edit?(this.formDataInfo=null,this.views[i].edit=!1):(this.formDataInfo=Object.assign({},this.views.info.data),this.views[i].edit=!0)}setDataToView(i,e=[]){"info"===i?Object.keys(this.views[i].data).forEach(t=>{this.views[i].data[t]="description"===t?Object(r.s)(e[t],!0):e[t]}):"temary"===i&&(this.views[i].data=e||[])}getRoles(i){return this.cursosService.getRoles(i)}confirmCourseDelete(){return Object(b.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({message:"\xbfEst\xe1 seguro qu\xe9 desea eliminar este curso?<br/><br/>\n        <b>NOTA:</b> Se eliminar\xe1 toda la informaci\xf3n registrada.<br/><br/>\n        <b><i>ESTA ACCI\xd3N ES IRREVERSIBLE</i></b>.",confirmAction:()=>this.deleteCourse()})})}modalTheme(i=null,e=!1){return Object(b.a)(this,void 0,void 0,function*(){const t=e=>{if(e){const t=this.views.temary.data.findIndex(e=>e._id===i);t>-1?(this.views.temary.data[t].title=e.title,this.views.temary.data[t].description=e.description,this.views.temary.data[t].urlVideo=e.urlVideo,this.views.temary.data[t].quiz=e.quiz):this.staticData.temary.push(e)}};if(i){const o=this.views.temary.data.find(e=>e._id===i);o?e?yield this.globalSer.loadModal(c.a,{data:{id:this.id,themeId:o._id,title:o.title,description:o.description,quiz:o.quiz}},!1,t):yield this.globalSer.loadModal(u.a,{id:this.id,themeId:i,title:o.title||null,description:o.description||null,urlVideo:o.urlVideo||null,quiz:o.quiz||null},!1,t):yield this.globalSer.presentAlert("Alerta","Disculpe, ha ocurrido un error al momento de obtener el tema a editar.")}else e?yield this.globalSer.loadModal(c.a,{data:{id:this.id,themeId:null,title:null,description:null,quiz:[]}},!1,t):yield this.globalSer.loadModal(u.a,{id:this.id,themeId:null,title:null,description:null,urlVideo:null,quiz:null},!1,t)})}modalPreviewTheme(i){return Object(b.a)(this,void 0,void 0,function*(){if(i){const e=this.views.temary.data.find(e=>e._id===i);e?e.quiz?yield this.globalSer.loadModal(d.a,{test:e.quiz,title:e.title,description:e.description},!1):yield this.globalSer.loadModal(a.a,{data:e},!1):yield this.globalSer.presentAlert("Alerta","Disculpe, ha ocurrido un error al momento de obtener el tema.")}else yield this.globalSer.presentAlert("Alerta","Disculpe, pero la acci\xf3n es inv\xe1lida.")})}deleteThemeConfirm(i){return Object(b.a)(this,void 0,void 0,function*(){let e=!0;-1===this.views.temary.data.findIndex(e=>e._id===i)&&(yield this.globalSer.presentAlert("Alerta","Disculpe, ha ocurrido un error al momento de obtener los datos."),e=!1),e&&(yield this.globalSer.alertConfirm({message:"\xbfEst\xe1 seguro qu\xe9 desea eliminar este tema?",confirmAction:()=>this.deleteTheme(i)}))})}modalEditQuestion(i,e=null){return Object(b.a)(this,void 0,void 0,function*(){const t={id:this.id,themeId:i,questionId:e,title:null,description:null,placeholder:null,extra:null,inputType:null,require:!0,values:[],correctAnswer:null};let o=!0;const n=this.views.test.data.findIndex(e=>e._id===i);let s=-1;n>-1?e&&(s=this.views.test.data[n].test.findIndex(i=>i._id===e),s>-1?(t.title=this.views.test.data[n].test[s].title,t.description=this.views.test.data[n].test[s].description,t.placeholder=this.views.test.data[n].test[s].placeholder,t.extra=this.views.test.data[n].test[s].extra,t.inputType=this.views.test.data[n].test[s].inputType,t.require=this.views.test.data[n].test[s].require,t.values=this.views.test.data[n].test[s].values,t.correctAnswer=this.views.test.data[n].test[s].correctAnswer):(yield this.globalSer.presentAlert("Alerta","Disculpe, ha ocurrido un error al momento de obtener la pregunta a editar."),o=!1)):(yield this.globalSer.presentAlert("Alerta","Disculpe, ha ocurrido un error al momento de obtener la informaci\xf3n."),o=!1),o&&(yield this.globalSer.loadModal(c.a,{data:t},!1,e=>{e&&(i?this.views.test.data[n].test[s]=e:this.views.temary.data.push(e))}))})}confirmPublish(){return Object(b.a)(this,void 0,void 0,function*(){const i=this.views.publish.enable?"\xbfEst\xe1 seguro qu\xe9 desea quitar este curso de la secci\xf3n p\xfablica?<br><br>NOTA: Si alg\xfan miembro agrega este curso a su lista, este no podr\xe1 ser modificado.":"\xbfEst\xe1 seguro qu\xe9 desea publicar este curso?<br><br>NOTA: Aseg\xfarese que el contenido del curso est\xe9 completo.";yield this.globalSer.alertConfirm({message:i,confirmAction:()=>this.publishCourse()})})}}return i.\u0275fac=function(e){return new(e||i)(h.Jb(l.a),h.Jb(p.a),h.Jb(f.a),h.Jb(s.U),h.Jb(l.g))},i.\u0275cmp=h.Db({type:i,selectors:[["app-detalles-curso"]],decls:8,vars:4,consts:[["slot","start",4,"ngIf"],["slot","end",4,"ngIf"],[4,"ngIf"],["slot","start"],[3,"click"],["name","arrow-back-outline"],["slot","end"],["color","danger",3,"click"],["name","trash-outline","slot","start"],[3,"size"],[1,"ion-no-padding","ion-no-margin"],["color","primary"],[3,"size",4,"ngIf"],["class","ion-margin-bottom ion-padding-bottom",3,"size",4,"ngIf"],[3,"name"],[3,"click",4,"ngIf"],["name","create-outline"],["size","12",1,"ion-text-center"],[1,"icon-courses",3,"src"],["size-sm","6",3,"size"],[1,"mini-title","no-selected-text"],[1,"title-or-description","ion-margin-bottom"],[1,"min-height-description"],[3,"innerHTML"],[3,"data","handleCancel","handleSave"],[3,"temary","enableActions","handlePreview","handleEditTheme","handleDeleteTheme",4,"ngIf","ngIfElse"],["noTemaries",""],["name","add-outline","slot","start"],[3,"temary","enableActions","handlePreview","handleEditTheme","handleDeleteTheme"],[1,"ion-text-center",3,"size"],["color","medium"],[1,"ion-margin-top","ion-padding-top","ion-text-center","no-selected-text"],["name","alert-circle-outline"],[1,"ion-margin-bottom","ion-padding-bottom",3,"size"],[1,"ion-align-items-center"],["size","12",1,"ion-margin-top"],["size","12",1,"ion-margin-top","ion-padding-top","ion-text-center"],["size","large",3,"color","click"],["name","alert-circle-outline","slot","start",4,"ngIf"],["name","earth-outline","slot","start",4,"ngIf"],["name","alert-circle-outline","slot","start"],["name","earth-outline","slot","start"]],template:function(i,e){1&i&&(h.Mb(0,"ion-header"),h.Mb(1,"ion-toolbar"),h.nc(2,q,3,0,"ion-buttons",0),h.Mb(3,"ion-title"),h.pc(4),h.Lb(),h.nc(5,z,5,0,"ion-buttons",1),h.Lb(),h.Lb(),h.Mb(6,"ion-content"),h.nc(7,j,14,12,"ion-row",2),h.Lb()),2&i&&(h.xb(2),h.Zb("ngIf",!e.views.info.edit),h.xb(2),h.qc(e.title),h.xb(1),h.Zb("ngIf",e.showAddButton&&e.staticData&&!e.views.info.edit&&!e.staticData.enable),h.xb(2),h.Zb("ngIf",e.staticData))},directives:[s.r,s.P,o.i,s.N,s.o,s.f,s.e,s.s,s.K,s.E,s.n,s.g,s.i,s.h,M,I],styles:[".mini-title[_ngcontent-%COMP%]{font-size:.9em!important;font-weight:700}.h-100[_ngcontent-%COMP%]{height:100%!important}.big-number[_ngcontent-%COMP%]{font-size:4em!important}.title-or-description[_ngcontent-%COMP%]{font-size:1.2em!important}.icon-courses[_ngcontent-%COMP%]{width:100%!important;height:200px!important;margin:0 auto!important}.min-height-description[_ngcontent-%COMP%]{max-height:250px!important;overflow:auto}"]}),i})()},{path:"modal-editar-contenido",loadChildren:()=>t.e(41).then(t.bind(null,"pHo5")).then(i=>i.ModalEditarContenidoPageModule)},{path:"modal-preview-tema",loadChildren:()=>t.e(44).then(t.bind(null,"YjHY")).then(i=>i.ModalPreviewTemaPageModule)},{path:"modal-editar-pregunta",loadChildren:()=>t.e(42).then(t.bind(null,"iUDc")).then(i=>i.ModalEditarPreguntaPageModule)},{path:"modal-preview-prueba",loadChildren:()=>t.e(43).then(t.bind(null,"UW5/")).then(i=>i.ModalPreviewPruebaPageModule)}];let _=(()=>{class i{}return i.\u0275mod=h.Hb({type:i}),i.\u0275inj=h.Gb({factory:function(e){return new(e||i)},imports:[[l.j.forChild(R)],l.j]}),i})();var F=t("j1ZV");let Q=(()=>{class i{}return i.\u0275mod=h.Hb({type:i}),i.\u0275inj=h.Gb({factory:function(e){return new(e||i)},imports:[[o.b,n.a,s.Q,_,F.a]]}),i})()},xGAF:function(i,e,t){"use strict";t.d(e,"a",function(){return D});var o=t("mrSG"),n=t("+z1p"),s=t("fXoL"),l=t("4WDQ"),b=t("TEn/"),r=t("BpEJ"),a=t("3Pt+"),c=t("zioG"),d=t("ofXK");function u(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-col",9),s.Mb(1,"ion-item"),s.Mb(2,"ion-label",10),s.pc(3,"Mensaje de la caja (opcional)"),s.Lb(),s.Mb(4,"ion-input",34),s.Ub("ngModelChange",function(e){s.ic(i);const t=s.Wb().index;return s.Wb(2).quiz[t].placeholder=e}),s.Lb(),s.Lb(),s.Lb()}if(2&i){const i=s.Wb().index,e=s.Wb(2);s.xb(4),s.Zb("ngModel",e.quiz[i].placeholder)}}function h(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-chip"),s.Mb(1,"ion-label"),s.pc(2),s.Lb(),s.Mb(3,"ion-icon",39),s.Ub("click",function(){s.ic(i);const t=e.index,o=s.Wb(2).index;return s.Wb(2).removeValueOfList(o,t)}),s.Lb(),s.Lb()}if(2&i){const i=e.$implicit;s.xb(2),s.rc(" ",i," ")}}function p(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-col",9),s.Mb(1,"ion-row",30),s.Mb(2,"ion-col",22),s.Mb(3,"ion-item"),s.Mb(4,"ion-label",10),s.pc(5,"Respuestas (*)"),s.Lb(),s.Mb(6,"ion-input",35),s.Ub("ngModelChange",function(e){return s.ic(i),s.Wb(3).word=e})("keyup.enter",function(){s.ic(i);const e=s.Wb().index;return s.Wb(2).addValuesInList(e)}),s.Lb(),s.Lb(),s.Mb(7,"p",36),s.pc(8),s.Lb(),s.Mb(9,"p",37),s.Mb(10,"i"),s.pc(11,"Presiona ENTER para agregar."),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"ion-col",22),s.nc(13,h,4,1,"ion-chip",38),s.Lb(),s.Lb(),s.Lb()}if(2&i){const i=s.Wb().$implicit,e=s.Wb(2);s.xb(2),s.Zb("size",12),s.xb(4),s.Zb("disabled",i.values.length>=5)("ngModel",e.word),s.xb(2),s.rc("",e.word?e.word.length:0,"/50 caracteres."),s.xb(4),s.Zb("size",12),s.xb(1),s.Zb("ngForOf",i.values)}}function f(i,e){if(1&i&&(s.Mb(0,"ion-select-option",42),s.pc(1),s.Lb()),2&i){const i=e.$implicit;s.Zb("value",e.index),s.xb(1),s.qc(i)}}function m(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-col",9),s.Mb(1,"ion-item"),s.Mb(2,"ion-label",10),s.pc(3,"Respuesta correcta (*)"),s.Lb(),s.Mb(4,"ion-select",40),s.Ub("ngModelChange",function(e){s.ic(i);const t=s.Wb().index;return s.Wb(2).quiz[t].correctAnswer=e}),s.nc(5,f,2,2,"ion-select-option",41),s.Lb(),s.Lb(),s.Lb()}if(2&i){const i=s.Wb(),e=i.index,t=i.$implicit,o=s.Wb(2);s.xb(4),s.Zb("ngModel",o.quiz[e].correctAnswer),s.xb(1),s.Zb("ngForOf",t.values)}}function g(i,e){if(1&i&&(s.Mb(0,"ion-text",15),s.Mb(1,"p"),s.pc(2),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.xb(2),s.qc(i.description)}}function M(i,e){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-item"),s.Mb(2,"ion-label",10),s.pc(3),s.Lb(),s.Kb(4,"ion-input",43),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.xb(3),s.qc(i.placeholder||"Indique su respuesta"),s.xb(1),s.Zb("required",i.require)}}function L(i,e){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-item"),s.Mb(2,"ion-label",10),s.pc(3),s.Lb(),s.Kb(4,"ion-textarea",44),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.xb(3),s.qc(i.placeholder||"Indique su respuesta"),s.xb(1),s.Zb("required",i.require)}}function v(i,e){if(1&i&&(s.Mb(0,"ion-list"),s.Mb(1,"ion-item"),s.Kb(2,"ion-radio",45),s.Mb(3,"ion-text"),s.pc(4),s.Lb(),s.Lb(),s.Lb()),2&i){const i=e.$implicit,t=e.index;s.xb(2),s.ac("value",t),s.xb(2),s.qc(i)}}function x(i,e){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-radio-group"),s.nc(2,v,5,2,"ion-list",38),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.xb(2),s.Zb("ngForOf",i.values)}}function w(i,e){if(1&i&&(s.Mb(0,"ion-item"),s.Kb(1,"ion-checkbox",0),s.Mb(2,"ion-text"),s.pc(3),s.Lb(),s.Lb()),2&i){const i=e.$implicit;s.xb(3),s.qc(i)}}function y(i,e){if(1&i&&(s.Mb(0,"div"),s.Mb(1,"ion-list"),s.nc(2,w,4,1,"ion-item",38),s.Lb(),s.Lb()),2&i){const i=s.Wb().$implicit;s.xb(2),s.Zb("ngForOf",i.values)}}function S(i,e){1&i&&(s.Mb(0,"ion-text"),s.Mb(1,"i"),s.pc(2,"(*) Obligatoria "),s.Lb(),s.Lb())}const I=function(){return["text","textarea"]};function q(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-col",22),s.Mb(1,"ion-card"),s.Mb(2,"ion-card-header",6),s.Mb(3,"ion-toolbar",7),s.Mb(4,"ion-buttons",0),s.Mb(5,"ion-button",4),s.Ub("click",function(){s.ic(i);const t=e.index;return s.Wb(2).setShowView(t)}),s.Kb(6,"ion-icon",8),s.Lb(),s.Lb(),s.Mb(7,"ion-title"),s.pc(8),s.Lb(),s.Mb(9,"ion-buttons",1),s.Mb(10,"ion-button",4),s.Ub("click",function(){s.ic(i);const t=e.index;return s.Wb(2).removeItem(t)}),s.Kb(11,"ion-icon",5),s.Mb(12,"ion-text"),s.pc(13,"Quitar"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(14,"ion-card-content"),s.Mb(15,"ion-row"),s.Mb(16,"ion-col",22),s.Mb(17,"ion-row"),s.Mb(18,"ion-col",22),s.Mb(19,"ion-label"),s.Kb(20,"ion-icon",23),s.pc(21,"\xa0 "),s.Mb(22,"ion-text"),s.Mb(23,"b"),s.pc(24,"Generador de pregunta"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"ion-card",24),s.Mb(26,"ion-card-content",24),s.Mb(27,"ion-row"),s.Mb(28,"ion-col",9),s.Mb(29,"ion-item"),s.Mb(30,"ion-label",10),s.pc(31,"T\xedtulo de la pregunta (*)"),s.Lb(),s.Mb(32,"ion-input",25),s.Ub("ngModelChange",function(t){s.ic(i);const o=e.index;return s.Wb(2).quiz[o].title=t}),s.Lb(),s.Lb(),s.Lb(),s.Mb(33,"ion-col",9),s.Mb(34,"ion-item"),s.Mb(35,"ion-label",10),s.pc(36,"Descripci\xf3n"),s.Lb(),s.Mb(37,"ion-textarea",26),s.Ub("ngModelChange",function(t){s.ic(i);const o=e.index;return s.Wb(2).quiz[o].description=t}),s.Lb(),s.Lb(),s.Lb(),s.Mb(38,"ion-col",9),s.Mb(39,"ion-item"),s.Mb(40,"ion-label",10),s.pc(41,"Tipo de campo (*)"),s.Lb(),s.Mb(42,"ion-input",27),s.Ub("click",function(){s.ic(i);const t=e.index;return s.Wb(2).showInputsListAlert(t)}),s.Lb(),s.Lb(),s.Lb(),s.nc(43,u,5,1,"ion-col",28),s.nc(44,p,14,6,"ion-col",28),s.nc(45,m,6,2,"ion-col",28),s.Mb(46,"ion-col",9),s.Mb(47,"ion-item"),s.Mb(48,"ion-label",10),s.pc(49,"\xbfRespuesta obligatoria?"),s.Lb(),s.Mb(50,"ion-input",27),s.Ub("click",function(){s.ic(i);const t=e.index;return s.Wb(2).showRequireAlert(t)}),s.Lb(),s.Lb(),s.Lb(),s.Mb(51,"ion-col",13),s.Mb(52,"ion-text",14),s.Mb(53,"i",15),s.pc(54,"(*) Campos requeridos."),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(55,"ion-col",29),s.Mb(56,"ion-row",30),s.Mb(57,"ion-col",22),s.Mb(58,"ion-label"),s.Kb(59,"ion-icon",31),s.pc(60,"\xa0 "),s.Mb(61,"ion-text"),s.Mb(62,"b"),s.pc(63,"Previsualizaci\xf3n"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(64,"ion-card"),s.Mb(65,"ion-card-header"),s.Mb(66,"ion-card-title"),s.pc(67),s.Lb(),s.Lb(),s.Mb(68,"ion-card-content"),s.nc(69,g,3,1,"ion-text",32),s.nc(70,M,5,2,"div",33),s.nc(71,L,5,2,"div",33),s.nc(72,x,3,1,"div",33),s.nc(73,y,3,1,"div",33),s.nc(74,S,3,0,"ion-text",33),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&i){const i=e.$implicit,t=e.index,o=s.Wb(2);s.Zb("size",12),s.xb(6),s.bc("name","chevron-",o.quizViews[t]?"up":"down","-outline"),s.xb(2),s.rc(" ",i.title||"T\xedtulo no indicado"," "),s.xb(6),s.Ab("",o.quizViews[t]?"":"ion-hide"," ion-no-padding"),s.xb(2),s.Zb("size",6),s.xb(2),s.Zb("size",12),s.xb(14),s.Zb("ngModel",o.quiz[t].title),s.xb(5),s.Zb("ngModel",o.quiz[t].description),s.xb(5),s.Zb("readonly",!0)("value",o.getInputTypeLabel(i.inputType)),s.xb(1),s.Zb("ngIf",i.inputType&&s.dc(26,I).indexOf(i.inputType)>-1),s.xb(1),s.Zb("ngIf",i.inputType&&-1===s.dc(27,I).indexOf(i.inputType)),s.xb(1),s.Zb("ngIf",i.inputType&&-1===s.dc(28,I).indexOf(i.inputType)),s.xb(5),s.Zb("readonly",!0)("value",i.require?"Si":"No"),s.xb(5),s.Zb("size",6),s.xb(2),s.Zb("size",12),s.xb(10),s.qc(i.title||"Sin t\xedtulo"),s.xb(2),s.Zb("ngIf",i.description),s.xb(1),s.Zb("ngIf","text"===i.inputType),s.xb(1),s.Zb("ngIf","textarea"===i.inputType),s.xb(1),s.Zb("ngIf","radio"===i.inputType),s.xb(1),s.Zb("ngIf","checkbox"===i.inputType),s.xb(1),s.Zb("ngIf",i.require)}}function z(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-row"),s.Mb(1,"ion-col",18),s.Mb(2,"ion-button",19),s.Ub("click",function(){return s.ic(i),s.Wb().addItem()}),s.Kb(3,"ion-icon",20),s.Mb(4,"ion-text"),s.pc(5,"Agregar pregunta"),s.Lb(),s.Lb(),s.Lb(),s.nc(6,q,75,29,"ion-col",21),s.Lb()}if(2&i){const i=s.Wb();s.xb(6),s.Zb("ngForOf",i.quiz)}}function C(i,e){if(1&i){const i=s.Nb();s.Mb(0,"ion-row"),s.Mb(1,"ion-col",46),s.Mb(2,"ion-card"),s.Mb(3,"ion-card-content"),s.Mb(4,"ion-text",14),s.Mb(5,"p",47),s.Kb(6,"ion-icon",48),s.pc(7," Agregue preguntas para el Quiz. "),s.Lb(),s.Lb(),s.Mb(8,"ion-button",19),s.Ub("click",function(){return s.ic(i),s.Wb().addItem()}),s.Kb(9,"ion-icon",20),s.Mb(10,"ion-text"),s.pc(11,"Agregar pregunta"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()}2&i&&(s.xb(1),s.Zb("size",12))}let D=(()=>{class i{constructor(i,e,t){this.globalSer=i,this.modalCtrl=e,this.cursosService=t,this.id=null,this.themeId=null,this.quiz=[],this.quizViews=[],this.showInfoForm=!0,this.titleModal="Agregar Quiz",this.inputsList=[],this.word=null,this.Editor=n,this.configEditor=null,this.formData={title:null,description:null},this.inputsList=this.cursosService.inputTypeList,this.configEditor=this.globalSer.configEditor}ngOnInit(){this.data&&(this.data.title&&(this.titleModal="Editar: "+this.data.title),this.formData.title=this.data.title,this.formData.description=this.data.description,this.id=this.data.id,this.themeId=this.data.themeId,this.quiz=[...this.data.quiz]||!1,this.quiz.length>0&&this.quiz.forEach(i=>{this.quizViews.push(!1)}))}closeModal(i=null){this.modalCtrl.dismiss(i)}confirmCloseModal(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 cerrar la ventana?<br><br>NOTA: Todos los cambios se perder\xe1n.",confirmAction:()=>this.closeModal()})})}setShowView(i){this.quizViews[i]=!this.quizViews[i]}setShowInfoView(){this.showInfoForm=!this.showInfoForm}addItem(){this.quiz.push({title:null,description:null,placeholder:null,extra:null,inputType:null,require:!0,values:[],correctAnswer:null}),this.quizViews.push(!0)}removeItem(i){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"Confirme",message:"\xbfEst\xe1 seguro qu\xe9 desea quitar esta pregunta?",confirmAction:()=>{this.quiz.splice(i,1),this.quizViews.splice(i,1)}})})}addQuestion(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i={title:this.formData.title,description:this.formData.description,urlVideo:null,quiz:this.quiz},e=yield this.cursosService.createThemeCourse(this.id,i);e&&!e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha agregado el Quiz exitosamente."),this.closeModal(e)):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}updateQuestion(){return Object(o.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i={title:this.formData.title,description:this.formData.description,urlVideo:null,quiz:this.quiz},e=yield this.cursosService.updateThemeCourse(this.id,this.themeId,i);e&&!e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!","Se ha actualizado el Quiz exitosamente."),this.closeModal(e)):e&&e.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}getInputTypeLabel(i){if(!i)return null;const e=this.inputsList.find(e=>e.val===i);return e?e.label:null}addValuesInList(i){this.word&&this.quiz[i].values.push(this.word),this.word=null}removeValueOfList(i,e){this.quiz[i]&&(this.quiz[i].values.splice(e,1),this.quiz[i].correctAnswer=null),this.word=null}enableButtonSave(){let i=0;return[null,""].indexOf(this.formData.title)>-1&&(i+=1),0===this.quiz.length&&(i+=1),i>0}showInputsListAlert(i){return Object(o.a)(this,void 0,void 0,function*(){const e=[];for(const t of this.inputsList)e.push({name:"input-type",type:"radio",label:t.label,value:t.val,checked:this.quiz[i].inputType===t.val});yield this.globalSer.alertWithList({header:"Tipo de campo",inputs:e,confirmAction:e=>{["text","textarea"].indexOf(e)>-1&&(this.quiz[i].values=[],this.quiz[i].placeholder=null,this.quiz[i].correctAnswer=null),this.quiz[i].inputType=e}})})}showRequireAlert(i){return Object(o.a)(this,void 0,void 0,function*(){const e=[];for(const i of[!0,!1])e.push({name:"require",type:"radio",label:i?"Si":"No",value:i,checked:i===this.formData.require});yield this.globalSer.alertWithList({header:"\xbfRespuesta obligatoria?",inputs:e,confirmAction:e=>{this.quiz[i].require=e}})})}confirmEdit(){return Object(o.a)(this,void 0,void 0,function*(){const i=this.cursosService.validationEdit("question",Object.assign(Object.assign({},this.formData),{quiz:this.quiz}));i?yield this.globalSer.presentAlert("Alerta",i||"Disculpe, pero debe completar el formulario."):yield this.globalSer.alertConfirm({header:"Confirme",message:`\xbfEst\xe1 seguro qu\xe9 desea ${this.themeId?"actualizar":"agregar"} este Quiz?`,confirmAction:()=>{this.themeId?this.updateQuestion():this.addQuestion()}})})}}return i.\u0275fac=function(e){return new(e||i)(s.Jb(l.a),s.Jb(b.T),s.Jb(r.a))},i.\u0275cmp=s.Db({type:i,selectors:[["app-modal-editar-pregunta"]],inputs:{data:"data"},decls:40,vars:12,consts:[["slot","start"],["slot","end"],["color","primary",3,"disabled","click"],["name","save-outline","slot","start"],[3,"click"],["name","close-outline","slot","start"],[1,"ion-no-padding","ion-no-margin"],["color","primary"],[3,"name"],["size","12"],["position","floating","color","medium"],["maxlength","30",1,"ion-text-uppercase",3,"ngModel","ngModelChange"],[3,"ngModel","editor","config","ngModelChange"],["size","12",1,"ion-margin-top"],["color","medium"],[1,"toSmall"],[4,"ngIf","ngIfElse"],["noQuiz",""],["size","12",1,"ion-text-end"],["color","medium",3,"click"],["name","add-outline","slot","start"],[3,"size",4,"ngFor","ngForOf"],[3,"size"],["name","settings-outline","slot","start"],[1,"ion-no-padding"],["maxlength","100",3,"ngModel","ngModelChange"],["rows","4","cols","20","placeholder","Ingresa alguna descripci\xf3n para la pregunta (opcional)...","maxlength","150",3,"ngModel","ngModelChange"],["autocomplete","off",1,"no-selected-text",3,"readonly","value","click"],["size","12",4,"ngIf"],[1,"ion-align-items-center",3,"size"],[1,"ion-align-items-center"],["name","eye-outline","slot","start"],["class","toSmall",4,"ngIf"],[4,"ngIf"],["maxlength","60",3,"ngModel","ngModelChange"],["maxlength","50",3,"disabled","ngModel","ngModelChange","keyup.enter"],[1,"ion-text-end"],[1,"ion-text-end","toSmall"],[4,"ngFor","ngForOf"],["name","close",3,"click"],["interface","alert","placeholder","Selecciona una",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"required"],["rows","4","cols","20",3,"required"],["slot","start",3,"value"],[1,"ion-text-center",3,"size"],[1,"ion-text-center","no-selected-text"],["name","alert-circle-outline"]],template:function(i,e){if(1&i&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Kb(2,"ion-buttons",0),s.Mb(3,"ion-title"),s.pc(4),s.Lb(),s.Mb(5,"ion-buttons",1),s.Mb(6,"ion-button",2),s.Ub("click",function(){return e.confirmEdit()}),s.Kb(7,"ion-icon",3),s.Mb(8,"ion-text"),s.pc(9,"Guardar"),s.Lb(),s.Lb(),s.Mb(10,"ion-button",4),s.Ub("click",function(){return e.confirmCloseModal()}),s.Kb(11,"ion-icon",5),s.Mb(12,"ion-text"),s.pc(13,"Cancelar"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(14,"ion-content"),s.Mb(15,"ion-card"),s.Mb(16,"ion-card-header",6),s.Mb(17,"ion-toolbar",7),s.Mb(18,"ion-buttons",0),s.Mb(19,"ion-button",4),s.Ub("click",function(){return e.setShowInfoView()}),s.Kb(20,"ion-icon",8),s.Lb(),s.Lb(),s.Mb(21,"ion-title"),s.pc(22," T\xedtulo y descripci\xf3n "),s.Lb(),s.Lb(),s.Lb(),s.Mb(23,"ion-card-content"),s.Mb(24,"ion-row"),s.Mb(25,"ion-col",9),s.Mb(26,"ion-item"),s.Mb(27,"ion-label",10),s.pc(28,"T\xedtulo para el Quiz (*)"),s.Lb(),s.Mb(29,"ion-input",11),s.Ub("ngModelChange",function(i){return e.formData.title=i}),s.Lb(),s.Lb(),s.Lb(),s.Mb(30,"ion-col",9),s.Mb(31,"ckeditor",12),s.Ub("ngModelChange",function(i){return e.formData.description=i}),s.Lb(),s.Lb(),s.Mb(32,"ion-col",13),s.Mb(33,"ion-text",14),s.Mb(34,"i",15),s.pc(35,"(*) Campos requeridos."),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.nc(36,z,7,1,"ion-row",16),s.nc(37,C,12,1,"ng-template",null,17,s.oc),s.Kb(39,"br"),s.Lb()),2&i){const i=s.hc(38);s.xb(4),s.qc(e.titleModal),s.xb(2),s.Zb("disabled",e.enableButtonSave()),s.xb(14),s.bc("name","chevron-",e.showInfoForm?"up":"down","-outline"),s.xb(3),s.Ab("",e.showInfoForm?"":"ion-hide"," ion-no-padding"),s.xb(6),s.Zb("ngModel",e.formData.title),s.xb(2),s.Zb("ngModel",e.formData.description)("editor",e.Editor)("config",e.configEditor),s.xb(5),s.Zb("ngIf",e.quiz&&e.quiz.length>0)("ngIfElse",i)}},directives:[b.r,b.P,b.f,b.N,b.e,b.s,b.K,b.o,b.g,b.i,b.h,b.E,b.n,b.v,b.w,b.u,b.Y,a.b,a.e,a.f,c.a,d.i,d.h,b.L,b.k,b.m,b.G,b.X,b.H,b.C,b.x,b.B,b.V,b.l,b.b],styles:["[_nghost-%COMP%]     .ck-editor__editable_inline{min-height:200px;color:#333!important}"]}),i})()}}]);