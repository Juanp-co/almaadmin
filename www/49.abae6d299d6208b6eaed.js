(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"+IIn":function(i,o,t){"use strict";t.r(o),t.d(o,"DetallesPageModule",function(){return Z});var n=t("ofXK"),e=t("3Pt+"),c=t("TEn/"),r=t("tyNb"),s=t("mrSG"),b=t("fXoL"),a=t("QTu/"),l=t("4WDQ"),h=t("EOe0"),d=t("2+X9"),u=t("R0P4");function g(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-buttons",4),b.Mb(1,"ion-button",5),b.Ub("click",function(){return b.ic(i),b.Wb().back()}),b.Kb(2,"ion-icon",6),b.Lb(),b.Lb()}}function m(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-button",11),b.Ub("click",function(){return b.ic(i),b.Wb(2).setShowEditForm()}),b.Kb(1,"ion-icon",12),b.Mb(2,"ion-text"),b.pc(3,"Cancelar"),b.Lb(),b.Lb()}}function f(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-button",13),b.Ub("click",function(){return b.ic(i),b.Wb(2).setShowEditForm()}),b.Kb(1,"ion-icon",14),b.Mb(2,"ion-text"),b.pc(3,"Editar"),b.Lb(),b.Lb()}}function p(i,o){if(1&i){const i=b.Nb();b.Mb(0,"ion-button",15),b.Ub("click",function(){return b.ic(i),b.Wb(2).confirmDeleteAction()}),b.Kb(1,"ion-icon",16),b.Mb(2,"ion-text"),b.pc(3,"Eliminar"),b.Lb(),b.Lb()}}function L(i,o){if(1&i&&(b.Mb(0,"ion-buttons",7),b.nc(1,m,4,0,"ion-button",8),b.nc(2,f,4,0,"ion-button",9),b.nc(3,p,4,0,"ion-button",10),b.Lb()),2&i){const i=b.Wb();b.xb(1),b.Zb("ngIf",i.showEditForm),b.xb(1),b.Zb("ngIf",!i.showEditForm),b.xb(1),b.Zb("ngIf",!i.showEditForm&&"624a357644f15f3ce8200c2f"!==i.id)}}const M=function(i){return{height:"300px","background-image":i}};function S(i,o){if(1&i&&b.Kb(0,"div",26),2&i){const i=b.Wb(2);b.Zb("ngStyle",b.ec(1,M,"url("+i.church.picture+"), url(/assets/cruz.png)"))}}const y=function(){return{height:"300px","background-image":"url(/assets/cruz.png)"}};function x(i,o){1&i&&b.Kb(0,"div",26),2&i&&b.Zb("ngStyle",b.dc(1,y))}function w(i,o){if(1&i&&(b.Mb(0,"ion-row",17),b.Mb(1,"ion-col",18),b.nc(2,S,1,3,"div",19),b.nc(3,x,1,2,"div",19),b.Lb(),b.Mb(4,"ion-col",18),b.Mb(5,"ion-row"),b.Mb(6,"ion-col",20),b.Mb(7,"ion-row"),b.Mb(8,"ion-col",18),b.Mb(9,"ion-text",21),b.Mb(10,"h2"),b.pc(11),b.Lb(),b.Lb(),b.Lb(),b.Mb(12,"ion-col",18),b.Mb(13,"ion-text",22),b.Mb(14,"b"),b.pc(15,"Tel\xe9fono(s):"),b.Lb(),b.Lb(),b.Lb(),b.Mb(16,"ion-col",18),b.Mb(17,"ion-text",22),b.pc(18),b.Lb(),b.Lb(),b.Mb(19,"ion-col",18),b.Mb(20,"ion-text",22),b.Mb(21,"b"),b.pc(22,"Resumen:"),b.Lb(),b.Lb(),b.Lb(),b.Mb(23,"ion-col",18),b.Mb(24,"ion-text",22),b.pc(25),b.Lb(),b.Lb(),b.Mb(26,"ion-col",18),b.Mb(27,"ion-text",22),b.Mb(28,"b"),b.pc(29,"Direcci\xf3n:"),b.Lb(),b.Lb(),b.Lb(),b.Mb(30,"ion-col",18),b.Mb(31,"ion-text",22),b.pc(32),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Mb(33,"ion-col",23),b.Mb(34,"ion-row"),b.Mb(35,"ion-col",18),b.Mb(36,"ion-text",22),b.Mb(37,"b"),b.pc(38,"Ubicaci\xf3n:"),b.Lb(),b.Lb(),b.Lb(),b.Mb(39,"ion-col"),b.Mb(40,"div",24),b.Kb(41,"app-map",25),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb()),2&i){const i=b.Wb();b.xb(2),b.Zb("ngIf",i.church.picture),b.xb(1),b.Zb("ngIf",!i.church.picture),b.xb(3),b.Zb("sizeSm",8),b.xb(5),b.qc(i.church.name||"????"),b.xb(7),b.sc("",i.church.phone1||"No indicado","",i.church.phone2?" - "+i.church.phone2:"",""),b.xb(7),b.qc((null==i.church?null:i.church.description)||"No indicado."),b.xb(7),b.qc(i.church.address||"No indicado"),b.xb(9),b.Zb("coords",i.getParamsToMap())("height","100%")("zoom",13)}}function v(i,o){if(1&i&&b.Kb(0,"app-iglesias-form",27),2&i){const i=b.Wb();b.Zb("data",i.church)("handleCancel",i.handleCancel)("handleSave",i.handleSubmit)}}function k(i,o){1&i&&b.Kb(0,"ion-row",17)}function E(i,o){1&i&&(b.Mb(0,"ion-row",17),b.Mb(1,"ion-col",18),b.Mb(2,"ion-card",28),b.Mb(3,"ion-card-content"),b.Mb(4,"ion-row"),b.Mb(5,"ion-col",29),b.Mb(6,"ion-text"),b.Mb(7,"p"),b.Kb(8,"ion-icon",30),b.pc(9," Disculpe, pero no se logr\xf3 obtener la informaci\xf3n de la iglesia."),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb(),b.Lb())}const I=[{path:"",component:(()=>{class i{constructor(i,o,t,n,e){this.activateRoute=i,this.cookieService=o,this.globalSer=t,this.iglesiasService=n,this.navCtrl=e,this.id=null,this.church=null,this.title="Cargando ...",this.showEditForm=!1,this.handleCancel=()=>this.setShowEditForm(),this.handleSubmit=i=>this.updateData(i)}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading(),this.id=this.activateRoute.snapshot.paramMap.get("id");const i=yield this.iglesiasService.getChurch(this.id);i&&!i.error?(this.church=i,this.title=i.name,yield this.globalSer.dismissLoading()):i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}updateData(i){return Object(s.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const o=yield this.iglesiasService.updateChurch(this.id,i);if(o&&!o.error){this.church=Object.assign(Object.assign({},this.church),o.church);const i=yield this.cookieService.getCookie("churches"),t=i.findIndex(i=>i._id===this.id);t>-1?i[t]=Object.assign(Object.assign({},i[t]),{name:o.church.name}):i.push(o.church),yield this.cookieService.setCookie("churches",i),yield this.globalSer.dismissLoading(),this.setShowEditForm(),yield this.globalSer.presentAlert("\xa1\xc9xito!",o.msg||"Se ha actualizado la informaci\xf3n de la iglesia exitosamente.")}else o&&o.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}deleteData(){return Object(s.a)(this,void 0,void 0,function*(){yield this.globalSer.presentLoading();const i=yield this.iglesiasService.removeChurch(this.id);if(i&&!i.error){const o=(yield this.cookieService.getCookie("churches")).filter(i=>i._id!==this.id);yield this.cookieService.setCookie("churches",o),yield this.globalSer.dismissLoading(),yield this.globalSer.presentAlert("\xa1\xc9xito!",i.msg||"Se ha eliminado la iglesia exitosamente."),this.back()}else i&&i.error?(yield this.globalSer.dismissLoading(),yield this.globalSer.errorSession()):yield this.globalSer.dismissLoading()})}back(){return Object(s.a)(this,void 0,void 0,function*(){yield this.navCtrl.back()})}setShowEditForm(){this.showEditForm=!this.showEditForm}getParamsToMap(){return[{type:"Feature",geometry:this.church.location}]}confirmDeleteAction(){return Object(s.a)(this,void 0,void 0,function*(){yield this.globalSer.alertConfirm({header:"\xa1Confirme!",message:"\xbfEst\xe1 seguro qu\xe9 desea esta iglesia?<br><br>NOTA: Todos los miembros asociados a esta iglesia ser\xe1n asignados a la iglesia principal.",confirmAction:()=>this.deleteData()})})}}return i.\u0275fac=function(o){return new(o||i)(b.Jb(r.a),b.Jb(a.a),b.Jb(l.a),b.Jb(h.a),b.Jb(c.U))},i.\u0275cmp=b.Db({type:i,selectors:[["app-detalles"]],decls:11,vars:7,consts:[["slot","start",4,"ngIf"],["slot","end",4,"ngIf"],["class","ion-margin",4,"ngIf"],[3,"data","handleCancel","handleSave",4,"ngIf"],["slot","start"],[3,"click"],["name","arrow-back-outline"],["slot","end"],["color","medium",3,"click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["color","danger",3,"click",4,"ngIf"],["color","medium",3,"click"],["name","close-outline","slot","start"],["color","primary",3,"click"],["name","create-outline","slot","start"],["color","danger",3,"click"],["name","trash-outline","slot","start"],[1,"ion-margin"],["size","12"],["class","img-church-card",3,"ngStyle",4,"ngIf"],["size","12",3,"sizeSm"],["color","primary"],["color","medium"],["size","12","size-sm","4"],[1,"div-map"],[3,"coords","height","zoom"],[1,"img-church-card",3,"ngStyle"],[3,"data","handleCancel","handleSave"],[1,"ion-no-margin","ion-no-padding"],["size","12",1,"ion-text-center"],["name","alert-circle-outline"]],template:function(i,o){1&i&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.nc(2,g,3,0,"ion-buttons",0),b.Mb(3,"ion-title"),b.pc(4),b.Lb(),b.nc(5,L,4,3,"ion-buttons",1),b.Lb(),b.Lb(),b.Mb(6,"ion-content"),b.nc(7,w,42,11,"ion-row",2),b.nc(8,v,1,3,"app-iglesias-form",3),b.nc(9,k,1,0,"ion-row",2),b.nc(10,E,10,0,"ion-row",2),b.Lb()),2&i&&(b.xb(2),b.Zb("ngIf",!o.showEditForm),b.xb(2),b.qc(o.showEditForm?"Editar iglesia":o.title),b.xb(1),b.Zb("ngIf",o.church),b.xb(2),b.Zb("ngIf",o.church&&!o.showEditForm),b.xb(1),b.Zb("ngIf",o.church&&o.showEditForm),b.xb(1),b.Zb("ngIf",o.church&&!o.showEditForm),b.xb(1),b.Zb("ngIf",!o.church&&!o.showEditForm))},directives:[c.r,c.P,n.i,c.N,c.o,c.f,c.e,c.s,c.K,c.E,c.n,d.a,n.j,u.a,c.g,c.h],styles:[".img-church-card[_ngcontent-%COMP%]{height:160px;width:100%;border-radius:5px;background-repeat:no-repeat;background-size:contain!important;background-position:50%!important;margin:0 auto}"]}),i})()}];let C=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[r.j.forChild(I)],r.j]}),i})();var F=t("j1ZV");let Z=(()=>{class i{}return i.\u0275mod=b.Hb({type:i}),i.\u0275inj=b.Gb({factory:function(o){return new(o||i)},imports:[[n.b,e.a,c.Q,C,F.a]]}),i})()}}]);